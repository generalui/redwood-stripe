var Bv=Object.create;var fs=Object.defineProperty,Uv=Object.defineProperties,Gv=Object.getOwnPropertyDescriptor,Wv=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertyNames,Rn=Object.getOwnPropertySymbols,Kv=Object.getPrototypeOf,po=Object.prototype.hasOwnProperty,Rl=Object.prototype.propertyIsEnumerable;var Al=(e,t,r)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G=(e,t)=>{for(var r in t||(t={}))po.call(t,r)&&Al(e,r,t[r]);if(Rn)for(var r of Rn(t))Rl.call(t,r)&&Al(e,r,t[r]);return e},Z=(e,t)=>Uv(e,Wv(t)),Sl=e=>fs(e,"__esModule",{value:!0});var Cl=(e,t)=>{var r={};for(var s in e)po.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Rn)for(var s of Rn(e))t.indexOf(s)<0&&Rl.call(e,s)&&(r[s]=e[s]);return r};var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yv=(e,t)=>{Sl(e);for(var r in t)fs(e,r,{get:t[r],enumerable:!0})},zv=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vv(t))!po.call(e,s)&&s!=="default"&&fs(e,s,{get:()=>t[s],enumerable:!(r=Gv(t,s))||r.enumerable});return e},xl=e=>zv(Sl(fs(e!=null?Bv(Kv(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var be=v(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.LAYER0_CONFIG_FILE="layer0.config.js";ae.LAYER0_ASSET_ALIASES_FILE="asset-aliases.json";ae.LAYER0_ENV_VARIABLES={config:"LAYER0_CONFIG",deploymentType:"LAYER0_DEPLOYMENT_TYPE",versionOverride:"LAYER0_VERSION_OVERRIDE"};ae.LAYER0_DEPLOYMENT_TYPE_AWS="AWS";ae.LAYER0_HEADERS_PREFIX="x-0-";ae.LAYER0_MAX_USER_HEADERS_ALLOWED=70;ae.LAYER0_TOO_MANY_HEADERS_STATUS_CODE=542;ae.LAYER0_UNCACHED_PREFETCH_STATUS=412;ae.ACTIONS={setHeader:"set-header",updateHeader:"update-header",removeHeader:"remove-header",syntheticRes:"synthetic-response",updatePath:"update-path",proxy:"proxy",addCookie:"add-cookie",updateCookie:"update-cookie",removeCookie:"remove-cookie"};ae.BACKENDS={js:"__js__",static:"__static__",permanentStatic:"__permanent_static__",imageOptimizer:"__image_optimizer__"};ae.JS_BACKEND_HOSTNAME="127.0.0.1";ae.HTTP_METHODS={head:"head",get:"get",post:"post",delete:"delete",put:"put",patch:"patch",options:"options"};ae.HTTP_HEADERS={authorization:"authorization",acceptEncoding:"accept-encoding",cacheControl:"cache-control",contentEncoding:"content-encoding",contentLength:"content-length",contentType:"content-type",cookie:"cookie",host:"host",location:"location",serverTiming:"server-timing",setCookie:"set-cookie",userAgent:"user-agent",vary:"vary",via:"via",xForwardedFor:"x-forwarded-for",xRequestId:"x-request-id",xSwCacheControl:"x-sw-cache-control",x0Browser:"x-0-browser",x0CacheControl:"x-0-cache-control",x0CachingStatus:"x-0-caching-status",x0ClientIp:"x-0-client-ip",x0Components:"x-0-components",x0Destination:"x-0-destination",x0Device:"x-0-device",x0DeviceIsBot:"x-0-device-is-bot",x0GeoCity:"x-0-geo-city",x0GeoCountryCode:"x-0-geo-country-code",x0GeoLatitude:"x-0-geo-latitude",x0GeoLongitude:"x-0-geo-longitude",x0GeoPostalCode:"x-0-geo-postal-code",x0MatchedRoutes:"x-0-matched-routes",x0Protocol:"x-0-protocol",x0Route:"x-0-route",x0Status:"x-0-status",x0SurrogateKey:"x-0-surrogate-key",x0T:"x-0-t",x0UserT:"x-0-user-t",x0Vendor:"x-0-vendor",x0Version:"x-0-version"};ae.CACHING_STATUS={ok:"ok",private:"private",method:"method",bodyTooBig:"body-too-big",code:"code",setCookie:"set-cookie",noMaxAge:"no-max-age"};ae.CACHEABLE_METHODS=new Set(["get","head"]);ae.THROTTLED_QUERY_PARAM="layer0_prefetch";ae.PREFETCH_QUERY_PARAM=ae.THROTTLED_QUERY_PARAM;ae.DEVTOOLS_PREFETCH_QUERY_PARAM="layer0_dt_pf";ae.HEAD_QUERY_PARAM="layer0_head";ae.POST_BODY_QUERY_PARAM="pref_layer0_body";ae.METHOD_QUERY_PARAM="pref_layer0_method";ae.ROUTES_FALLBACK="fallback";ae.ROUTES_CATCH_GROUP="catch";ae.LAYER0_IMAGE_OPTIMIZER_PATH="/__layer0_image_optimizer";ae.IS_BROWSER=typeof window!="undefined";ae.BROTLI_ENCODING="br";ae.GZIP_ENCODING="gzip"});var Vt=v(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});var wl=be();function Pl(){return process.env[wl.LAYER0_ENV_VARIABLES.deploymentType]===wl.LAYER0_DEPLOYMENT_TYPE_AWS}Wt.isCloud=Pl;function Qv(){return process.env.LAYER0_LOCAL==="true"}Wt.isLocal=Qv;function Tl(){return process.env.NODE_ENV==="production"}Wt.isProductionBuild=Tl;function Xv(){return!Pl()&&!Tl()}Wt.isLayer0RunDev=Xv;function Jv(){return typeof window!="undefined"}Wt.isBrowser=Jv});var An=v((N2,Ol)=>{"use strict";Ol.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var Kt=v((exports,module)=>{"use strict";var __importDefault=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var slash_1=__importDefault(An());function nonWebpackRequire(modulePath,{ignoreErrors=!1}={}){try{return eval("require")(slash_1.default(modulePath))}catch(e){if(ignoreErrors)return;throw e}}exports.default=nonWebpackRequire});var kl=v(Yt=>{"use strict";var Zv=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yt,"__esModule",{value:!0});var eE=Vt(),Hl=Zv(Kt()),$l="layer0",go;function tE(e){return eE.isLocal()?rE().runAndReturn(e):(global.__layer0_timings__=new Ml,e())}Yt.withContext=tE;function Dl(){return global.__layer0_timings__||sE()}function rE(){let e=Hl.default("cls-hooked");return go||(go=e.createNamespace($l)),go}function sE(){return Hl.default("cls-hooked").getNamespace($l)}function nE(e,t){try{let r=Dl(),s=r.get(e);return s==null&&(s=t,r.set(e,t)),s}catch{return t}}Yt.get=nE;function iE(e,t){try{Dl().set(e,t)}catch{throw new Error("set must be called within withContext")}}Yt.set=iE;var Ml=class{constructor(){this.values={}}get(t){return this.values[t]}set(t,r){this.values[t]=r}}});var Eo=v(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});var Sn=be(),_o=kl();Ue.NOT_ENDED_VALUE="na";var yo=class{constructor(t,r=!0){this.duration=0,this.ended=!1,this.name=t,(r?mo():vo()).push(this)}start(){return this.startTime=new Date,this.ended=!1,this}set(t){return this.discreteValue=t,this}end(){return this.startTime?(this.ended=!0,this.duration+=new Date().getTime()-this.startTime.getTime(),this):(console.warn(`Timing ${this.name} not started.`),this)}pause(){return this.end()}resume(){return this.start()}get value(){return this.discreteValue!=null?this.discreteValue:this.ended?this.duration:Ue.NOT_ENDED_VALUE}};Ue.InternalTiming=yo;function oE(e){return(...t)=>_o.withContext(()=>e(...t))}Ue.withTimings=oE;function aE(e){var t;return(t=mo().find(r=>r.name===e))===null||t===void 0?void 0:t.value}Ue.getInternalTiming=aE;function mo(){return _o.get("internalTimings",[])}function vo(){return _o.get("userTimings",[])}function uE(e){let t=vo(),r=mo();t.length&&(e.setHeader(Sn.HTTP_HEADERS.x0UserT,ql(t)),e.setHeader(Sn.HTTP_HEADERS.serverTiming,cE(e))),r.length&&e.setHeader(Sn.HTTP_HEADERS.x0T,ql(r))}Ue.addTimings=uE;function ql(e){return e.map(t=>`${t.name}=${t.value}`).join(",")}function cE(e){let t=e.getHeader(Sn.HTTP_HEADERS.serverTiming),r=vo().map(s=>`${s.name};dur=${s.value}`);return Array.isArray(t)?r.push(...t):t&&r.push(t),r.join(", ")}var Ll=class extends yo{constructor(t){super(t,!1)}};Ue.default=Ll;var lE;(function(e){e.edgeCache="ecc",e.transformRequest="wa",e.transformResponse="wz",e.routeMatching="wr",e.proxying="wp"})(lE=Ue.InternalNames||(Ue.InternalNames={}));var fE;(function(e){e.hit="hit",e.pass="pass",e.cached="cached"})(fE=Ue.CacheValue||(Ue.CacheValue={}))});var Ro=v(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.default=pE;var hE=dE(require("crypto"));function dE(e){return e&&e.__esModule?e:{default:e}}var Cn=new Uint8Array(256),xn=Cn.length;function pE(){return xn>Cn.length-16&&(hE.default.randomFillSync(Cn),xn=0),Cn.slice(xn,xn+=16)}});var Il=v(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.default=void 0;var gE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;wn.default=gE});var hs=v(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.default=void 0;var _E=yE(Il());function yE(e){return e&&e.__esModule?e:{default:e}}function mE(e){return typeof e=="string"&&_E.default.test(e)}var vE=mE;Pn.default=vE});var ds=v(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.default=void 0;var EE=bE(hs());function bE(e){return e&&e.__esModule?e:{default:e}}var Te=[];for(let e=0;e<256;++e)Te.push((e+256).toString(16).substr(1));function RE(e,t=0){let r=(Te[e[t+0]]+Te[e[t+1]]+Te[e[t+2]]+Te[e[t+3]]+"-"+Te[e[t+4]]+Te[e[t+5]]+"-"+Te[e[t+6]]+Te[e[t+7]]+"-"+Te[e[t+8]]+Te[e[t+9]]+"-"+Te[e[t+10]]+Te[e[t+11]]+Te[e[t+12]]+Te[e[t+13]]+Te[e[t+14]]+Te[e[t+15]]).toLowerCase();if(!(0,EE.default)(r))throw TypeError("Stringified UUID is invalid");return r}var AE=RE;Tn.default=AE});var Fl=v(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.default=void 0;var SE=Nl(Ro()),CE=Nl(ds());function Nl(e){return e&&e.__esModule?e:{default:e}}var jl,Ao,So=0,Co=0;function xE(e,t,r){let s=t&&r||0,i=t||new Array(16);e=e||{};let n=e.node||jl,a=e.clockseq!==void 0?e.clockseq:Ao;if(n==null||a==null){let y=e.random||(e.rng||SE.default)();n==null&&(n=jl=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),a==null&&(a=Ao=(y[6]<<8|y[7])&16383)}let l=e.msecs!==void 0?e.msecs:Date.now(),d=e.nsecs!==void 0?e.nsecs:Co+1,p=l-So+(d-Co)/1e4;if(p<0&&e.clockseq===void 0&&(a=a+1&16383),(p<0||l>So)&&e.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");So=l,Co=d,Ao=a,l+=122192928e5;let c=((l&268435455)*1e4+d)%4294967296;i[s++]=c>>>24&255,i[s++]=c>>>16&255,i[s++]=c>>>8&255,i[s++]=c&255;let _=l/4294967296*1e4&268435455;i[s++]=_>>>8&255,i[s++]=_&255,i[s++]=_>>>24&15|16,i[s++]=_>>>16&255,i[s++]=a>>>8|128,i[s++]=a&255;for(let y=0;y<6;++y)i[s+y]=n[y];return t||(0,CE.default)(i)}var wE=xE;On.default=wE});var xo=v(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.default=void 0;var PE=TE(hs());function TE(e){return e&&e.__esModule?e:{default:e}}function OE(e){if(!(0,PE.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var HE=OE;Hn.default=HE});var wo=v(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.default=kE;zt.URL=zt.DNS=void 0;var $E=Bl(ds()),DE=Bl(xo());function Bl(e){return e&&e.__esModule?e:{default:e}}function ME(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var Ul="6ba7b810-9dad-11d1-80b4-00c04fd430c8";zt.DNS=Ul;var Gl="6ba7b811-9dad-11d1-80b4-00c04fd430c8";zt.URL=Gl;function kE(e,t,r){function s(i,n,a,l){if(typeof i=="string"&&(i=ME(i)),typeof n=="string"&&(n=(0,DE.default)(n)),n.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+i.length);if(d.set(n),d.set(i,n.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,a){l=l||0;for(let p=0;p<16;++p)a[l+p]=d[p];return a}return(0,$E.default)(d)}try{s.name=e}catch{}return s.DNS=Ul,s.URL=Gl,s}});var Wl=v($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.default=void 0;var qE=LE(require("crypto"));function LE(e){return e&&e.__esModule?e:{default:e}}function IE(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),qE.default.createHash("md5").update(e).digest()}var NE=IE;$n.default=NE});var Kl=v(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.default=void 0;var jE=Vl(wo()),FE=Vl(Wl());function Vl(e){return e&&e.__esModule?e:{default:e}}var BE=(0,jE.default)("v3",48,FE.default),UE=BE;Dn.default=UE});var zl=v(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.default=void 0;var GE=Yl(Ro()),WE=Yl(ds());function Yl(e){return e&&e.__esModule?e:{default:e}}function VE(e,t,r){e=e||{};let s=e.random||(e.rng||GE.default)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=s[i];return t}return(0,WE.default)(s)}var KE=VE;Mn.default=KE});var Ql=v(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.default=void 0;var YE=zE(require("crypto"));function zE(e){return e&&e.__esModule?e:{default:e}}function QE(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),YE.default.createHash("sha1").update(e).digest()}var XE=QE;kn.default=XE});var Jl=v(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.default=void 0;var JE=Xl(wo()),ZE=Xl(Ql());function Xl(e){return e&&e.__esModule?e:{default:e}}var eb=(0,JE.default)("v5",80,ZE.default),tb=eb;qn.default=tb});var Zl=v(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.default=void 0;var rb="00000000-0000-0000-0000-000000000000";Ln.default=rb});var ef=v(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.default=void 0;var sb=nb(hs());function nb(e){return e&&e.__esModule?e:{default:e}}function ib(e){if(!(0,sb.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var ob=ib;In.default=ob});var tf=v(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});Object.defineProperty(it,"v1",{enumerable:!0,get:function(){return ab.default}});Object.defineProperty(it,"v3",{enumerable:!0,get:function(){return ub.default}});Object.defineProperty(it,"v4",{enumerable:!0,get:function(){return cb.default}});Object.defineProperty(it,"v5",{enumerable:!0,get:function(){return lb.default}});Object.defineProperty(it,"NIL",{enumerable:!0,get:function(){return fb.default}});Object.defineProperty(it,"version",{enumerable:!0,get:function(){return hb.default}});Object.defineProperty(it,"validate",{enumerable:!0,get:function(){return db.default}});Object.defineProperty(it,"stringify",{enumerable:!0,get:function(){return pb.default}});Object.defineProperty(it,"parse",{enumerable:!0,get:function(){return gb.default}});var ab=pt(Fl()),ub=pt(Kl()),cb=pt(zl()),lb=pt(Jl()),fb=pt(Zl()),hb=pt(ef()),db=pt(hs()),pb=pt(ds()),gb=pt(xo());function pt(e){return e&&e.__esModule?e:{default:e}}});var Po=v(ps=>{"use strict";var rf=ps&&ps.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0});var _b=rf(require("url")),yb=rf(require("querystring")),sf=class{constructor(t,r,s){}cache(t){}redirect(t,r){}_readRedirectParams(t,r){let{statusCode:s=302,query:i={}}=typeof r=="number"?{statusCode:r}:r,n={},a=_b.default.parse(t);return(a==null?void 0:a.search)&&(t=t.substr(0,t.length-a.search.length),n=yb.default.parse(a.query)),{to:t,statusCode:s,query:G(G({},n),i)}}proxy(t,r){}render(t){}stream(t){}serveStatic(t,r){}updatePath(t){}rewrite(t,r){}setRequestHeader(t,r){}updateRequestHeader(t,r,s){}removeRequestHeader(t){}setUpstreamResponseHeader(t,r){}updateUpstreamResponseHeader(t,r,s){}removeUpstreamResponseHeader(t){}verifyJwt(t){}setResponseHeader(t,r){}updateResponseHeader(t,r,s){}removeResponseHeader(t){}addResponseCookie(t,r,s){}updateResponseCookie(t,r,s){}removeResponseCookie(t){}addUpstreamResponseCookie(t,r,s){}updateUpstreamResponseCookie(t,r,s){}removeUpstreamResponseCookie(t){}send(t,r,s){}compute(t){}serviceWorker(t){}allowCors(t){}appShell(t){}renderWithApp(t){}};ps.BaseResponseWriter=sf});var gs=v(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var mb=e=>e;function vb(e,t,r=mb){let s={};return Object.entries(e).every(([i,n])=>{let a=t[r(i)];if(n===null)return a===void 0;if(typeof n=="string"){if(typeof a=="string"&&of(n)){let l=af(n);return s[l]=a,!0}n=new RegExp(`^${n}$`,"i")}return To(n,a)})&&s}Qt.matchCriteriaRegexObjectWithRequestObject=vb;function nf(e,t){return Object.entries(t).every(([r,s])=>{let i=e[r];return i?s instanceof RegExp?To(s,i):typeof s=="object"&&s!==null?nf(i,s):i==s:!1})}Qt.deepMatchObject=nf;function of(e){return typeof e=="string"&&/^:\w+$/.test(e)}Qt.isParamMatcher=of;function af(e){return e.slice(1)}Qt.paramMatcherToParam=af;function To(e,t){return t==null?!1:(e.global&&(e=new RegExp(e)),Array.isArray(t)?t.some(r=>e.test(r)):e.test(t))}Qt.testRegExp=To});var Ho=v(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});function Eb(e,t){let r={};for(let[s,i]of Object.entries(e))r[s]=t(i,s);return r}Oo.default=Eb});var uf=v(_s=>{"use strict";var bb=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_s,"__esModule",{value:!0});var Rb=gs(),Ab=bb(Ho()),Xt=class{constructor(t){this.entries=t||[]}get cacheableEntries(){return this.entries.filter(Xt.isEntryCacheable)}get spaRoutes(){return this.cacheableEntries.filter(({cacheOptions:t})=>t.browser&&t.browser.spa).map(({route:t})=>new RegExp(t,"i"))}shouldPrefetch(t){let r=!1;return this.entries.some(s=>Xt.entryMatches(s,t)?(r=Xt.isEntryCacheable(s)||!!s.cacheOptions.prefetchUpstreamRequests,r||s.returnsResponse):!1),r}static entryMatches(t,r){return new RegExp(t.route,"i").test(r.pathname)&&Rb.matchCriteriaRegexObjectWithRequestObject(Ab.default(t.query||{},s=>s?new RegExp(s,"i"):null),Object.fromEntries(Array.from(r.searchParams.entries())))&&(t.protocol?new RegExp(t.protocol,"i").test(r.protocol):!0)}static isEntryCacheable({cacheOptions:t}){return!!(t.browser&&(t.browser.serviceWorkerSeconds||0)>0&&t.edge&&(t.edge.maxAgeSeconds||0)>0)}static fromEntries(t){return new Xt(t)}toJSON(){return JSON.stringify(this.entries)}};_s.default=Xt});var ff=v(ys=>{"use strict";var cf=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ys,"__esModule",{value:!0});var Sb=Po(),Cb=cf(uf()),xb=cf(Ho());function wb(e){let t=new Cb.default,r=s=>{if(s!==void 0)return s instanceof RegExp?s.source:s};for(let s of e.routeGroups.getRoutes()){let i=new lf;s.handler(i);let n={criteriaPath:s.criteria.path,route:s.toRegexString(),method:r(s.criteria.method),protocol:r(s.criteria.protocol),cacheOptions:i.cacheOptions,returnsResponse:i.returnsResponse};s.criteria.query&&(n.query=xb.default(s.criteria.query,a=>a?a.source:null)),!(s.criteria.headers||s.criteria.cookies)&&t.entries.push(n)}return t}ys.default=wb;var lf=class extends Sb.BaseResponseWriter{constructor(){super(...arguments);this.response={},this.request={},this.cacheOptions={},this.returnsResponse=!1,this.doesReturnResponse=()=>this.returnsResponse=!0,this.cache=t=>{this.cacheOptions=t},this.send=this.doesReturnResponse,this.compute=this.doesReturnResponse,this.proxy=this.doesReturnResponse,this.redirect=this.doesReturnResponse,this.render=this.doesReturnResponse,this.serveStatic=this.doesReturnResponse,this.serviceWorker=this.doesReturnResponse,this.renderWithApp=this.doesReturnResponse,this.appShell=this.doesReturnResponse,this.stream=this.doesReturnResponse}}});var gf=v((uH,pf)=>{var Pb=require("path"),Tb=60*60*24*365*10,Ob={edge:{maxAgeSeconds:Tb},browser:!1},hf="layer0_devtools_enabled",Hb="layer0_devtools_env_enabled";function df(){return process.env.LAYER0_DEVTOOLS_ENABLED?process.env.LAYER0_DEVTOOLS_ENABLED==="true":process.env.PREVIEW_LAYER0_DEVTOOLS_ENABLED?process.env.PREVIEW_LAYER0_DEVTOOLS_ENABLED==="true":null}pf.exports=function({router:t,local:r}){df()!==null&&t.match("/(.*)",({addResponseCookie:s})=>{s(Hb,`${df()}; Path=/`)}),r&&t.get("/__layer0__/caching",s=>{s.send(JSON.stringify({local:r,enabled:process.env.LAYER0_CACHE==="true"}))}).post("/__layer0__/caching",s=>{let i=s.request.query;i&&(process.env.LAYER0_CACHE=i.enabled),s.send("done")}),t.get("/__layer0__/devtools/enable",({redirect:s,addResponseCookie:i})=>{i(hf,"true; Path=/"),s("/")}).get("/__layer0__/devtools/disable",({redirect:s,addResponseCookie:i})=>{i(hf,"false; Path=/"),s("/")}).match("/__layer0__/devtools/:path*",({cache:s,serveStatic:i})=>{s(Ob),i(Pb.join("node_modules","@layer0","devtools","widget",":path*"))})}});var _f=v(ms=>{"use strict";var $b=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});var Db=$b(ff()),Mb=Vt();function kb(e){qb(e);try{gf()({router:e,local:Mb.isLocal()})}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t}}ms.default=kb;function qb(e){e.match("/__layer0__/cache-manifest.js",({cache:t,setResponseHeader:r,send:s,allowCors:i})=>{t({edge:{maxAgeSeconds:60*60*24*365},browser:{maxAgeSeconds:60*60}}),r("content-type","text/javascript"),i(),s(()=>`self.__LAYER0_CACHE_MANIFEST__=${Db.default(e).toJSON()}`)})}});var yf=v($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var Lb=new Set(["cache","setRequestHeader","updateRequestHeader","removeRequestHeader","setResponseHeader","updateResponseHeader","removeResponseHeader","setUpstreamResponseHeader","updateUpstreamResponseHeader","removeUpstreamResponseHeader","addResponseCookie","updateResponseCookie","removeResponseCookie","addUpstreamResponseCookie","updateUpstreamResponseCookie","removeUpstreamResponseCookie"]),Ib=e=>{let t=(r,s)=>async function(...i){if(!!r.runningImmediately)return await r[s](...i)}.bind(r);return new Proxy(e,{get:(r,s)=>s==="serveStatic"?Nb(r,r.serveStatic):Lb.has(s.toString())?t(r,s):r[s]})};$o.default={create:Ib};function Nb(e,t){return async(r,s={})=>{if(e.runningImmediately)return t.call(e,r,s);if(s.onNotFound)e.setCreateResponseAction(()=>e.runImmediately(()=>s.onNotFound(e)));else throw new Error("Should not get to serveStatic without onNotFound when running behind the edge.")}}});var Nn=v(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});function jb(e,t){let r=e,s=t.split(".");for(let i of s){if(typeof r=="undefined")return;r=r[i]}return r}Do.default=jb});var mf=v(vs=>{"use strict";var Fb=vs&&vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});var Bb=Fb(Nn());function Ub(e,t){return!!Bb.default(e,t)}vs.default=Ub});var Rf=v((dH,bf)=>{"use strict";var Gb=function(t){return Wb(t)&&!Vb(t)};function Wb(e){return!!e&&typeof e=="object"}function Vb(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||zb(e)}var Kb=typeof Symbol=="function"&&Symbol.for,Yb=Kb?Symbol.for("react.element"):60103;function zb(e){return e.$$typeof===Yb}function Qb(e){return Array.isArray(e)?[]:{}}function Es(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Cr(Qb(e),e,t):e}function Xb(e,t,r){return e.concat(t).map(function(s){return Es(s,r)})}function Jb(e,t){if(!t.customMerge)return Cr;var r=t.customMerge(e);return typeof r=="function"?r:Cr}function Zb(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function vf(e){return Object.keys(e).concat(Zb(e))}function Ef(e,t){try{return t in e}catch{return!1}}function eR(e,t){return Ef(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function tR(e,t,r){var s={};return r.isMergeableObject(e)&&vf(e).forEach(function(i){s[i]=Es(e[i],r)}),vf(t).forEach(function(i){eR(e,i)||(Ef(e,i)&&r.isMergeableObject(t[i])?s[i]=Jb(i,r)(e[i],t[i],r):s[i]=Es(t[i],r))}),s}function Cr(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Xb,r.isMergeableObject=r.isMergeableObject||Gb,r.cloneUnlessOtherwiseSpecified=Es;var s=Array.isArray(t),i=Array.isArray(e),n=s===i;return n?s?r.arrayMerge(e,t,r):tR(e,t,r):Es(t,r)}Cr.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(s,i){return Cr(s,i,r)},{})};var rR=Cr;bf.exports=rR});var wf=v(bs=>{"use strict";var sR=bs&&bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});var Af=require("os"),jn=be(),nR=Vt(),iR=sR(Kt()),Mo={$id:"/domainOrIpSchema",type:"string"},Sf={$id:"/backendObjectSchema",type:"object",properties:{domainOrIp:{$ref:Mo.$id},port:{type:"number",minimum:1,maximum:65535},hostHeader:{type:"string"},disableCheckCert:{type:"boolean"},firstByteTimeout:{type:"number"},basePath:{type:"string"}},additionalProperties:!1,required:["domainOrIp"]},Cf={$id:"/backendSchema",type:"object",patternProperties:{"^.*$":{oneOf:[{$ref:Mo.$id},{$ref:Sf.$id}]}}},ko={$id:"/layer0FileConfigurationSchema",type:"object",properties:{name:{type:"string"},team:{type:"string"},prerenderConcurrency:{type:"number"},production:{type:"boolean"},routes:{type:"string"},server:{type:"object",required:["path"],properties:{path:{type:"string"},export:{type:"string"}}},includeFiles:{type:"object"},sources:{type:"array",items:{type:"string"}},backends:{$ref:Cf.$id},includeNodeModules:{type:"boolean"},connector:{type:"string"}},additionalProperties:!1,required:[]},xf=class{static validateLayer0FileConfiguration(t){var r;if(nR.isCloud())return t;let s=iR.default("ajv");if(t.connector)try{let l=require(`${t.connector}/configSchema`);Object.assign(ko.properties,l)}catch{}let i=new s({allErrors:!0,schemas:[ko,Cf,Sf,Mo]}),n=[],a=i.getSchema(ko.$id);if(((r=t.backends)===null||r===void 0?void 0:r.moov)!=null&&n.push({message:"is a reserved backend name",dataPath:".backends['moov']"}),t.backends&&t.backends[jn.BACKENDS.static]&&n.push({message:"is a reserved backend name",dataPath:`.backends.${jn.BACKENDS.static}`}),t.backends&&t.backends[jn.BACKENDS.js]&&n.push({message:"is a reserved backend name",dataPath:`.backends.${jn.BACKENDS.js}`}),!a(t)&&a.errors&&(n=[...n,...a.errors]),n.length){let l=n.map((d,p)=>{let c=`${p+1}) config${d.dataPath}: ${d.message}`;return d.keyword==="additionalProperties"&&(c+=` '${d.params.additionalProperty}'`),c}).join(Af.EOL);throw new Error(`Layer0 configuration validation failed with errors: ${Af.EOL}${l}`)}return t}};bs.default=xf});var Jt=v(Ss=>{"use strict";var Rs=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ss,"__esModule",{value:!0});var oR=Rs(Nn()),aR=Rs(mf()),uR=Rs(Rf()),Pf=require("fs"),qo=require("path"),As=be(),cR=Rs(wf()),lR=Rs(Kt()),Tf=class{constructor(){this.defaults={production:!0,backends:{},includeNodeModules:!1,routes:["routes.js","routes.ts","routes.cjs"].find(t=>Pf.existsSync(qo.join(process.cwd(),t)))||"routes.js"}}get(t,r){if(this.has(t))return oR.default(this.values,t);if(typeof r!="undefined")return r;throw new Error(`Layer0 configuration key: "${t}" is not defined`)}has(t){return this.values||this.loadLayer0Config(),aR.default(this.values,t)}get all(){return this.values||this.loadLayer0Config(),this.values}loadLayer0Config(){let t=this.loadFromFile(),r=this.loadFromEnv();this.values=uR.default.all([{},this.defaults,t,r])}loadFromFile(){let t=[qo.join(process.cwd(),As.LAYER0_CONFIG_FILE),qo.join(process.cwd(),As.LAYER0_CONFIG_FILE.replace(".js",".cjs"))].find(Pf.existsSync);if(t)try{let r=lR.default(t);return cR.default.validateLayer0FileConfiguration(r)}catch(r){throw new Error(`Failed to load ${t}: ${r.message}`)}return{}}loadFromEnv(){if(process.env[As.LAYER0_ENV_VARIABLES.config])try{return JSON.parse(process.env[As.LAYER0_ENV_VARIABLES.config])}catch{throw new Error(`Layer0 configuration variable: ${As.LAYER0_ENV_VARIABLES.config}, is not parsable as json`)}return{}}};Ss.default=new Tf});var Bn=v(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});function fR(e){return`${e.ignoreCase?"(?i)":""}${e.source}`.replace(/\\\//g,"/")}Fn.default=fR;function hR(e){let t=e.indexOf("(?i)")===0;return t&&(e=e.slice("(?i)".length)),new RegExp(e.replace(/\//g,"/"),t?"i":"")}Fn.fromEdgeRegex=hR});var Of=v(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});function dR(e){return new RegExp(`^${e}$`,"i")}Lo.default=dR});var $f=v(Cs=>{"use strict";var pR=Cs&&Cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});var Hf=pR(Bn());function gR(e){let t;return e===null?t=null:typeof e=="string"?t=Hf.default(new RegExp(`^${e}$`,"i")):t=Hf.default(e),t}Cs.default=gR});var No=v(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.default=(e,t)=>{let r=e;if(/(^|[^$]){/.test(e))throw new Error(`{variable} syntax in the path option is no longer supported, use :variable instead (${e})`);for(let s in t){let i=t[s];Array.isArray(i)&&(i=i.join("/")),r=r.replace(new RegExp(`:${s}(\\([^)]*\\))?[?*+]?`,"g"),i===void 0?"":i)}return r=r.replace(/:\w+(\*|\+|\?)?/,""),r=r.replace("\\?","?"),r=r.replace(/\/+/g,"/").replace(/^([^:]+:)\//gi,"$1//"),r}});var Un=v(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.pathToRegexp=He.tokensToRegexp=He.regexpToFunction=He.match=He.tokensToFunction=He.compile=He.parse=void 0;function _R(e){for(var t=[],r=0;r<e.length;){var s=e[r];if(s==="*"||s==="+"||s==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(s==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(s==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(s==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(s===":"){for(var i="",n=r+1;n<e.length;){var a=e.charCodeAt(n);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){i+=e[n++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:i}),r=n;continue}if(s==="("){var l=1,d="",n=r+1;if(e[n]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<e.length;){if(e[n]==="\\"){d+=e[n++]+e[n++];continue}if(e[n]===")"){if(l--,l===0){n++;break}}else if(e[n]==="("&&(l++,e[n+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(n));d+=e[n++]}if(l)throw new TypeError("Unbalanced pattern at ".concat(r));if(!d)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:d}),r=n;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}function jo(e,t){t===void 0&&(t={});for(var r=_R(e),s=t.prefixes,i=s===void 0?"./":s,n="[^".concat(xr(t.delimiter||"/#?"),"]+?"),a=[],l=0,d=0,p="",c=function(V){if(d<r.length&&r[d].type===V)return r[d++].value},_=function(V){var F=c(V);if(F!==void 0)return F;var j=r[d],z=j.type,ee=j.index;throw new TypeError("Unexpected ".concat(z," at ").concat(ee,", expected ").concat(V))},y=function(){for(var V="",F;F=c("CHAR")||c("ESCAPED_CHAR");)V+=F;return V};d<r.length;){var A=c("CHAR"),b=c("NAME"),R=c("PATTERN");if(b||R){var P=A||"";i.indexOf(P)===-1&&(p+=P,P=""),p&&(a.push(p),p=""),a.push({name:b||l++,prefix:P,suffix:"",pattern:R||n,modifier:c("MODIFIER")||""});continue}var D=A||c("ESCAPED_CHAR");if(D){p+=D;continue}p&&(a.push(p),p="");var H=c("OPEN");if(H){var P=y(),q=c("NAME")||"",I=c("PATTERN")||"",k=y();_("CLOSE"),a.push({name:q||(I?l++:""),pattern:q&&!I?n:I,prefix:P,suffix:k,modifier:c("MODIFIER")||""});continue}_("END")}return a}He.parse=jo;function yR(e,t){return Df(jo(e,t),t)}He.compile=yR;function Df(e,t){t===void 0&&(t={});var r=Fo(t),s=t.encode,i=s===void 0?function(d){return d}:s,n=t.validate,a=n===void 0?!0:n,l=e.map(function(d){if(typeof d=="object")return new RegExp("^(?:".concat(d.pattern,")$"),r)});return function(d){for(var p="",c=0;c<e.length;c++){var _=e[c];if(typeof _=="string"){p+=_;continue}var y=d?d[_.name]:void 0,A=_.modifier==="?"||_.modifier==="*",b=_.modifier==="*"||_.modifier==="+";if(Array.isArray(y)){if(!b)throw new TypeError('Expected "'.concat(_.name,'" to not repeat, but got an array'));if(y.length===0){if(A)continue;throw new TypeError('Expected "'.concat(_.name,'" to not be empty'))}for(var R=0;R<y.length;R++){var P=i(y[R],_);if(a&&!l[c].test(P))throw new TypeError('Expected all "'.concat(_.name,'" to match "').concat(_.pattern,'", but got "').concat(P,'"'));p+=_.prefix+P+_.suffix}continue}if(typeof y=="string"||typeof y=="number"){var P=i(String(y),_);if(a&&!l[c].test(P))throw new TypeError('Expected "'.concat(_.name,'" to match "').concat(_.pattern,'", but got "').concat(P,'"'));p+=_.prefix+P+_.suffix;continue}if(!A){var D=b?"an array":"a string";throw new TypeError('Expected "'.concat(_.name,'" to be ').concat(D))}}return p}}He.tokensToFunction=Df;function mR(e,t){var r=[],s=Bo(e,r,t);return Mf(s,r,t)}He.match=mR;function Mf(e,t,r){r===void 0&&(r={});var s=r.decode,i=s===void 0?function(n){return n}:s;return function(n){var a=e.exec(n);if(!a)return!1;for(var l=a[0],d=a.index,p=Object.create(null),c=function(y){if(a[y]===void 0)return"continue";var A=t[y-1];A.modifier==="*"||A.modifier==="+"?p[A.name]=a[y].split(A.prefix+A.suffix).map(function(b){return i(b,A)}):p[A.name]=i(a[y],A)},_=1;_<a.length;_++)c(_);return{path:l,index:d,params:p}}}He.regexpToFunction=Mf;function xr(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Fo(e){return e&&e.sensitive?"":"i"}function vR(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,s=0,i=r.exec(e.source);i;)t.push({name:i[1]||s++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(e.source);return e}function ER(e,t,r){var s=e.map(function(i){return Bo(i,t,r).source});return new RegExp("(?:".concat(s.join("|"),")"),Fo(r))}function bR(e,t,r){return kf(jo(e,r),t,r)}function kf(e,t,r){r===void 0&&(r={});for(var s=r.strict,i=s===void 0?!1:s,n=r.start,a=n===void 0?!0:n,l=r.end,d=l===void 0?!0:l,p=r.encode,c=p===void 0?function(ee){return ee}:p,_=r.delimiter,y=_===void 0?"/#?":_,A=r.endsWith,b=A===void 0?"":A,R="[".concat(xr(b),"]|$"),P="[".concat(xr(y),"]"),D=a?"^":"",H=0,q=e;H<q.length;H++){var I=q[H];if(typeof I=="string")D+=xr(c(I));else{var k=xr(c(I.prefix)),V=xr(c(I.suffix));if(I.pattern)if(t&&t.push(I),k||V)if(I.modifier==="+"||I.modifier==="*"){var F=I.modifier==="*"?"?":"";D+="(?:".concat(k,"((?:").concat(I.pattern,")(?:").concat(V).concat(k,"(?:").concat(I.pattern,"))*)").concat(V,")").concat(F)}else D+="(?:".concat(k,"(").concat(I.pattern,")").concat(V,")").concat(I.modifier);else I.modifier==="+"||I.modifier==="*"?D+="((?:".concat(I.pattern,")").concat(I.modifier,")"):D+="(".concat(I.pattern,")").concat(I.modifier);else D+="(?:".concat(k).concat(V,")").concat(I.modifier)}}if(d)i||(D+="".concat(P,"?")),D+=r.endsWith?"(?=".concat(R,")"):"$";else{var j=e[e.length-1],z=typeof j=="string"?P.indexOf(j[j.length-1])>-1:j===void 0;i||(D+="(?:".concat(P,"(?=").concat(R,"))?")),z||(D+="(?=".concat(P,"|").concat(R,")"))}return new RegExp(D,Fo(r))}He.tokensToRegexp=kf;function Bo(e,t,r){return e instanceof RegExp?vR(e,t):Array.isArray(e)?ER(e,t,r):bR(e,t,r)}He.pathToRegexp=Bo});var Lf=v(wr=>{"use strict";var RR=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wr,"__esModule",{value:!0});var AR=RR(No()),SR=Un();function CR(e,t){if(e==null)return t;let r=qf(e);return AR.default(t,r)}wr.default=CR;function qf(e){if(!e)return{};let t=e.match(/https?:\/\/[^/]+(.*)/);t&&(e=`/${t[1]}`);let r=1,s={};return SR.parse(e).forEach(i=>{typeof i!="string"&&(s[i.name]=`\\${r++}`)}),s}wr.getBackReferences=qf});var If=v(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});function xR(e){return e?typeof e.length=="number"?!e.length:!(typeof e=="object"&&Object.keys(e).length):!0}Uo.default=xR});var jf=v(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var Nf=class extends Error{constructor(t){super(t.message);this.type="BackendFetchError",this.cause=t}};Go.default=Nf});var Ko=v(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Wo="__";function wR(e,t){let r=new URL(e,`https://${Wo}`).searchParams,s=new URL(t,`https://${Wo}`);return r.forEach((i,n)=>{s.searchParams.get(n)||s.searchParams.set(n,i)}),s.hostname===Wo?`${s.pathname}${s.search}`:s.toString()}Vo.default=wR});var Wf=v(xs=>{"use strict";var Gn=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xs,"__esModule",{value:!0});var PR=require("url"),Ff=Gn(require("https")),TR=Gn(require("http")),Bf=require("path"),OR=Gn(jf()),HR=Gn(Ko()),Uf=be(),$R=["transfer-encoding","content-length"],Yo=class{constructor(t){this.config=t}static setImpl(t){Gf=t}static create(t){return new Gf(t)}async fetch(t,r,s){let{path:i,headers:n}=s||{},a=this.getProxyTarget(t,i),l=this.getProxyRequestOptions(a,t,n,s==null?void 0:s.removeEmptySearchParamValues);return new Promise((d,p)=>{let _=(a.protocol==="https:"?Ff.default:TR.default).request(l,y=>{let A=[];y.on("data",b=>A.push(b)).on("end",()=>{Object.entries(y.headers).filter(([b])=>!$R.includes(b.toLowerCase())).forEach(([b,R])=>{try{r.setHeader(b,R)}catch(P){console.warn(`Could not relay upstream response header ${b} with value ${R}`,P)}}),r.statusCode=y.statusCode,r.statusMessage=y.statusMessage,r.body=Buffer.concat(A),d(void 0)})});_.on("error",y=>p(new OR.default(y))),_.end(t.body)})}getProxyTarget(t,r){let s=r?HR.default(t.url,r):t.url,{domainOrIp:i,basePath:n,port:a}=this.config;if(n&&(s=Bf.join(n,s)),i){let d=i.match(/^127.0.0.1(:\d+)?$/)?"http":"https",p=`${i}${a?`:${a}`:""}`;s=`${d}://${Bf.join(p,s)}`}let l=PR.parse(s,!0);return t.getHeader(Uf.HTTP_HEADERS.x0Protocol)==="http"&&(l.protocol="http:"),l}isLocal(t){return t.hostname===Uf.JS_BACKEND_HOSTNAME}getProxyRequestOptions(t,r,s,i){let n=null;this.config.disableCheckCert&&t.protocol==="https:"&&(n=new Ff.default.Agent({rejectUnauthorized:!1}));let a=Z(G(G({},r.headers),s),{host:this.config.hostHeader||r.headers.host});this.isLocal(t)&&(a["x-forwarded-proto"]=r.secure?"https":"http");let l=t.path;return i===!0&&l&&(l=l.replace(/=(?=&|$)/gm,"")),Z(G({},t),{path:l,method:r.method,timeout:this.config.firstByteTimeout||0,agent:n,body:r.body,headers:a})}};xs.default=Yo;var Gf=Yo});var Vn=v(zo=>{"use strict";zo.parse=kR;zo.serialize=qR;var DR=decodeURIComponent,MR=encodeURIComponent,Wn=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function kR(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},s=t||{},i=e.split(";"),n=s.decode||DR,a=0;a<i.length;a++){var l=i[a],d=l.indexOf("=");if(!(d<0)){var p=l.substring(0,d).trim();if(r[p]==null){var c=l.substring(d+1,l.length).trim();c[0]==='"'&&(c=c.slice(1,-1)),r[p]=LR(c,n)}}}return r}function qR(e,t,r){var s=r||{},i=s.encode||MR;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Wn.test(e))throw new TypeError("argument name is invalid");var n=i(t);if(n&&!Wn.test(n))throw new TypeError("argument val is invalid");var a=e+"="+n;if(s.maxAge!=null){var l=s.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(s.domain){if(!Wn.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain="+s.domain}if(s.path){if(!Wn.test(s.path))throw new TypeError("option path is invalid");a+="; Path="+s.path}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var d=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(d){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function LR(e,t){try{return t(e)}catch{return e}}});var Vf=v(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});function IR(e){return e}Qo.default=IR});var Xo=v(ws=>{"use strict";var Kf=ws&&ws.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});var NR=Kf(Vn()),jR=require("querystring"),FR=Kf(Vf());function Yf(e,t,r){if(typeof r=="string")return BR(e,t,r);if(!Array.isArray(r))return r;let s=[];return r.forEach(i=>{s.push(Yf(e,t,i))}),s}ws.default=Yf;function BR(e,t,r){let s=r.replace(/\\\${/g,"--backslashdollar--").replace(/\${/g,"--separator--${").split("--separator--"),i={};(e==null?void 0:e.headers.cookie)&&(i=NR.default.parse(e.headers.cookie,{decode:FR.default}));let n={};if(e==null?void 0:e.url){let p=e.url.indexOf("?");if(p>=0){let c=e.url.substring(p+1);n=jR.parse(c)}}let a=[],l="${req:".length,d="${query:".length;return s.forEach(p=>{var c;if(e){p=p.replace(/\${method}/,e.method),p=p.replace(/\${path}/,e.path),p=p.replace(/\${url}/,e.url);let y=p.search(/\${query:/);if(y>=0){let b=p.substring(y+d),R=b.indexOf("}");if(R<=0)throw new Error(`Cannot interpolate substring "${p}" of value "${r}" (1)`);b=b.substring(0,R);let P=n[b]||"";Array.isArray(P)&&(P=P[0]),p=p.replace(/\${query:.*?}/,P)}let A=p.search(/\${req:/);if(A>=0){let b=p.substring(A+l),R=b.indexOf("}");if(R<=0)throw new Error(`Cannot interpolate substring "${p}" of value "${r}" (2)`);b=b.substring(0,R);let P="";if(b.indexOf("cookie:")===0){let D=b.split(":")[1];P=i[D]||""}else if(b.indexOf("param:")===0){let D=b.split(":")[1];P=String((c=e.params)===null||c===void 0?void 0:c[D])||""}else P=e.headers[b]||"";p=p.replace(/\${req:.*?}/,P)}}let _=p.search(/\${res:/);if(_>=0){if(!t)throw new Error(`Cannot interpolate response parameter "${p}" during receive phase`);let y=p.substring(_+l),A=y.indexOf("}");if(A<=0)throw new Error(`Cannot interpolate substring "${p}" of value "${r}" (3)`);y=y.substring(0,A),p=p.replace(/\${res:.*?}/,t.getHeader(y)||"")}if(p.search(/\${/)>=0)throw new Error(`Cannot interpolate substring "${p}" of "${r}" (4)`);a.push(p)}),a.join("").replace(/--backslashdollar--/g,"${")}});var Qf=v((TH,Jo)=>{"use strict";var UR=Object.prototype.hasOwnProperty,Le="~";function Ps(){}Object.create&&(Ps.prototype=Object.create(null),new Ps().__proto__||(Le=!1));function GR(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function zf(e,t,r,s,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var n=new GR(r,s||e,i),a=Le?Le+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],n]:e._events[a].push(n):(e._events[a]=n,e._eventsCount++),e}function Kn(e,t){--e._eventsCount==0?e._events=new Ps:delete e._events[t]}function $e(){this._events=new Ps,this._eventsCount=0}$e.prototype.eventNames=function(){var t=[],r,s;if(this._eventsCount===0)return t;for(s in r=this._events)UR.call(r,s)&&t.push(Le?s.slice(1):s);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};$e.prototype.listeners=function(t){var r=Le?Le+t:t,s=this._events[r];if(!s)return[];if(s.fn)return[s.fn];for(var i=0,n=s.length,a=new Array(n);i<n;i++)a[i]=s[i].fn;return a};$e.prototype.listenerCount=function(t){var r=Le?Le+t:t,s=this._events[r];return s?s.fn?1:s.length:0};$e.prototype.emit=function(t,r,s,i,n,a){var l=Le?Le+t:t;if(!this._events[l])return!1;var d=this._events[l],p=arguments.length,c,_;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,r),!0;case 3:return d.fn.call(d.context,r,s),!0;case 4:return d.fn.call(d.context,r,s,i),!0;case 5:return d.fn.call(d.context,r,s,i,n),!0;case 6:return d.fn.call(d.context,r,s,i,n,a),!0}for(_=1,c=new Array(p-1);_<p;_++)c[_-1]=arguments[_];d.fn.apply(d.context,c)}else{var y=d.length,A;for(_=0;_<y;_++)switch(d[_].once&&this.removeListener(t,d[_].fn,void 0,!0),p){case 1:d[_].fn.call(d[_].context);break;case 2:d[_].fn.call(d[_].context,r);break;case 3:d[_].fn.call(d[_].context,r,s);break;case 4:d[_].fn.call(d[_].context,r,s,i);break;default:if(!c)for(A=1,c=new Array(p-1);A<p;A++)c[A-1]=arguments[A];d[_].fn.apply(d[_].context,c)}}return!0};$e.prototype.on=function(t,r,s){return zf(this,t,r,s,!1)};$e.prototype.once=function(t,r,s){return zf(this,t,r,s,!0)};$e.prototype.removeListener=function(t,r,s,i){var n=Le?Le+t:t;if(!this._events[n])return this;if(!r)return Kn(this,n),this;var a=this._events[n];if(a.fn)a.fn===r&&(!i||a.once)&&(!s||a.context===s)&&Kn(this,n);else{for(var l=0,d=[],p=a.length;l<p;l++)(a[l].fn!==r||i&&!a[l].once||s&&a[l].context!==s)&&d.push(a[l]);d.length?this._events[n]=d.length===1?d[0]:d:Kn(this,n)}return this};$e.prototype.removeAllListeners=function(t){var r;return t?(r=Le?Le+t:t,this._events[r]&&Kn(this,r)):(this._events=new Ps,this._eventsCount=0),this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.addListener=$e.prototype.on;$e.prefixed=Le;$e.EventEmitter=$e;typeof Jo!="undefined"&&(Jo.exports=$e)});var Jf=v((OH,Xf)=>{"use strict";Xf.exports=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var Yn=v(eh=>{var gt=eh,WR=require("url"),Zf=require("util")._extend,VR=Jf(),KR=/(^|,)\s*upgrade\s*($|,)/i,Zo=/^https|wss/;gt.isSSL=Zo;gt.setupOutgoing=function(e,t,r,s){e.port=t[s||"target"].port||(Zo.test(t[s||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach(function(l){e[l]=t[s||"target"][l]}),e.method=t.method||r.method,e.headers=Zf({},r.headers),t.headers&&Zf(e.headers,t.headers),t.auth&&(e.auth=t.auth),t.ca&&(e.ca=t.ca),Zo.test(t[s||"target"].protocol)&&(e.rejectUnauthorized=typeof t.secure=="undefined"?!0:t.secure),e.agent=t.agent||!1,e.localAddress=t.localAddress,e.agent||(e.headers=e.headers||{},(typeof e.headers.connection!="string"||!KR.test(e.headers.connection))&&(e.headers.connection="close"));var i=t[s||"target"],n=i&&t.prependPath!==!1&&i.path||"",a=t.toProxy?r.url:WR.parse(r.url).path||"";return a=t.ignorePath?"":a,e.path=gt.urlJoin(n,a),t.changeOrigin&&(e.headers.host=VR(e.port,t[s||"target"].protocol)&&!YR(e.host)?e.host+":"+e.port:e.host),e};gt.setupSocket=function(e){return e.setTimeout(0),e.setNoDelay(!0),e.setKeepAlive(!0,0),e};gt.getPort=function(e){var t=e.headers.host?e.headers.host.match(/:(\d+)/):"";return t?t[1]:gt.hasEncryptedConnection(e)?"443":"80"};gt.hasEncryptedConnection=function(e){return Boolean(e.connection.encrypted||e.connection.pair)};gt.urlJoin=function(){var e=Array.prototype.slice.call(arguments),t=e.length-1,r=e[t],s=r.split("?"),i;return e[t]=s.shift(),i=[e.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")],i.push.apply(i,s),i.join("?")};gt.rewriteCookieProperty=function e(t,r,s){return Array.isArray(t)?t.map(function(i){return e(i,r,s)}):t.replace(new RegExp("(;\\s*"+s+"=)([^;]+)","i"),function(i,n,a){var l;if(a in r)l=r[a];else if("*"in r)l=r["*"];else return i;return l?n+l:""})};function YR(e){return!!~e.indexOf(":")}});var nh=v(($H,sh)=>{var th=require("url"),rh=Yn(),zR=/^201|30(1|2|7|8)$/;sh.exports={removeChunked:function(t,r,s){t.httpVersion==="1.0"&&delete s.headers["transfer-encoding"]},setConnection:function(t,r,s){t.httpVersion==="1.0"?s.headers.connection=t.headers.connection||"close":t.httpVersion!=="2.0"&&!s.headers.connection&&(s.headers.connection=t.headers.connection||"keep-alive")},setRedirectHostRewrite:function(t,r,s,i){if((i.hostRewrite||i.autoRewrite||i.protocolRewrite)&&s.headers.location&&zR.test(s.statusCode)){var n=th.parse(i.target),a=th.parse(s.headers.location);if(n.host!=a.host)return;i.hostRewrite?a.host=i.hostRewrite:i.autoRewrite&&(a.host=t.headers.host),i.protocolRewrite&&(a.protocol=i.protocolRewrite),s.headers.location=a.format()}},writeHeaders:function(t,r,s,i){var n=i.cookieDomainRewrite,a=i.cookiePathRewrite,l=i.preserveHeaderKeyCase,d,p=function(y,A){A!=null&&(n&&y.toLowerCase()==="set-cookie"&&(A=rh.rewriteCookieProperty(A,n,"domain")),a&&y.toLowerCase()==="set-cookie"&&(A=rh.rewriteCookieProperty(A,a,"path")),r.setHeader(String(y).trim(),A))};if(typeof n=="string"&&(n={"*":n}),typeof a=="string"&&(a={"*":a}),l&&s.rawHeaders!=null){d={};for(var c=0;c<s.rawHeaders.length;c+=2){var _=s.rawHeaders[c];d[_.toLowerCase()]=_}}Object.keys(s.headers).forEach(function(y){var A=s.headers[y];l&&d&&(y=d[y]||y),p(y,A)})},writeStatusCode:function(t,r,s){s.statusMessage?(r.statusCode=s.statusCode,r.statusMessage=s.statusMessage):r.statusCode=s.statusCode}}});var oh=v((DH,ih)=>{var Pr=1e3,Tr=Pr*60,Or=Tr*60,Zt=Or*24,QR=Zt*7,XR=Zt*365.25;ih.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return JR(e);if(r==="number"&&isFinite(e))return t.long?e1(e):ZR(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function JR(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*XR;case"weeks":case"week":case"w":return r*QR;case"days":case"day":case"d":return r*Zt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Or;case"minutes":case"minute":case"mins":case"min":case"m":return r*Tr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Pr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function ZR(e){var t=Math.abs(e);return t>=Zt?Math.round(e/Zt)+"d":t>=Or?Math.round(e/Or)+"h":t>=Tr?Math.round(e/Tr)+"m":t>=Pr?Math.round(e/Pr)+"s":e+"ms"}function e1(e){var t=Math.abs(e);return t>=Zt?zn(e,t,Zt,"day"):t>=Or?zn(e,t,Or,"hour"):t>=Tr?zn(e,t,Tr,"minute"):t>=Pr?zn(e,t,Pr,"second"):e+" ms"}function zn(e,t,r,s){var i=t>=r*1.5;return Math.round(e/r)+" "+s+(i?"s":"")}});var ea=v((MH,ah)=>{function t1(e){r.debug=r,r.default=r,r.coerce=d,r.disable=n,r.enable=i,r.enabled=a,r.humanize=oh(),r.destroy=p,Object.keys(e).forEach(c=>{r[c]=e[c]}),r.names=[],r.skips=[],r.formatters={};function t(c){let _=0;for(let y=0;y<c.length;y++)_=(_<<5)-_+c.charCodeAt(y),_|=0;return r.colors[Math.abs(_)%r.colors.length]}r.selectColor=t;function r(c){let _,y=null,A,b;function R(...P){if(!R.enabled)return;let D=R,H=Number(new Date),q=H-(_||H);D.diff=q,D.prev=_,D.curr=H,_=H,P[0]=r.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let I=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(V,F)=>{if(V==="%%")return"%";I++;let j=r.formatters[F];if(typeof j=="function"){let z=P[I];V=j.call(D,z),P.splice(I,1),I--}return V}),r.formatArgs.call(D,P),(D.log||r.log).apply(D,P)}return R.namespace=c,R.useColors=r.useColors(),R.color=r.selectColor(c),R.extend=s,R.destroy=r.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(A!==r.namespaces&&(A=r.namespaces,b=r.enabled(c)),b),set:P=>{y=P}}),typeof r.init=="function"&&r.init(R),R}function s(c,_){let y=r(this.namespace+(typeof _=="undefined"?":":_)+c);return y.log=this.log,y}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let _,y=(typeof c=="string"?c:"").split(/[\s,]+/),A=y.length;for(_=0;_<A;_++)!y[_]||(c=y[_].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function n(){let c=[...r.names.map(l),...r.skips.map(l).map(_=>"-"+_)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let _,y;for(_=0,y=r.skips.length;_<y;_++)if(r.skips[_].test(c))return!1;for(_=0,y=r.names.length;_<y;_++)if(r.names[_].test(c))return!0;return!1}function l(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function d(c){return c instanceof Error?c.stack||c.message:c}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}ah.exports=t1});var uh=v((Ge,Qn)=>{Ge.formatArgs=s1;Ge.save=n1;Ge.load=i1;Ge.useColors=r1;Ge.storage=o1();Ge.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ge.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r1(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s1(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Qn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,s=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(s=r))}),e.splice(s,0,t)}Ge.log=console.debug||console.log||(()=>{});function n1(e){try{e?Ge.storage.setItem("debug",e):Ge.storage.removeItem("debug")}catch{}}function i1(){let e;try{e=Ge.storage.getItem("debug")}catch{}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function o1(){try{return localStorage}catch{}}Qn.exports=ea()(Ge);var{formatters:a1}=Qn.exports;a1.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var lh=v((kH,ch)=>{"use strict";ch.exports=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(r+e),i=t.indexOf("--");return s!==-1&&(i===-1?!0:s<i)}});var hh=v((qH,fh)=>{"use strict";var u1=require("os"),ot=lh(),De=process.env,Hr;ot("no-color")||ot("no-colors")||ot("color=false")?Hr=!1:(ot("color")||ot("colors")||ot("color=true")||ot("color=always"))&&(Hr=!0);"FORCE_COLOR"in De&&(Hr=De.FORCE_COLOR.length===0||parseInt(De.FORCE_COLOR,10)!==0);function c1(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l1(e){if(Hr===!1)return 0;if(ot("color=16m")||ot("color=full")||ot("color=truecolor"))return 3;if(ot("color=256"))return 2;if(e&&!e.isTTY&&Hr!==!0)return 0;let t=Hr?1:0;if(process.platform==="win32"){let r=u1.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in De)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in De)||De.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in De)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(De.TEAMCITY_VERSION)?1:0;if(De.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in De){let r=parseInt((De.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(De.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(De.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(De.TERM)||"COLORTERM"in De?1:(De.TERM==="dumb",t)}function ta(e){let t=l1(e);return c1(t)}fh.exports={supportsColor:ta,stdout:ta(process.stdout),stderr:ta(process.stderr)}});var ph=v((Oe,Jn)=>{var f1=require("tty"),Xn=require("util");Oe.init=m1;Oe.log=g1;Oe.formatArgs=d1;Oe.save=_1;Oe.load=y1;Oe.useColors=h1;Oe.destroy=Xn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Oe.colors=[6,2,3,4,5,1];try{let e=hh();e&&(e.stderr||e).level>=2&&(Oe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Oe.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,n)=>n.toUpperCase()),s=process.env[t];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),e[r]=s,e},{});function h1(){return"colors"in Oe.inspectOpts?Boolean(Oe.inspectOpts.colors):f1.isatty(process.stderr.fd)}function d1(e){let{namespace:t,useColors:r}=this;if(r){let s=this.color,i="[3"+(s<8?s:"8;5;"+s),n=`  ${i};1m${t} [0m`;e[0]=n+e[0].split(`
`).join(`
`+n),e.push(i+"m+"+Jn.exports.humanize(this.diff)+"[0m")}else e[0]=p1()+t+" "+e[0]}function p1(){return Oe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function g1(...e){return process.stderr.write(Xn.format(...e)+`
`)}function _1(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function y1(){return process.env.DEBUG}function m1(e){e.inspectOpts={};let t=Object.keys(Oe.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Oe.inspectOpts[t[r]]}Jn.exports=ea()(Oe);var{formatters:dh}=Jn.exports;dh.o=function(e){return this.inspectOpts.colors=this.useColors,Xn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};dh.O=function(e){return this.inspectOpts.colors=this.useColors,Xn.inspect(e,this.inspectOpts)}});var gh=v((LH,ra)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?ra.exports=uh():ra.exports=ph()});var yh=v((IH,_h)=>{var Ts;_h.exports=function(){if(!Ts){try{Ts=gh()("follow-redirects")}catch{}typeof Ts!="function"&&(Ts=function(){})}Ts.apply(null,arguments)}});var Sh=v((NH,aa)=>{var er=require("url"),sa=er.URL,v1=require("http"),E1=require("https"),mh=require("stream").Writable,b1=require("assert"),vh=yh(),na=["abort","aborted","connect","error","socket","timeout"],ia=Object.create(null);na.forEach(function(e){ia[e]=function(t,r,s){this._redirectable.emit(e,t,r,s)}});var Eh=Zn("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),R1=Zn("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),A1=Zn("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),S1=Zn("ERR_STREAM_WRITE_AFTER_END","write after end");function We(e,t){mh.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(s){r._processResponse(s)},this._performRequest()}We.prototype=Object.create(mh.prototype);We.prototype.abort=function(){Ah(this._currentRequest),this.emit("abort")};We.prototype.write=function(e,t,r){if(this._ending)throw new S1;if(!(typeof e=="string"||typeof e=="object"&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof t=="function"&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new A1),this.abort())};We.prototype.end=function(e,t,r){if(typeof e=="function"?(r=e,e=t=null):typeof t=="function"&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var s=this,i=this._currentRequest;this.write(e,t,function(){s._ended=!0,i.end(null,null,r)}),this._ending=!0}};We.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};We.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};We.prototype.setTimeout=function(e,t){var r=this;function s(a){a.setTimeout(e),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function i(a){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),n()},e),s(a)}function n(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",n),r.removeListener("error",n),r.removeListener("response",n),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",s),this.on("abort",n),this.on("error",n),this.on("response",n),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){We.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(We.prototype,e,{get:function(){return this._currentRequest[e]}})});We.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};We.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);s._redirectable=this;for(var i of na)s.on(i,ia[i]);if(this._currentUrl=/^\//.test(this._options.path)?er.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var n=0,a=this,l=this._requestBodyBuffers;(function d(p){if(s===a._currentRequest)if(p)a.emit("error",p);else if(n<l.length){var c=l[n++];s.finished||s.write(c.data,c.encoding,d)}else a._ended&&s.end()})()}};We.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(Ah(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new R1);return}var s,i=this._options.beforeRedirect;i&&(s=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var n=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],oa(/^content-/i,this._options.headers));var a=oa(/^host$/i,this._options.headers),l=er.parse(this._currentUrl),d=a||l.host,p=/^\w+:/.test(r)?this._currentUrl:er.format(Object.assign(l,{host:d})),c;try{c=er.resolve(p,r)}catch(b){this.emit("error",new Eh(b));return}vh("redirecting to",c),this._isRedirect=!0;var _=er.parse(c);if(Object.assign(this._options,_),(_.protocol!==l.protocol&&_.protocol!=="https:"||_.host!==d&&!x1(_.host,d))&&oa(/^(?:authorization|cookie)$/i,this._options.headers),typeof i=="function"){var y={headers:e.headers,statusCode:t},A={url:p,method:n,headers:s};try{i(this._options,y,A)}catch(b){this.emit("error",b);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(b){this.emit("error",new Eh(b))}};function bh(e){var t={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(e).forEach(function(s){var i=s+":",n=r[i]=e[s],a=t[s]=Object.create(n);function l(p,c,_){if(typeof p=="string"){var y=p;try{p=Rh(new sa(y))}catch{p=er.parse(y)}}else sa&&p instanceof sa?p=Rh(p):(_=c,c=p,p={protocol:i});return typeof c=="function"&&(_=c,c=null),c=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},p,c),c.nativeProtocols=r,b1.equal(c.protocol,i,"protocol mismatch"),vh("options",c),new We(c,_)}function d(p,c,_){var y=a.request(p,c,_);return y.end(),y}Object.defineProperties(a,{request:{value:l,configurable:!0,enumerable:!0,writable:!0},get:{value:d,configurable:!0,enumerable:!0,writable:!0}})}),t}function C1(){}function Rh(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function oa(e,t){var r;for(var s in t)e.test(s)&&(r=t[s],delete t[s]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function Zn(e,t){function r(s){Error.captureStackTrace(this,this.constructor),s?(this.message=t+": "+s.message,this.cause=s):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function Ah(e){for(var t of na)e.removeListener(t,ia[t]);e.on("error",C1),e.abort()}function x1(e,t){let r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}aa.exports=bh({http:v1,https:E1});aa.exports.wrap=bh});var xh=v((jH,Ch)=>{var w1=require("http"),P1=require("https"),Os=nh(),ei=Yn(),T1=Sh();Os=Object.keys(Os).map(function(e){return Os[e]});var O1={http:w1,https:P1};Ch.exports={deleteLength:function(t,r,s){(t.method==="DELETE"||t.method==="OPTIONS")&&!t.headers["content-length"]&&(t.headers["content-length"]="0",delete t.headers["transfer-encoding"])},timeout:function(t,r,s){s.timeout&&t.socket.setTimeout(s.timeout)},XHeaders:function(t,r,s){if(!!s.xfwd){var i=t.isSpdy||ei.hasEncryptedConnection(t),n={for:t.connection.remoteAddress||t.socket.remoteAddress,port:ei.getPort(t),proto:i?"https":"http"};["for","port","proto"].forEach(function(a){t.headers["x-forwarded-"+a]=(t.headers["x-forwarded-"+a]||"")+(t.headers["x-forwarded-"+a]?",":"")+n[a]}),t.headers["x-forwarded-host"]=t.headers["x-forwarded-host"]||t.headers.host||""}},stream:function(t,r,s,i,n,a){n.emit("start",t,r,s.target||s.forward);var l=s.followRedirects?T1:O1,d=l.http,p=l.https;if(s.forward){var c=(s.forward.protocol==="https:"?p:d).request(ei.setupOutgoing(s.ssl||{},s,t,"forward")),_=b(c,s.forward);if(t.on("error",_),c.on("error",_),(s.buffer||t).pipe(c),!s.target)return r.end()}var y=(s.target.protocol==="https:"?p:d).request(ei.setupOutgoing(s.ssl||{},s,t));y.on("socket",function(R){n&&!y.getHeader("expect")&&n.emit("proxyReq",y,t,r,s)}),s.proxyTimeout&&y.setTimeout(s.proxyTimeout,function(){y.abort()}),t.on("aborted",function(){y.abort()});var A=b(y,s.target);t.on("error",A),y.on("error",A);function b(R,P){return function(H){if(t.socket.destroyed&&H.code==="ECONNRESET")return n.emit("econnreset",H,t,r,P),R.abort();a?a(H,t,r,P):n.emit("error",H,t,r,P)}}(s.buffer||t).pipe(y),y.on("response",function(R){if(n&&n.emit("proxyRes",R,t,r),!r.headersSent&&!s.selfHandleResponse)for(var P=0;P<Os.length&&!Os[P](t,r,R,s);P++);r.finished?n&&n.emit("end",t,r,R):(R.on("end",function(){n&&n.emit("end",t,r,R)}),s.selfHandleResponse||R.pipe(r))})}}});var Ph=v((FH,wh)=>{var H1=require("http"),$1=require("https"),$r=Yn();wh.exports={checkMethodAndHeader:function(t,r){if(t.method!=="GET"||!t.headers.upgrade||t.headers.upgrade.toLowerCase()!=="websocket")return r.destroy(),!0},XHeaders:function(t,r,s){if(!!s.xfwd){var i={for:t.connection.remoteAddress||t.socket.remoteAddress,port:$r.getPort(t),proto:$r.hasEncryptedConnection(t)?"wss":"ws"};["for","port","proto"].forEach(function(n){t.headers["x-forwarded-"+n]=(t.headers["x-forwarded-"+n]||"")+(t.headers["x-forwarded-"+n]?",":"")+i[n]})}},stream:function(t,r,s,i,n,a){var l=function(c,_){return Object.keys(_).reduce(function(y,A){var b=_[A];if(!Array.isArray(b))return y.push(A+": "+b),y;for(var R=0;R<b.length;R++)y.push(A+": "+b[R]);return y},[c]).join(`\r
`)+`\r
\r
`};$r.setupSocket(r),i&&i.length&&r.unshift(i);var d=($r.isSSL.test(s.target.protocol)?$1:H1).request($r.setupOutgoing(s.ssl||{},s,t));return n&&n.emit("proxyReqWs",d,t,r,s,i),d.on("error",p),d.on("response",function(c){c.upgrade||(r.write(l("HTTP/"+c.httpVersion+" "+c.statusCode+" "+c.statusMessage,c.headers)),c.pipe(r))}),d.on("upgrade",function(c,_,y){_.on("error",p),_.on("end",function(){n.emit("close",c,_,y)}),r.on("error",function(){_.end()}),$r.setupSocket(_),y&&y.length&&_.unshift(y),r.write(l("HTTP/1.1 101 Switching Protocols",c.headers)),_.pipe(r).pipe(_),n.emit("open",_),n.emit("proxySocket",_)}),d.end();function p(c){a?a(c,t,r):n.emit("error",c,t,r),r.end()}}}});var kh=v((BH,Mh)=>{var Th=Mh.exports,Oh=require("util")._extend,D1=require("url").parse,Hh=Qf(),M1=require("http"),k1=require("https"),$h=xh(),Dh=Ph();Th.Server=tr;function ua(e){return function(t){return function(r,s){var i=e==="ws"?this.wsPasses:this.webPasses,n=[].slice.call(arguments),a=n.length-1,l,d;typeof n[a]=="function"&&(d=n[a],a--);var p=t;if(!(n[a]instanceof Buffer)&&n[a]!==s&&(p=Oh({},t),Oh(p,n[a]),a--),n[a]instanceof Buffer&&(l=n[a]),["target","forward"].forEach(function(_){typeof p[_]=="string"&&(p[_]=D1(p[_]))}),!p.target&&!p.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var c=0;c<i.length&&!i[c](r,s,p,l,this,d);c++);}}}Th.createRightProxy=ua;function tr(e){Hh.call(this),e=e||{},e.prependPath=e.prependPath!==!1,this.web=this.proxyRequest=ua("web")(e),this.ws=this.proxyWebsocketRequest=ua("ws")(e),this.options=e,this.webPasses=Object.keys($h).map(function(t){return $h[t]}),this.wsPasses=Object.keys(Dh).map(function(t){return Dh[t]}),this.on("error",this.onError,this)}require("util").inherits(tr,Hh);tr.prototype.onError=function(e){if(this.listeners("error").length===1)throw e};tr.prototype.listen=function(e,t){var r=this,s=function(i,n){r.web(i,n)};return this._server=this.options.ssl?k1.createServer(this.options.ssl,s):M1.createServer(s),this.options.ws&&this._server.on("upgrade",function(i,n,a){r.ws(i,n,a)}),this._server.listen(e,t),this};tr.prototype.close=function(e){var t=this;this._server&&this._server.close(r);function r(){t._server=null,e&&e.apply(null,arguments)}};tr.prototype.before=function(e,t,r){if(e!=="ws"&&e!=="web")throw new Error("type must be `web` or `ws`");var s=e==="ws"?this.wsPasses:this.webPasses,i=!1;if(s.forEach(function(n,a){n.name===t&&(i=a)}),i===!1)throw new Error("No such pass");s.splice(i,0,r)};tr.prototype.after=function(e,t,r){if(e!=="ws"&&e!=="web")throw new Error("type must be `web` or `ws`");var s=e==="ws"?this.wsPasses:this.webPasses,i=!1;if(s.forEach(function(n,a){n.name===t&&(i=a)}),i===!1)throw new Error("No such pass");s.splice(i++,0,r)}});var Lh=v((UH,qh)=>{var Hs=kh().Server;function ca(e){return new Hs(e)}Hs.createProxyServer=ca;Hs.createServer=ca;Hs.createProxy=ca;qh.exports=Hs});var Nh=v((GH,Ih)=>{Ih.exports=Lh()});var jh=v($s=>{"use strict";var q1=$s&&$s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($s,"__esModule",{value:!0});var L1=q1(Nh()),I1=L1.default.createProxyServer({changeOrigin:!0});function N1(e,t,r,s){let n={target:{protocol:r.domainOrIp==="127.0.0.1"?"http":"https",host:r.domainOrIp,port:r.port}};I1.web(e,t,n,s||Function.prototype)}$s.default=N1});var la=v(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});var j1=[/^x-0-platform/i,/^x-0-version$/i,/^x-0-t$/i,/^x-0-components$/i,/^x-0-status$/i,/^x-0-lambda-name$/i,/^x-0-lambda-schedule-timeout$/i,/^x-0-received-at$/i,/^host$/i,/^x-request-id$/i,/^content-length$/i,/^via$/i],F1=[/^layer0_/i],B1=[/^layer0_devtools/i],Dr=e=>{if(j1.find(t=>e.match(t)))throw new Error(`Header "${e}" is reserved and cannot be modified`)},U1=e=>{if(F1.find(t=>e.match(t))&&!B1.find(t=>e.match(t)))throw new Error(`Cookie "${e}" is reserved and cannot be modified`)};_t.validateSetResponseHeader=e=>{Dr(e)};_t.validateUpdateResponseHeader=e=>{Dr(e)};_t.validateRemoveResponseHeader=e=>{Dr(e)};_t.validateSetRequestHeader=e=>{Dr(e)};_t.validateUpdateRequestHeader=e=>{Dr(e)};_t.validateRemoveRequestHeader=e=>{Dr(e)};_t.validateCookieName=e=>{U1(e)}});var ha=v(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});function G1(e){return e==null?{}:typeof e=="string"?{path:e}:e}fa.default=G1});var da=v(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var W1=Un(),ti=class extends Error{constructor(t){super(`Route pattern "${t}" contains invalid syntax. See https://docs.layer0.co/guides/routing#section_route_pattern_syntax`);this.isUserError=!0}};ri.PathMatcherError=ti;var Ds=class{constructor(t){this.pattern=t}match(t){if(!this.matcher)try{this.matcher=W1.match(this.pattern,{decode:decodeURIComponent})}catch{throw new ti(this.pattern)}Ds.validatePattern(this.pattern);let r=this.matcher(t);return r?r.params:void 0}static validatePattern(t){let r=t.match(this.PARTIAL_SPLAT_ROUTE);if(r){let[s,i,n]=r,a=t.replace(`${i}${n}`,`${i}:suffix/${n}`);throw new ti(`Partial splat routes are not supported. Use "${a}" instead of "${t}"`)}return!0}};ri.default=Ds;Ds.PARTIAL_SPLAT_ROUTE=/(\/[^:/]+)(:[^*/#?]+\*)/});var Fh=v(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});function V1(e){return typeof e!="string"?"":e.toLowerCase()}pa.default=V1});var ni=v(rr=>{"use strict";var si=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},K1=rr&&rr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(rr,"__esModule",{value:!0});var Y1=be(),Ms=gs(),z1=Vn(),Q1=Un(),X1=si(ha()),Bh=K1(da()),J1=si(require("querystring")),Z1=si(Bn()),eA=si(Fh()),Mr=class{constructor(t,r,s){this.criteria=X1.default(t),this.handler=r,this.options=s,this.criteria.path&&(this.matcher=new Bh.default(this.criteria.path))}match(t){let r=[this.matchPath,this.matchProtocol,this.matchMethod,this.matchHeaders,this.matchQueryParams,this.matchCookies,this.matchBody],s={};for(let i of r){let n=i.bind(this)(t);if(!n)return!1;Object.assign(s,n)}return t.params=s,s}matchResponse(t){return this.matchResponseStatus(t)}matchResponseStatus(t){var r,s,i;return((s=(r=this.criteria)===null||r===void 0?void 0:r.response)===null||s===void 0?void 0:s.statusCode)?!!((i=t.statusCode)===null||i===void 0?void 0:i.toString().match(this.criteria.response.statusCode)):!1}matchPath(t){return this.matcher?this.matcher.match(t.path):{}}matchMethod(t){return!this.criteria.method||!t.method?!0:new RegExp(this.criteria.method,"i").test(t.method)}matchHeaders(t){return this.criteria.headers?Ms.matchCriteriaRegexObjectWithRequestObject(this.criteria.headers,t.headers,eA.default):!0}matchBody(t){if(this.criteria.body&&this.criteria.body.parse=="json"&&t.body){let r;try{r=JSON.parse(t.body)}catch{return!1}return Ms.deepMatchObject(r,this.criteria.body.criteria)}return!0}matchQueryParams(t){return this.criteria.query?t.query?Ms.matchCriteriaRegexObjectWithRequestObject(this.criteria.query,t.query):!1:!0}matchCookies(t){if(this.criteria.cookies){let r=t.headers.cookie;if(r==null)return Object.values(this.criteria.cookies).every(n=>n===null);let s=Array.isArray(r)?r.join("; "):r,i=z1.parse(s);return Ms.matchCriteriaRegexObjectWithRequestObject(this.criteria.cookies,i)}return!0}matchProtocol(t){let r=t.headers&&t.headers[Y1.HTTP_HEADERS.x0Protocol]||"https",s;return typeof this.criteria.protocol=="string"?s=new RegExp(`^${this.criteria.protocol}$`,"i"):s=new RegExp(this.criteria.protocol||"^https$","i"),Ms.testRegExp(s,r)}toString(){let s=this.criteria,{path:t}=s,r=Cl(s,["path"]);return Object.keys(r).length?JSON.stringify(this.criteria):t||"fallback"}toRegex(){return Mr.toRegexp(this.criteria.path)}toJson(){var t;return JSON.stringify(Z(G({},this.criteria),{label:(t=this.options)===null||t===void 0?void 0:t.label}),(r,s)=>s instanceof RegExp?s.toString():s)}toRegexString(){return this.toRegex().source}toEdgeRegexString(){return Mr.toEdgeRegexString(this.criteria.path)}isRespRoute(){return!!this.criteria.response}static toRegexp(t){if(t)try{return Q1.pathToRegexp(t)}catch{throw new Bh.PathMatcherError(t)}else return/^.*$/}static toEdgeRegexString(t){return Z1.default(Mr.toRegexp(t))}static pathWithQueryString(t,r){let s=J1.default.stringify(r).replace(/%3A/g,":");return t+(s&&`\\?${s}`)}};rr.default=Mr});var Gh=v(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var Uh=require("zlib"),sr=be();function tA(e){var t;let r=(t=e.getHeader(sr.HTTP_HEADERS.contentEncoding))===null||t===void 0?void 0:t.toLowerCase();if(!r)return!0;switch(r){case sr.GZIP_ENCODING:return Buffer.isBuffer(e.body)?(e.body=Uh.gunzipSync(e.body),e.removeHeader(sr.HTTP_HEADERS.contentEncoding),e.setHeader(sr.HTTP_HEADERS.contentLength,Buffer.byteLength(e.body)),!0):!1;case sr.BROTLI_ENCODING:return Buffer.isBuffer(e.body)?(e.body=Uh.brotliDecompressSync(e.body),e.removeHeader(sr.HTTP_HEADERS.contentEncoding),e.setHeader(sr.HTTP_HEADERS.contentLength,Buffer.byteLength(e.body)),!0):!1;default:return!1}}ga.default=tA});var Vh=v((JH,Wh)=>{"use strict";Wh.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Yh=v((ZH,Kh)=>{"use strict";Kh.exports=ie;ie.Node=nr;ie.create=ie;function ie(e){var t=this;if(t instanceof ie||(t=new ie),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)t.push(arguments[r]);return t}ie.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ie.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ie.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ie.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)sA(this,arguments[e]);return this.length};ie.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)nA(this,arguments[e]);return this.length};ie.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ie.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ie.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,s=0;r!==null;s++)e.call(t,r.value,s,this),r=r.next};ie.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,s=this.length-1;r!==null;s--)e.call(t,r.value,s,this),r=r.prev};ie.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};ie.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};ie.prototype.map=function(e,t){t=t||this;for(var r=new ie,s=this.head;s!==null;)r.push(e.call(t,s.value,this)),s=s.next;return r};ie.prototype.mapReverse=function(e,t){t=t||this;for(var r=new ie,s=this.tail;s!==null;)r.push(e.call(t,s.value,this)),s=s.prev;return r};ie.prototype.reduce=function(e,t){var r,s=this.head;if(arguments.length>1)r=t;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;s!==null;i++)r=e(r,s.value,i),s=s.next;return r};ie.prototype.reduceReverse=function(e,t){var r,s=this.tail;if(arguments.length>1)r=t;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;s!==null;i--)r=e(r,s.value,i),s=s.prev;return r};ie.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};ie.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};ie.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ie;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=0,i=this.head;i!==null&&s<e;s++)i=i.next;for(;i!==null&&s<t;s++,i=i.next)r.push(i.value);return r};ie.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ie;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=this.length,i=this.tail;i!==null&&s>t;s--)i=i.prev;for(;i!==null&&s>e;s--,i=i.prev)r.push(i.value);return r};ie.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,i=this.head;i!==null&&s<e;s++)i=i.next;for(var n=[],s=0;i&&s<t;s++)n.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var s=0;s<r.length;s++)i=rA(this,i,r[s]);return n};ie.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=t,this.tail=e,this};function rA(e,t,r){var s=t===e.head?new nr(r,null,t,e):new nr(r,t,t.next,e);return s.next===null&&(e.tail=s),s.prev===null&&(e.head=s),e.length++,s}function sA(e,t){e.tail=new nr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function nA(e,t){e.head=new nr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function nr(e,t,r,s){if(!(this instanceof nr))return new nr(e,t,r,s);this.list=s,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Vh()(ie)}catch{}});var td=v((e$,ed)=>{"use strict";var iA=Yh(),ir=Symbol("max"),yt=Symbol("length"),kr=Symbol("lengthCalculator"),ks=Symbol("allowStale"),or=Symbol("maxAge"),mt=Symbol("dispose"),zh=Symbol("noDisposeOnSet"),Re=Symbol("lruList"),at=Symbol("cache"),Qh=Symbol("updateAgeOnGet"),_a=()=>1,Xh=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[ir]=t.max||1/0,s=t.length||_a;if(this[kr]=typeof s!="function"?_a:s,this[ks]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[or]=t.maxAge||0,this[mt]=t.dispose,this[zh]=t.noDisposeOnSet||!1,this[Qh]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ir]=t||1/0,qs(this)}get max(){return this[ir]}set allowStale(t){this[ks]=!!t}get allowStale(){return this[ks]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[or]=t,qs(this)}get maxAge(){return this[or]}set lengthCalculator(t){typeof t!="function"&&(t=_a),t!==this[kr]&&(this[kr]=t,this[yt]=0,this[Re].forEach(r=>{r.length=this[kr](r.value,r.key),this[yt]+=r.length})),qs(this)}get lengthCalculator(){return this[kr]}get length(){return this[yt]}get itemCount(){return this[Re].length}rforEach(t,r){r=r||this;for(let s=this[Re].tail;s!==null;){let i=s.prev;Zh(this,t,s,r),s=i}}forEach(t,r){r=r||this;for(let s=this[Re].head;s!==null;){let i=s.next;Zh(this,t,s,r),s=i}}keys(){return this[Re].toArray().map(t=>t.key)}values(){return this[Re].toArray().map(t=>t.value)}reset(){this[mt]&&this[Re]&&this[Re].length&&this[Re].forEach(t=>this[mt](t.key,t.value)),this[at]=new Map,this[Re]=new iA,this[yt]=0}dump(){return this[Re].map(t=>ii(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Re]}set(t,r,s){if(s=s||this[or],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let i=s?Date.now():0,n=this[kr](r,t);if(this[at].has(t)){if(n>this[ir])return qr(this,this[at].get(t)),!1;let d=this[at].get(t).value;return this[mt]&&(this[zh]||this[mt](t,d.value)),d.now=i,d.maxAge=s,d.value=r,this[yt]+=n-d.length,d.length=n,this.get(t),qs(this),!0}let a=new Jh(t,r,n,i,s);return a.length>this[ir]?(this[mt]&&this[mt](t,r),!1):(this[yt]+=a.length,this[Re].unshift(a),this[at].set(t,this[Re].head),qs(this),!0)}has(t){if(!this[at].has(t))return!1;let r=this[at].get(t).value;return!ii(this,r)}get(t){return ya(this,t,!0)}peek(t){return ya(this,t,!1)}pop(){let t=this[Re].tail;return t?(qr(this,t),t.value):null}del(t){qr(this,this[at].get(t))}load(t){this.reset();let r=Date.now();for(let s=t.length-1;s>=0;s--){let i=t[s],n=i.e||0;if(n===0)this.set(i.k,i.v);else{let a=n-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[at].forEach((t,r)=>ya(this,r,!1))}},ya=(e,t,r)=>{let s=e[at].get(t);if(s){let i=s.value;if(ii(e,i)){if(qr(e,s),!e[ks])return}else r&&(e[Qh]&&(s.value.now=Date.now()),e[Re].unshiftNode(s));return i.value}},ii=(e,t)=>{if(!t||!t.maxAge&&!e[or])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[or]&&r>e[or]},qs=e=>{if(e[yt]>e[ir])for(let t=e[Re].tail;e[yt]>e[ir]&&t!==null;){let r=t.prev;qr(e,t),t=r}},qr=(e,t)=>{if(t){let r=t.value;e[mt]&&e[mt](r.key,r.value),e[yt]-=r.length,e[at].delete(r.key),e[Re].removeNode(t)}},Jh=class{constructor(t,r,s,i,n){this.key=t,this.value=r,this.length=s,this.now=i,this.maxAge=n||0}},Zh=(e,t,r,s)=>{let i=r.value;ii(e,i)&&(qr(e,r),e[ks]||(i=void 0)),i&&t.call(s,i.value,i.key,e)};ed.exports=Xh});var $a=v((Ns,jr)=>{var oA=200,rd="__lodash_hash_undefined__",sd=9007199254740991,ma="[object Arguments]",aA="[object Array]",nd="[object Boolean]",id="[object Date]",uA="[object Error]",va="[object Function]",od="[object GeneratorFunction]",oi="[object Map]",ad="[object Number]",Ea="[object Object]",ud="[object Promise]",cd="[object RegExp]",ai="[object Set]",ld="[object String]",fd="[object Symbol]",ba="[object WeakMap]",hd="[object ArrayBuffer]",ui="[object DataView]",dd="[object Float32Array]",pd="[object Float64Array]",gd="[object Int8Array]",_d="[object Int16Array]",yd="[object Int32Array]",md="[object Uint8Array]",vd="[object Uint8ClampedArray]",Ed="[object Uint16Array]",bd="[object Uint32Array]",cA=/[\\^$.*+?()[\]{}|]/g,lA=/\w*$/,fA=/^\[object .+?Constructor\]$/,hA=/^(?:0|[1-9]\d*)$/,fe={};fe[ma]=fe[aA]=fe[hd]=fe[ui]=fe[nd]=fe[id]=fe[dd]=fe[pd]=fe[gd]=fe[_d]=fe[yd]=fe[oi]=fe[ad]=fe[Ea]=fe[cd]=fe[ai]=fe[ld]=fe[fd]=fe[md]=fe[vd]=fe[Ed]=fe[bd]=!0;fe[uA]=fe[va]=fe[ba]=!1;var dA=typeof global=="object"&&global&&global.Object===Object&&global,pA=typeof self=="object"&&self&&self.Object===Object&&self,vt=dA||pA||Function("return this")(),Rd=typeof Ns=="object"&&Ns&&!Ns.nodeType&&Ns,Ad=Rd&&typeof jr=="object"&&jr&&!jr.nodeType&&jr,gA=Ad&&Ad.exports===Rd;function _A(e,t){return e.set(t[0],t[1]),e}function yA(e,t){return e.add(t),e}function mA(e,t){for(var r=-1,s=e?e.length:0;++r<s&&t(e[r],r,e)!==!1;);return e}function vA(e,t){for(var r=-1,s=t.length,i=e.length;++r<s;)e[i+r]=t[r];return e}function Sd(e,t,r,s){var i=-1,n=e?e.length:0;for(s&&n&&(r=e[++i]);++i<n;)r=t(r,e[i],i,e);return r}function EA(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}function bA(e,t){return e==null?void 0:e[t]}function Cd(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function xd(e){var t=-1,r=Array(e.size);return e.forEach(function(s,i){r[++t]=[i,s]}),r}function Ra(e,t){return function(r){return e(t(r))}}function wd(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var RA=Array.prototype,AA=Function.prototype,ci=Object.prototype,Aa=vt["__core-js_shared__"],Pd=function(){var e=/[^.]+$/.exec(Aa&&Aa.keys&&Aa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Td=AA.toString,Dt=ci.hasOwnProperty,li=ci.toString,SA=RegExp("^"+Td.call(Dt).replace(cA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Od=gA?vt.Buffer:void 0,Hd=vt.Symbol,$d=vt.Uint8Array,CA=Ra(Object.getPrototypeOf,Object),xA=Object.create,wA=ci.propertyIsEnumerable,PA=RA.splice,Dd=Object.getOwnPropertySymbols,TA=Od?Od.isBuffer:void 0,OA=Ra(Object.keys,Object),Sa=Nr(vt,"DataView"),Ls=Nr(vt,"Map"),Ca=Nr(vt,"Promise"),xa=Nr(vt,"Set"),wa=Nr(vt,"WeakMap"),Is=Nr(Object,"create"),HA=cr(Sa),$A=cr(Ls),DA=cr(Ca),MA=cr(xa),kA=cr(wa),Md=Hd?Hd.prototype:void 0,kd=Md?Md.valueOf:void 0;function ar(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function qA(){this.__data__=Is?Is(null):{}}function LA(e){return this.has(e)&&delete this.__data__[e]}function IA(e){var t=this.__data__;if(Is){var r=t[e];return r===rd?void 0:r}return Dt.call(t,e)?t[e]:void 0}function NA(e){var t=this.__data__;return Is?t[e]!==void 0:Dt.call(t,e)}function jA(e,t){var r=this.__data__;return r[e]=Is&&t===void 0?rd:t,this}ar.prototype.clear=qA;ar.prototype.delete=LA;ar.prototype.get=IA;ar.prototype.has=NA;ar.prototype.set=jA;function Et(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function FA(){this.__data__=[]}function BA(e){var t=this.__data__,r=fi(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():PA.call(t,r,1),!0}function UA(e){var t=this.__data__,r=fi(t,e);return r<0?void 0:t[r][1]}function GA(e){return fi(this.__data__,e)>-1}function WA(e,t){var r=this.__data__,s=fi(r,e);return s<0?r.push([e,t]):r[s][1]=t,this}Et.prototype.clear=FA;Et.prototype.delete=BA;Et.prototype.get=UA;Et.prototype.has=GA;Et.prototype.set=WA;function Lr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function VA(){this.__data__={hash:new ar,map:new(Ls||Et),string:new ar}}function KA(e){return hi(this,e).delete(e)}function YA(e){return hi(this,e).get(e)}function zA(e){return hi(this,e).has(e)}function QA(e,t){return hi(this,e).set(e,t),this}Lr.prototype.clear=VA;Lr.prototype.delete=KA;Lr.prototype.get=YA;Lr.prototype.has=zA;Lr.prototype.set=QA;function Ir(e){this.__data__=new Et(e)}function XA(){this.__data__=new Et}function JA(e){return this.__data__.delete(e)}function ZA(e){return this.__data__.get(e)}function eS(e){return this.__data__.has(e)}function tS(e,t){var r=this.__data__;if(r instanceof Et){var s=r.__data__;if(!Ls||s.length<oA-1)return s.push([e,t]),this;r=this.__data__=new Lr(s)}return r.set(e,t),this}Ir.prototype.clear=XA;Ir.prototype.delete=JA;Ir.prototype.get=ZA;Ir.prototype.has=eS;Ir.prototype.set=tS;function rS(e,t){var r=Oa(e)||xS(e)?EA(e.length,String):[],s=r.length,i=!!s;for(var n in e)(t||Dt.call(e,n))&&!(i&&(n=="length"||RS(n,s)))&&r.push(n);return r}function qd(e,t,r){var s=e[t];(!(Dt.call(e,t)&&jd(s,r))||r===void 0&&!(t in e))&&(e[t]=r)}function fi(e,t){for(var r=e.length;r--;)if(jd(e[r][0],t))return r;return-1}function sS(e,t){return e&&Ld(t,Ha(t),e)}function Pa(e,t,r,s,i,n,a){var l;if(s&&(l=n?s(e,i,n,a):s(e)),l!==void 0)return l;if(!di(e))return e;var d=Oa(e);if(d){if(l=vS(e),!t)return _S(e,l)}else{var p=ur(e),c=p==va||p==od;if(PS(e))return cS(e,t);if(p==Ea||p==ma||c&&!n){if(Cd(e))return n?e:{};if(l=ES(c?{}:e),!t)return yS(e,sS(l,e))}else{if(!fe[p])return n?e:{};l=bS(e,p,Pa,t)}}a||(a=new Ir);var _=a.get(e);if(_)return _;if(a.set(e,l),!d)var y=r?mS(e):Ha(e);return mA(y||e,function(A,b){y&&(b=A,A=e[b]),qd(l,b,Pa(A,t,r,s,b,e,a))}),l}function nS(e){return di(e)?xA(e):{}}function iS(e,t,r){var s=t(e);return Oa(e)?s:vA(s,r(e))}function oS(e){return li.call(e)}function aS(e){if(!di(e)||SS(e))return!1;var t=Bd(e)||Cd(e)?SA:fA;return t.test(cr(e))}function uS(e){if(!Nd(e))return OA(e);var t=[];for(var r in Object(e))Dt.call(e,r)&&r!="constructor"&&t.push(r);return t}function cS(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Ta(e){var t=new e.constructor(e.byteLength);return new $d(t).set(new $d(e)),t}function lS(e,t){var r=t?Ta(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function fS(e,t,r){var s=t?r(xd(e),!0):xd(e);return Sd(s,_A,new e.constructor)}function hS(e){var t=new e.constructor(e.source,lA.exec(e));return t.lastIndex=e.lastIndex,t}function dS(e,t,r){var s=t?r(wd(e),!0):wd(e);return Sd(s,yA,new e.constructor)}function pS(e){return kd?Object(kd.call(e)):{}}function gS(e,t){var r=t?Ta(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function _S(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}function Ld(e,t,r,s){r||(r={});for(var i=-1,n=t.length;++i<n;){var a=t[i],l=s?s(r[a],e[a],a,r,e):void 0;qd(r,a,l===void 0?e[a]:l)}return r}function yS(e,t){return Ld(e,Id(e),t)}function mS(e){return iS(e,Ha,Id)}function hi(e,t){var r=e.__data__;return AS(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Nr(e,t){var r=bA(e,t);return aS(r)?r:void 0}var Id=Dd?Ra(Dd,Object):HS,ur=oS;(Sa&&ur(new Sa(new ArrayBuffer(1)))!=ui||Ls&&ur(new Ls)!=oi||Ca&&ur(Ca.resolve())!=ud||xa&&ur(new xa)!=ai||wa&&ur(new wa)!=ba)&&(ur=function(e){var t=li.call(e),r=t==Ea?e.constructor:void 0,s=r?cr(r):void 0;if(s)switch(s){case HA:return ui;case $A:return oi;case DA:return ud;case MA:return ai;case kA:return ba}return t});function vS(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&Dt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function ES(e){return typeof e.constructor=="function"&&!Nd(e)?nS(CA(e)):{}}function bS(e,t,r,s){var i=e.constructor;switch(t){case hd:return Ta(e);case nd:case id:return new i(+e);case ui:return lS(e,s);case dd:case pd:case gd:case _d:case yd:case md:case vd:case Ed:case bd:return gS(e,s);case oi:return fS(e,s,r);case ad:case ld:return new i(e);case cd:return hS(e);case ai:return dS(e,s,r);case fd:return pS(e)}}function RS(e,t){return t=t??sd,!!t&&(typeof e=="number"||hA.test(e))&&e>-1&&e%1==0&&e<t}function AS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function SS(e){return!!Pd&&Pd in e}function Nd(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ci;return e===r}function cr(e){if(e!=null){try{return Td.call(e)}catch{}try{return e+""}catch{}}return""}function CS(e){return Pa(e,!0,!0)}function jd(e,t){return e===t||e!==e&&t!==t}function xS(e){return wS(e)&&Dt.call(e,"callee")&&(!wA.call(e,"callee")||li.call(e)==ma)}var Oa=Array.isArray;function Fd(e){return e!=null&&TS(e.length)&&!Bd(e)}function wS(e){return OS(e)&&Fd(e)}var PS=TA||$S;function Bd(e){var t=di(e)?li.call(e):"";return t==va||t==od}function TS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sd}function di(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function OS(e){return!!e&&typeof e=="object"}function Ha(e){return Fd(e)?rS(e):uS(e)}function HS(){return[]}function $S(){return!1}jr.exports=CS});var Ma=v(bt=>{"use strict";var Ud=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bt,"__esModule",{value:!0});var Ae=be(),DS=Ud(td()),MS=Ud($a()),Da;function kS(){return process.env.LAYER0_CACHE==="true"}bt.isCacheEnabled=kS;function pi(){return Da||(Da=new DS.default),Da}bt.getCache=pi;function qS(){pi().reset()}bt.clearCache=qS;function LS(e){return pi().get(e.toString())}bt.getCachedResponse=LS;function IS({response:e,cacheKey:t,context:r}){var s;let i=(s=t.method)===null||s===void 0?void 0:s.toLowerCase();if(i&&!Ae.CACHEABLE_METHODS.has(i)&&r.cacheRouteMethod!==i)return e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.method),!1;if(t.body&&Buffer.from(t.body,"utf8").length>8e3)return e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.bodyTooBig),!1;if(e.statusCode&&e.statusCode>=400)return e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.code),!1;if(e.getHeader(Ae.HTTP_HEADERS.setCookie))return e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.setCookie),!1;let n=jS(e);return n.private&&!r.forcePrivateCaching?(e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.private),!1):n.maxAge?(pi().set(t.toString(),NS(e),n.maxAge*1e3),e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.ok),!0):(e.setHeader(Ae.HTTP_HEADERS.x0CachingStatus,Ae.CACHING_STATUS.noMaxAge),!1)}bt.maybeCacheResponse=IS;function NS(e){return{statusCode:e.statusCode,statusMessage:e.statusMessage,headers:MS.default(e.getHeaders()),body:e.body}}function jS(e){return G(G(G({},{private:!1,maxAge:0}),Gd(e.getHeader(Ae.HTTP_HEADERS.cacheControl))),Gd(e.getHeader(Ae.HTTP_HEADERS.x0CacheControl)))}function Gd(e){let t={};if(e){Array.isArray(e)||(e=[e]);let r={};for(let s of e){let i=s.split(/,\s*/).map(n=>n.split(/=/));for(let[n,a]of i)n&&a&&(r[n.toLowerCase()]=a),n.toLowerCase()==="private"&&(t.private=!0);t.maxAge=parseInt(r["s-maxage"]||r["max-age"]||"0")}}return t}});var Wd=v(js=>{"use strict";var FS=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(js,"__esModule",{value:!0});var Mt=be(),BS=FS(require("crypto")),gi=class{constructor(t,r){var s;this.cookies={};let{host:i}=t.headers;if(this.body=t.body,this.method=(s=t.method)===null||s===void 0?void 0:s.toLowerCase(),this.query=this.excludeLayer0QueryParams(t.query||{}),this.pathname=new URL(t.url,`http://${i}`).pathname,this.headers=this.getDefaultHeaders(t.headers),r)for(let n of r.getActions())n(this,t)}static create(t,r){return new gi(t,r)}excludeLayer0QueryParams(t){let r={};for(let s in t)s.startsWith("layer0_")||(r[s]=t[s]);return r}toSortedArray(t){return Object.keys(t).sort().map(r=>[r,t[r]])}getDefaultHeaders(t){return{[Mt.HTTP_HEADERS.host]:t[Mt.HTTP_HEADERS.host],[Mt.HTTP_HEADERS.acceptEncoding]:t[Mt.HTTP_HEADERS.acceptEncoding],[Mt.HTTP_HEADERS.x0Destination]:t[Mt.HTTP_HEADERS.x0Destination],[Mt.HTTP_HEADERS.x0Protocol]:t[Mt.HTTP_HEADERS.x0Protocol]}}toString(){return JSON.stringify({pathname:this.pathname,method:this.method,query:this.toSortedArray(this.query),body:US(this.body),headers:this.toSortedArray(this.headers),cookies:this.toSortedArray(this.cookies)})}};js.default=gi;function US(e){if(!e)return null;let t=BS.default.createHash("sha256");return t.update(e),t.digest("hex")}});var Vd=v(kt=>{"use strict";var GS=kt&&kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kt,"__esModule",{value:!0});var WS=GS(Kt()),ka,Fs,qa="info",La="warn",Ia="error";try{let e=WS.default("chalk"),t=e.hex("D355A7");Fs=e.grey("Layer0"),ka=e.bold(`Layer${t("0")}`),qa=e.cyan(qa),La=e.yellow(La),Ia=e.red(Ia)}catch{ka=Fs="Layer0"}kt.infoLogLabel=`${Fs} ${qa} -`;kt.warnLogLabel=`${Fs} ${La} -`;kt.errorLogLabel=`${Fs} ${Ia} -`;kt.default=ka});var yi=v(Gs=>{"use strict";var Ve=Gs&&Gs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gs,"__esModule",{value:!0});var Bs=Ve(require("fs")),VS=require("path"),Fr=Ve(No()),_i=Ve(Jt()),KS=Ve(Wf()),YS=Ve(Xo()),zS=Ve(jh()),_e=be(),Kd=Vt(),Je=la(),Yd=Ve(ni()),QS=Ve(Gh()),Us=Ma(),XS=Ve(Wd()),Me=Eo(),JS=Ve(da()),zd=Ve(Kt()),qt=Vd(),ZS=Po(),Qd=Ve($a()),eC=Ve(Ko()),Xd=class extends ZS.BaseResponseWriter{constructor(t,r,s,i){super(t,r,s);this.params={},this.streaming=!1,this.preCacheRequestActions=[],this.postCacheRequestActions=[],this.preCacheResponseActions=[],this.postCacheResponseActions=[],this.interpolateParams=n=>YS.default(this.request,this.response,n),this.redirect=(n,a={})=>{let{to:l,statusCode:d,query:p}=this._readRedirectParams(n,a),c=eC.default(this.request.url,Fr.default(Kd.isBrowser()?this.interpolateParams(Yd.default.pathWithQueryString(l,p)):Yd.default.pathWithQueryString(l,p),this.request.params));this.setResponseHeader(_e.HTTP_HEADERS.location,c),this.send("",d)},this.proxy=async(n,a)=>{let l=_i.default.get(`backends.${n}`);await this.proxyHost(l,a)},this.render=n=>{console.warn(`${qt.warnLogLabel} Warning ResponseWriter#render is deprecated.`),n(this.request,this.proxy,this.request.params)},this.renderWithApp=n=>this.proxy(_e.BACKENDS.js,n),this.stream=n=>{if(process.env.NODE_ENV==="production")throw new Error("stream can only be used in development");let a=Jd(_i.default.get(`backends.${n}`));this.response.setHeader(_e.HTTP_HEADERS.contentType,"text/event-stream"),this.streaming=!0,zS.default(this.request,this.response,a,Function.prototype),this.setCreateResponseAction(()=>Promise.resolve())},this.proxyHost=async(n,{path:a,transformRequest:l,transformResponse:d,headers:p,removeEmptySearchParamValues:c}={})=>{n=Jd(n);let _=KS.default.create(n),y;typeof a=="function"?y=a():y=a,y=y&&Fr.default(y,this.request.params),await this.setCreateResponseAction(async()=>{try{if(l){let b=new Me.InternalTiming(Me.InternalNames.transformRequest).start();try{await this.runImmediately(()=>l(this.request))}finally{b.end()}}let A=new Me.InternalTiming(Me.InternalNames.proxying).start();try{await _.fetch(this.request,this.response,{path:y||this.request.url,disableCheckCert:n.disableCheckCert,headers:p,removeEmptySearchParamValues:c})}finally{A.end()}if(d){let b=new Me.InternalTiming(Me.InternalNames.transformResponse).start();try{QS.default(this.response),await this.runImmediately(()=>d(this.response,this.request))}finally{b.end()}}}catch(A){A.type==="BackendFetchError"?(console.error(`${qt.errorLogLabel} Could not connect to backend ${n.domainOrIp}:`,A.message),this.response.statusCode=503):(console.error(`${qt.errorLogLabel} Error in ResponseWriter:`,A),this.response.statusCode=500)}})},this.updatePath=n=>{let a=Fr.default(n,this.request.params);Object.defineProperty(this.request,"path",{get:()=>a})},this.rewrite=(n,a)=>{let l=Fr.default(n,this.request.params);this.request.params=new JS.default(a).match(l)},this.serveStatic=async(n,a={})=>{let l=n&&Fr.default(n,this.request.params),{permanent:d,exclude:p}=a;if(l=l.replace(/\/$/,""),p==null?void 0:p.some(c=>l.indexOf(c)>=0))return this.send("404 - Not found",404);if(Kd.isCloud()){let c=_i.default.get(`backends.${d?_e.BACKENDS.permanentStatic:_e.BACKENDS.static}`);await this.proxyHost(c,{path:l,transformResponse:async _=>{_.statusCode===403&&(a.loadingPage?await this.proxyHost(_i.default.get(`backends.${_e.BACKENDS.static}`),{path:Fr.default(a.loadingPage,this.request.params)}):a.onNotFound?await a.onNotFound(this):(_.statusCode=404,_.statusMessage="Not Found")),a.statusCode&&(_.statusCode=a.statusCode),a.statusMessage&&(_.statusMessage=a.statusMessage)}})}else{if(!Bs.default.existsSync(l))return this.send("404 - Not found",404);Bs.default.lstatSync(l).isDirectory()&&(l=VS.join(l,"./index.html"));let c=Bs.default.statSync(l),_=zd.default("mime-types"),y=zd.default("chardet"),A=_.lookup(l);if(A)try{let b=y.analyse(Bs.default.readFileSync(l));if(b.length>0){let{name:R,confidence:P}=b[0];R&&P>90&&(A+=`; charset=${R}`)}}catch{}else A="application/octet-stream";this.setUpstreamResponseHeader(_e.HTTP_HEADERS.contentType,A),this.internalSetResponseHeader(_e.HTTP_HEADERS.contentLength,c.size.toString(),!1,this.postCacheResponseActions),a.statusCode&&(this.response.statusCode=a.statusCode,this.response.statusMessage=a.statusMessage),await this.setCreateResponseAction(()=>new Promise((b,R)=>{Bs.default.readFile(l,(P,D)=>{P?R(P):(this.response.body=D,b())})}))}},this.cache=n=>{let{browser:a,edge:l,key:d}=n;if(l){let{maxAgeSeconds:p,staleWhileRevalidateSeconds:c,forcePrivateCaching:_}=l,y=[];typeof _!="undefined"&&(this.context.forcePrivateCaching=_===!0),this.cacheKey=d,typeof this.route.criteria.method=="string"&&(this.context.cacheRouteMethod=this.route.criteria.method),p&&(y.push("max-age="+p),c&&y.push("stale-while-revalidate="+c)),y.length&&this.internalSetResponseHeader(_e.HTTP_HEADERS.x0CacheControl,y.join(", "),!1,this.preCacheResponseActions)}if(a||a===!1){let{maxAgeSeconds:p,serviceWorkerSeconds:c}=a||{maxAgeSeconds:0};if(c&&p&&p>0)throw console.error(`${qt.errorLogLabel} Within the caching configuration of your "${this.route.criteria.path}" route, when service worker caching is set, the browser max age must be set to zero. Refer to https://docs.layer0.co/guides/caching#section_caching_a_response`),new Error("When service worker caching is set, the browser max age must be set to zero. Refer to https://docs.layer0.co/guides/caching#section_caching_a_response");p===0?this.setResponseHeader(_e.HTTP_HEADERS.cacheControl,"private, no-store, no-cache"):p&&this.setResponseHeader(_e.HTTP_HEADERS.cacheControl,`private, max-age=${p}`),c&&this.setResponseHeader(_e.HTTP_HEADERS.xSwCacheControl,`max-age=${c}`)}},this.setResponseHeader=(n,a)=>{this.internalSetResponseHeader(n,a,!0,this.postCacheResponseActions)},this.internalSetResponseHeader=(n,a,l,d)=>{l&&Je.validateSetResponseHeader(n),this.scheduleExecution(d,()=>{let p=this.interpolateParams(a);this.response.setHeader(n,p)})},this.updateResponseHeader=(n,a,l)=>{this.internalUpdateResponseHeader(n,a,l,this.preCacheResponseActions)},this.internalUpdateResponseHeader=(n,a,l,d)=>{Je.validateUpdateResponseHeader(n),this.scheduleExecution(d,()=>{let p=this.response.getHeader(n),c=this.interpolateParams(l);p&&this.response.setHeader(n,p.replace(a,c))})},this.removeResponseHeader=n=>{this.internalRemoveResponseHeader(n,this.postCacheResponseActions)},this.internalRemoveResponseHeader=(n,a)=>{Je.validateRemoveResponseHeader(n),this.scheduleExecution(a,()=>{this.response.removeHeader(n)})},this.getSetCookieValues=()=>{let n=this.response.getHeader(_e.HTTP_HEADERS.setCookie);return typeof n=="string"?[n]:n||[]},this.getAddResponseCookieAction=(n,a,l={})=>()=>{let d=this.getSetCookieValues(),p=this.interpolateParams(a),c=`${n}=${p}`,_;for(_ in l){let y=l[_];typeof y=="boolean"&&y?c+=`; ${_}`:c+=`; ${_}=${y}`}this.response.setHeader(_e.HTTP_HEADERS.setCookie,[...d,c])},this.addUpstreamResponseCookie=(n,a,l)=>{Je.validateCookieName(n),this.scheduleExecution(this.preCacheResponseActions,this.getAddResponseCookieAction(n,a,l))},this.addResponseCookie=(n,a,l)=>{Je.validateCookieName(n),this.scheduleExecution(this.postCacheResponseActions,this.getAddResponseCookieAction(n,a,l))},this.getUpdateResponseCookieAction=(n,a,l)=>()=>{let d=this.getSetCookieValues().map(p=>{let[c,..._]=p.split("=");if(c!==n)return p;let y=_.join("=").replace(a,l);return[c,y].join("=")});this.response.setHeader(_e.HTTP_HEADERS.setCookie,d)},this.updateUpstreamResponseCookie=(n,a,l)=>{Je.validateCookieName(n),this.scheduleExecution(this.preCacheResponseActions,this.getUpdateResponseCookieAction(n,a,l))},this.updateResponseCookie=(n,a,l)=>{Je.validateCookieName(n),this.scheduleExecution(this.postCacheResponseActions,this.getUpdateResponseCookieAction(n,a,l))},this.getRemoveResponseCookieAction=n=>()=>{let a=this.getSetCookieValues().filter(l=>l.split("=")[0]!==n);this.response.setHeader(_e.HTTP_HEADERS.setCookie,a)},this.removeUpstreamResponseCookie=n=>{Je.validateCookieName(n),this.scheduleExecution(this.preCacheResponseActions,this.getRemoveResponseCookieAction(n))},this.removeResponseCookie=n=>{Je.validateCookieName(n),this.scheduleExecution(this.postCacheResponseActions,this.getRemoveResponseCookieAction(n))},this.setUpstreamResponseHeader=(n,a)=>{let l=n.toLowerCase()!=_e.HTTP_HEADERS.x0SurrogateKey;return this.internalSetResponseHeader(n,a,l,this.preCacheResponseActions)},this.updateUpstreamResponseHeader=(n,a,l)=>this.internalUpdateResponseHeader(n,a,l,this.preCacheResponseActions),this.removeUpstreamResponseHeader=n=>this.internalRemoveResponseHeader(n,this.preCacheResponseActions),this.setRequestHeader=(n,a)=>{Je.validateSetRequestHeader(n),this.scheduleExecution(this.postCacheRequestActions,()=>{this.request.headers[n.toLowerCase()]=a})},this.runImmediatelyDepthCounter=0,this.runImmediately=async n=>{try{++this.runImmediatelyDepthCounter,await n()}finally{--this.runImmediatelyDepthCounter}},this.scheduleExecution=(n,a)=>{this.runningImmediately?a():n.push(a)},this.updateRequestHeader=(n,a,l)=>{Je.validateUpdateRequestHeader(n),this.scheduleExecution(this.postCacheRequestActions,()=>{let d=n.toLowerCase(),p=this.request.headers[d],c=this.interpolateParams(l);Array.isArray(p)?this.request.headers[d]=p.map(_=>_.replace(a,c)):p&&(this.request.headers[d]=p.replace(a,c))})},this.removeRequestHeader=n=>{Je.validateRemoveRequestHeader(n),this.scheduleExecution(this.postCacheRequestActions,()=>{delete this.request.headers[n.toLowerCase()]})},this.serviceWorker=n=>{this.cache({edge:{maxAgeSeconds:30758400},browser:{maxAgeSeconds:0}}),this.serveStatic(n)},this.appShell=n=>{this.setResponseHeader(_e.HTTP_HEADERS.contentType,"text/html"),this.serveStatic(n)},this.allowCors=(n={})=>{this.setResponseHeader("Access-Control-Allow-Origin",n.origin||"*"),n.methods&&this.setResponseHeader("Access-Control-Allow-Methods",n.methods.join(", ")),n.headers&&this.setResponseHeader("Access-Control-Allow-Headers",n.headers.join(", ")),n.maxAge&&this.setResponseHeader("Access-Control-Max-Age",n.maxAge.toString()),n.credentials!=null&&this.setResponseHeader("Access-Control-Allow-Credentials",n.credentials.toString())},this.send=(n,a=200,l)=>{this.setCreateResponseAction(async()=>{this.response.statusCode=a,this.response.statusMessage=l,typeof n=="function"?this.response.body=n():this.response.body=n})},this.compute=n=>{this.setCreateResponseAction(async()=>{await this.clearResponseAction().runImmediately(()=>n(this.request,this.response))})},this.onRouteError=n=>{let a={status:"error",message:n.message},l=n.isUserError;l&&console.error(`${qt.errorLogLabel} ${n.message}`),process.env.NODE_ENV!=="production"&&(a={message:`An error occured while running route ${this.route.toString()}: ${n.message}`,stack:l?void 0:n.stack,url:this.request.url});try{this.response.setHeader(_e.HTTP_HEADERS.contentType,"application/json"),this.response.writeHead(500),this.response.end(JSON.stringify(a))}catch{console.error(`${qt.errorLogLabel} Could not write error response because headers have already been sent.`,a)}},this.request=t,this.response=r,this.route=s,this.context=i}async sendResponse({beforeResponse:t=()=>!0}={}){let r=!1;for(let n of this.preCacheRequestActions)n();let s,i;if(Us.isCacheEnabled()&&(i=this.context.cacheKey||XS.default.create(this.request,this.cacheKey),s=Us.getCachedResponse(i),this.cacheKey&&(this.context.cacheKey=i),!this.validatePrefetch(s)))return console.log(`${qt.infoLogLabel} throttle ${this.request.url}`),!0;if(s)r=!0,new Me.InternalTiming(Me.InternalNames.edgeCache).set(Me.CacheValue.hit),this.applyCachedResponse(s);else{for(let a of this.postCacheRequestActions)a();this.createResponseAction&&(await this.createResponseAction(),r=!0);for(let a of this.preCacheResponseActions)a();if(!await t(this.response))return r}if(r&&!this.streaming&&!s&&Us.isCacheEnabled()){let n=Us.maybeCacheResponse({response:this.response,cacheKey:i,context:this.context});new Me.InternalTiming(Me.InternalNames.edgeCache).set(n?Me.CacheValue.cached:Me.CacheValue.pass)}for(let n of this.postCacheResponseActions)n();return r&&!this.streaming&&(this.logCacheStatus(),Me.addTimings(this.response),this.response.statusCode&&this.response.writeHead(this.response.statusCode,this.response.statusMessage||void 0),this.response.end(this.response.body)),r}logCacheStatus(){if(Us.isCacheEnabled()){let t=this.response.getHeader(_e.HTTP_HEADERS.x0CachingStatus),r=Me.getInternalTiming(Me.InternalNames.edgeCache),{url:s}=this.request;console.log(`${qt.infoLogLabel} ${r} ${s}${t?` (${t})`:""}`)}}applyCachedResponse(t){this.response.statusCode=t.statusCode,this.response.statusMessage=t.statusMessage,this.response.body=Qd.default(t.body);for(let r of Object.keys(t.headers))this.response.setHeader(r,Qd.default(t.headers[r]))}validatePrefetch(t){return Object.keys(this.request.query||{}).includes(_e.THROTTLED_QUERY_PARAM)&&!t?(this.response.writeHead(_e.LAYER0_UNCACHED_PREFETCH_STATUS),this.response.end(),!1):!0}async setCreateResponseAction(t){if(this.runningImmediately)await t();else{if(this.createResponseAction!=null)throw new Error("You may only call one of the following once in your route handler: proxy, serveStatic, serviceWorker, redirect, send.");this.createResponseAction=t}}get runningImmediately(){return this.runImmediatelyDepthCounter>0}clearResponseAction(){return this.createResponseAction=void 0,this}};Gs.default=Xd;function Jd(e){return typeof e=="string"&&(e={domainOrIp:e}),e}});var ep=v(Vs=>{"use strict";var tC=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vs,"__esModule",{value:!0});var Ws=require("os"),rC=be(),Zd=tC(Jt());function sC(e){if(Object.values(rC.BACKENDS).includes(e)||Zd.default.get(`backends.${e}`,!1))return;let t=Object.keys(Zd.default.get("backends"));throw t&&t.length?new Error(`To fix this problem use one of the "backends" configured in layer0.config.js:${Ws.EOL}${Ws.EOL} - ${t.join(`${Ws.EOL} - `)}${Ws.EOL}${Ws.EOL}or add "${e}" to the "backends" property in layer0.config.js.`):new Error(`Add "${e}" to the "backends" property in layer0.config.js.`)}Vs.default=sC});var ja=v(lr=>{"use strict";var nC=lr&&lr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},Ks=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0});var Ys=nC(Lf()),Q=be(),iC=Ks(Nn()),oC=Ks(If()),aC=Ks(yi()),Na=Ks(ni()),uC=Ks(ep()),Rt=la(),cC=gs(),lC=60*60*24*365*10,tp=class extends aC.default{constructor(t,r,s,i){super(t,r,s,i);this.stream=()=>{},this.setRequestHeader=(n,a)=>{Rt.validateSetRequestHeader(n),this.edgeConfig.transform.request.push({action:Q.ACTIONS.setHeader,name:n,value:a})},this.updateRequestHeader=(n,a,l)=>{Rt.validateUpdateRequestHeader(n),this.edgeConfig.transform.request.push({action:Q.ACTIONS.updateHeader,name:n,valueRegex:a.source,replaceValue:l})},this.removeRequestHeader=n=>{Rt.validateRemoveRequestHeader(n),this.edgeConfig.transform.request.push({action:Q.ACTIONS.removeHeader,name:n})},this.setResponseHeader=(n,a)=>{Rt.validateSetResponseHeader(n),this.edgeConfig.transform.response.push({action:Q.ACTIONS.setHeader,name:n,value:a})},this.updateResponseHeader=(n,a,l)=>{Rt.validateUpdateResponseHeader(n),this.edgeConfig.transform.response.push({action:Q.ACTIONS.updateHeader,name:n,valueRegex:a.source,replaceValue:l})},this.removeResponseHeader=n=>{Rt.validateRemoveResponseHeader(n),this.edgeConfig.transform.response.push({action:Q.ACTIONS.removeHeader,name:n})},this.setUpstreamResponseHeader=(n,a)=>{n.toLowerCase()!=Q.HTTP_HEADERS.x0SurrogateKey&&Rt.validateSetResponseHeader(n),this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.setHeader,name:n,value:a})},this.updateUpstreamResponseHeader=(n,a,l)=>{Rt.validateUpdateResponseHeader(n),this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.updateHeader,name:n,valueRegex:a.source,replaceValue:l})},this.removeUpstreamResponseHeader=n=>{Rt.validateRemoveResponseHeader(n),this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.removeHeader,name:n})},this.addResponseCookie=(n,a)=>{this.edgeConfig.transform.response.push({action:Q.ACTIONS.addCookie,name:n,value:a})},this.updateResponseCookie=(n,a,l)=>{this.edgeConfig.transform.response.push({action:Q.ACTIONS.updateCookie,name:n,valueRegex:a.source,replaceValue:l})},this.removeResponseCookie=n=>{this.edgeConfig.transform.response.push({action:Q.ACTIONS.removeCookie,name:n})},this.addUpstreamResponseCookie=(n,a)=>{this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.addCookie,name:n,value:a})},this.updateUpstreamResponseCookie=(n,a,l)=>{this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.updateCookie,name:n,valueRegex:a.source,replaceValue:l})},this.removeUpstreamResponseCookie=n=>{this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.removeCookie,name:n})},this.redirect=(n,a={})=>{let{to:l,statusCode:d,query:p}=this._readRedirectParams(n,a),c=!oC.default(p),_=Ys.getBackReferences(Na.default.pathWithQueryString(l,p));if(this.shouldParseQueryString(_)||c){this.cache({edge:{maxAgeSeconds:lC}}),this.proxy(Q.BACKENDS.js);return}if(this.setEdgeRoute({action:Q.ACTIONS.syntheticRes,statusCode:d}),this.edgeConfig.transform.response.push({action:Q.ACTIONS.setHeader,name:Q.HTTP_HEADERS.location,value:"${url}"}),this.route.criteria.path){let A=Na.default.toEdgeRegexString(this.route.criteria.path+"{(\\?[^#]+)}?"),b=Ys.getBackReferences(this.route.criteria.path),R=Ys.default(this.route.criteria.path,l)+`\\${Object.keys(b).length+1}`;this.edgeConfig.transform.response.push({action:Q.ACTIONS.updateHeader,name:Q.HTTP_HEADERS.location,valueRegex:A,replaceValue:R})}else this.edgeConfig.transform.response.push({action:Q.ACTIONS.updateHeader,name:Q.HTTP_HEADERS.location,valueRegex:Na.default.toEdgeRegexString("([^?]*){(\\?[^#]+)}?"),replaceValue:`${l}\\2`})},this.serveStatic=(n,{permanent:a,exclude:l,onNotFound:d,loadingPage:p,expiresSeconds:c,statusCode:_,statusMessage:y}={})=>{n&&!n.startsWith("/")&&(n=`/${n}`);let A=[],b;p&&(A.push(p),b={valueRegex:this.route.toEdgeRegexString(),replaceValue:Ys.default(this.route.criteria.path,p)}),n&&this.updatePath(n),typeof n=="string"&&A.push(n);let R=a===!0||iC.default(a,"enabled")||!1;return this.setEdgeRoute({action:Q.ACTIONS.proxy,backend:R?Q.BACKENDS.permanentStatic:Q.BACKENDS.static,fsPath:A,fsExclude:l,fallbackToCompute:d!=null,loadingPage:b,expiresSeconds:c,statusMessage:y,statusCode:_}),Promise.resolve()},this.verifyJwt=n=>(this.edgeConfig.jwtVerification=n,Promise.resolve()),this.proxy=(n,{path:a,transformResponse:l,transformRequest:d}={})=>(uC.default(n),l!=null||d!=null||typeof a=="function"?n=Q.BACKENDS.js:typeof a=="string"&&this.updatePath(a),this.setEdgeRoute({action:Q.ACTIONS.proxy,backend:n}),Promise.resolve()),this.updatePath=n=>{let a=Ys.default(this.route.criteria.path,n);a[0]!=="/"&&(a=`/${a}`),this.edgeConfig.transform.request.push({action:Q.ACTIONS.updatePath,valueRegex:this.route.toEdgeRegexString(),replaceValue:a})},this.cache=n=>{let{edge:a,browser:l,key:d}=n;if(a){let{maxAgeSeconds:p,staleWhileRevalidateSeconds:c,forcePrivateCaching:_}=a;this.edgeConfig.cache={maxAgeSeconds:p,staleWhileRevalidateSeconds:c,forcePrivateCaching:_}}else a===!1&&(this.edgeConfig.cache={disabled:!0});if(d&&(this.edgeConfig.cache||(this.edgeConfig.cache={}),this.edgeConfig.cache.customKey=d.toJSON()),l||l===!1){let{maxAgeSeconds:p,serviceWorkerSeconds:c}=l||{maxAgeSeconds:0};if(c&&p&&p>0)throw new Error("When service worker caching is set, the browser max age must be set to zero. Refer to https://docs.layer0.co/guides/caching#section_caching_a_response");p===0?this.edgeConfig.transform.response.push({action:Q.ACTIONS.setHeader,name:Q.HTTP_HEADERS.cacheControl,value:"private, no-store, no-cache"}):p&&this.edgeConfig.transform.response.push({action:Q.ACTIONS.setHeader,name:Q.HTTP_HEADERS.cacheControl,value:`private, max-age=${p}`}),c&&this.edgeConfig.transform.response.push({action:Q.ACTIONS.setHeader,name:Q.HTTP_HEADERS.xSwCacheControl,value:`max-age=${c}`})}},this.send=(n,a,l)=>{typeof n=="function"?this.render():this.setEdgeRoute({action:Q.ACTIONS.syntheticRes,statusCode:a,statusMessage:l,content:n})},this.compute=n=>{this.setEdgeRoute({action:Q.ACTIONS.proxy,backend:Q.BACKENDS.js})},this.render=()=>(this.setEdgeRoute({action:Q.ACTIONS.proxy,backend:Q.BACKENDS.js}),Promise.resolve()),this.edgeConfig={transform:{request:[],upstreamResponse:[],response:[]}}}shouldParseQueryString(t){let r=this.route.criteria.query;return r===void 0?!1:Object.keys(r).some(s=>{let i=r[s];return cC.isParamMatcher(i)&&!!t[s]})}setEdgeRoute(t){this.edgeConfig.route=t,this.edgeConfig.transform.upstreamResponse.push({action:Q.ACTIONS.setHeader,name:Q.HTTP_HEADERS.vary,value:Q.HTTP_HEADERS.acceptEncoding})}};lr.default=tp});var Ba=v(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});var rp=class{constructor(){this.forcePrivateCaching=!1}};Fa.default=rp});var np=v(zs=>{"use strict";var fC=zs&&zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zs,"__esModule",{value:!0});var hC=fC(ja()),sp=class extends hC.default{constructor(){super(...arguments);this.proxy=(t,r={})=>{throw new Error("Proxy cannot be used inside router.catch()")}}};zs.default=sp});var ip=v((c$,dC)=>{dC.exports={name:"@layer0/core",version:"4.15.8",main:"./index.js",license:"UNLICENSED",scripts:{docs:"typedoc",build:"rm -rf ./dist; mkdir ./dist; cp -r package.json README.md serverless.yml default-app ./dist; tsc; npm run bundle-handler;","bundle-handler":"esbuild src/lambda/handler.ts --bundle --minify --platform=node --target=node14.0 --outfile=dist/lambda/handler.js --log-level=error --sourcemap",watch:"npm-watch","ts:watch":"tsc --watch","push-build":"npm run build && cd dist && yalc push && cd ..",release:"cd ./dist; npm publish --access public","release:next":"npm run release -- --tag next",test:"jest --watchAll=false --runInBand --forceExit"},dependencies:{"@babel/parser":"^7.16.2","@babel/traverse":"^7.16.0","@types/lodash.clonedeep":"^4.5.6",ajv:"^6.12.6","babel-loader":"^8.2.2",chalk:"^4.1.2",chardet:"^1.4.0",chokidar:"^3.5.1","cls-hooked":"^4.2.2","content-type":"^1.0.4",cookie:"^0.4.1","cross-spawn":"^7.0.3","decode-uri-component":"^0.2.0",deepmerge:"^4.2.2",esbuild:"^0.13.4",express:"^4.17.1","fs-extra":"^8.1.0",globby:"^11.0.2","http-proxy":"^1.18.1","lodash.clonedeep":"^4.5.0","lru-cache":"^6.0.0","mime-types":"^2.1.29","node-fetch":"^2.6.1","path-to-regexp":"^6.2.0",pino:"^6.13.3",qs:"^6.10.1","resolve-package-path":"^4.0.3",semver:"^7.3.5",shelljs:"^0.8.5",slash:"^3.0.0","tcp-port-used":"^1.0.2","ts-loader":"^8.2.0",unixify:"^1.0.0",uuid:"^8.3.2"},publishConfig:{directory:"dist"},watch:{"push-build":{patterns:["src","bin","serverless.yml","default-app","package.json"],extensions:["js","ts"],quiet:!1}},jest:{clearMocks:!0,collectCoverage:!0,transform:{"^.+\\.(js)?$":"babel-jest","^.+\\.ts$":"ts-jest"},moduleFileExtensions:["ts","js","json"],setupFilesAfterEnv:["<rootDir>/test/jest.js"],transformIgnorePatterns:["<rootDir>/node_modules/"],moduleNameMapper:{"../package.json":"<rootDir>/package.json","^@layer0/core(.*)$":"<rootDir>/src/$1"},collectCoverageFrom:["./src/**/*.{ts,js}","!**/mocks/**","!**/test-utils/**","!**/index.ts","!**/plugins/PluginBase.ts","!**/bin/**/*"]},devDependencies:{"@types/cls-hooked":"^4.3.1","@types/content-type":"^1.1.3","@types/cookie":"^0.3.3","@types/cross-spawn":"^6.0.2","@types/decode-uri-component":"^0.2.0","@types/express":"^4.17.7","@types/fs-extra":"^8.1.1","@types/http-proxy":"^1.17.4","@types/jest":"^26.0.23","@types/lodash":"^4.14.162","@types/lru-cache":"^5.1.0","@types/mime-types":"^2.1.0","@types/node":"^14.6.4","@types/route-parser":"^0.1.3","@types/semver":"^7.3.9","@types/shelljs":"^0.8.8","@types/tcp-port-used":"^1.0.0","@types/unixify":"^1.0.0","@types/uuid":"^8.0.1","@types/webpack-bundle-analyzer":"^3.9.0",lodash:"^4.17.21",nock:"^13.2.8",stripe:"^9.12.0",webpack:"^5.27.0","webpack-bundle-analyzer":"^3.9.0","webpack-dev-middleware":"^4.1.0"}}});var hp=v(Xs=>{"use strict";var fr=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xs,"__esModule",{value:!0});var pC=fr(Jt()),op=fr(Bn()),gC=fr(Of()),Qs=fr($f()),_C=fr(ja()),ap=be(),up=fr(Ba()),yC=gs(),mC=fr(np());function vC({edgeConfig:e},t){var r,s;return e.cache&&((r=e.cache)===null||r===void 0?void 0:r.maxAgeSeconds)&&((s=e.cache)===null||s===void 0?void 0:s.maxAgeSeconds)>0&&t?Z(G({},e.cache),{matchExplicitMethod:t}):e.cache}function EC({edgeConfig:e},t){var r;let s=e.route;return((r=e.route)===null||r===void 0?void 0:r.action)===ap.ACTIONS.syntheticRes&&!e.route.statusCode&&!t&&(e.route.statusCode=200),s}function bC({edgeConfig:e}){return e.transform}function RC({edgeConfig:e}){return e.jwtVerification}function cp(e){return Object.entries(e).reduce((t,[r,s])=>(s instanceof RegExp?t[r]=Qs.default(s):typeof s=="object"&&s!==null?t[r]=cp(s):t[r]=Qs.default(s),t),{})}function AC(e){var t;let r=[],s=[],i,n;if(e.criteria.protocol){let a;if(typeof e.criteria.protocol=="string"?a=new RegExp(`^${e.criteria.protocol}$`,"i"):a=new RegExp(e.criteria.protocol),!a.test("http")&&!a.test("https"))throw new Error('Protocol matcher must match either "http" or "https"');i=a.source}if(e.criteria.path&&r.push({value:"${path}",matchRegex:e.toEdgeRegexString()}),e.criteria.method){let a;typeof e.criteria.method!="string"?a=e.criteria.method:(a=gC.default(e.criteria.method),Object.values(ap.HTTP_METHODS).includes(e.criteria.method)&&(n=e.criteria.method)),r.push({value:"${method}",matchRegex:op.default(a)})}return e.criteria.headers&&Object.entries(e.criteria.headers).forEach(([a,l])=>{r.push({value:`\${req:${a}}`,matchRegex:Qs.default(l)})}),((t=e.criteria.response)===null||t===void 0?void 0:t.statusCode)&&s.push({value:"${res:status}",matchRegex:op.default(e.criteria.response.statusCode)}),e.criteria.query&&Object.entries(e.criteria.query).forEach(([a,l])=>{yC.isParamMatcher(l)||r.push({value:`\${query:${a}}`,matchRegex:Qs.default(l)})}),e.criteria.cookies&&Object.entries(e.criteria.cookies).forEach(([a,l])=>{r.push({value:`\${req:cookie:${a}}`,matchRegex:Qs.default(l)})}),e.criteria.body&&r.push({matchBody:JSON.stringify({parse:e.criteria.body.parse,criteria:cp(e.criteria.body.criteria)})}),{match:r,matchResp:s,matchExplicitMethod:n,matchProtocolJavaScriptRegExpSource:i}}async function SC(e){let t={};if(!Object.keys(e.getDestinations()).length)t={default:await fp(e)};else for(let r in e.getDestinations())t[r]=await fp(e.getDestinations()[r]);return{version:CC(),backends:G({},pC.default.get("backends")),destinations:t}}Xs.default=SC;function CC(){return ip().version}async function lp(e,t,r,s){try{await e.handler(t)}catch(d){Error.captureStackTrace(d),r.push({route:e.toString(),stackTrace:d.stack})}let{match:i,matchResp:n,matchExplicitMethod:a,matchProtocolJavaScriptRegExpSource:l}=AC(e);return{path:e.criteria.path,routeJson:e.toJson(),match:i,matchResp:n,matchProtocolJavaScriptRegExpSource:l,cache:vC(t,a),route:EC(t,s),transform:bC(t),jwtVerification:RC(t)}}async function fp(e){let t=[],r={index:e.index,errorRoutes:await Promise.all(e.getRouteGroups().getRoutes().filter(s=>s.isRespRoute()).map(s=>lp(s,new mC.default({url:"",headers:{}},{},s,new up.default),t,!0))),routes:await Promise.all(e.getRouteGroups().getRoutes().filter(s=>!s.isRespRoute()).map(s=>lp(s,new _C.default({url:"",headers:{}},{},s,new up.default),t,!1)))};if(t.length){let s=`
Errors occurred while attempting to deploy your application to Layer0 edge.
The following ${t.length>1?"routes":"route"} could not be processed:`;throw t.forEach(({route:i,stackTrace:n})=>{s=s.concat(`
* ${i}: ${n}`)}),new Error(s)}return r}});var dp=v(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});function xC(e,t){if(!e||!e.length)return;let r,s,i=!1;for(let n of e){if(!i){r=n,t&&(s=t(n)),i=!0;continue}if(t){let a=t(n);a<s&&(r=n,s=a)}else n<r&&(r=n)}return r}Ua.default=xC});var gp=v(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var pp=class{constructor(){this._tasks=[],this._resolveHandler=Function.prototype,this._errorHandler=t=>{throw t}}add(...t){return this._tasks.push(...t),this}onTaskDone(t){return this._resolveHandler=t,this}onTaskError(t){return this._errorHandler=t,this}resolve(){let t=this._convertTasksToPromises().map((r,s)=>r.then(i=>(this._resolveHandler(i),i)).catch(i=>this._errorHandler(i)));return Promise.all(t)}_convertTasksToPromises(){return this._tasks.map(t=>{if(typeof t!="function")return Promise.resolve(t);try{let r=t();return r instanceof Promise?r:Promise.resolve(r)}catch(r){return Promise.reject(r)}})}};Ga.default=pp});var mp=v(Zs=>{"use strict";var _p=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0});var wC=_p(Jt()),yp=_p(gp()),Js=class{constructor(){this.options=[]}push(...t){this.options.push(...t)}static async resolveDestinationPreloadConfig(t,r){let s=[];return await new yp.default().add(...t.preloadRequests.options).onTaskDone(i=>{s.push(...i.map(n=>Z(G({},n),{destination:r})))}).resolve(),{requests:s}}static async resolvePreloadConfig(t){let r=[],s=new yp.default,i=t.getDestinations();if(!Object.keys(i).length)s.add(Js.resolveDestinationPreloadConfig(t,"default"));else for(let n in i)s.add(Js.resolveDestinationPreloadConfig(i[n],n));return await s.onTaskDone(({requests:n})=>{r.push(...n)}).resolve(),{requests:r,concurrency:wC.default.get("prerenderConcurrency",null)}}};Zs.default=Js});var vp=v(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});function PC(e){return new Promise(t=>{e.body="",e.on("data",r=>e.body+=r.toString()),e.on("end",t)})}Wa.default=PC});var Ep=v(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});function TC(){return process.env.LAYER0_ROOT_SOURCE_DIR||process.cwd()}mi.getSourceDir=TC;function OC(e){process.env.LAYER0_ROOT_SOURCE_DIR=e}mi.setSourceDir=OC});var Rp=v((_$,bp)=>{"use strict";bp.exports=(...e)=>[...new Set([].concat(...e))]});var Va=v((y$,Cp)=>{"use strict";var HC=require("stream"),Ap=HC.PassThrough,$C=Array.prototype.slice;Cp.exports=DC;function DC(){let e=[],t=$C.call(arguments),r=!1,s=t[t.length-1];s&&!Array.isArray(s)&&s.pipe==null?t.pop():s={};let i=s.end!==!1,n=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);let a=Ap(s);function l(){for(let c=0,_=arguments.length;c<_;c++)e.push(Sp(arguments[c],s));return d(),this}function d(){if(r)return;r=!0;let c=e.shift();if(!c){process.nextTick(p);return}Array.isArray(c)||(c=[c]);let _=c.length+1;function y(){--_>0||(r=!1,d())}function A(b){function R(){b.removeListener("merge2UnpipeEnd",R),b.removeListener("end",R),n&&b.removeListener("error",P),y()}function P(D){a.emit("error",D)}if(b._readableState.endEmitted)return y();b.on("merge2UnpipeEnd",R),b.on("end",R),n&&b.on("error",P),b.pipe(a,{end:!1}),b.resume()}for(let b=0;b<c.length;b++)A(c[b]);y()}function p(){r=!1,a.emit("queueDrain"),i&&a.end()}return a.setMaxListeners(0),a.add=l,a.on("unpipe",function(c){c.emit("merge2UnpipeEnd")}),t.length&&l.apply(null,t),a}function Sp(e,t){if(Array.isArray(e))for(let r=0,s=e.length;r<s;r++)e[r]=Sp(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Ap(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var xp=v(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.splitWhen=Br.flatten=void 0;function MC(e){return e.reduce((t,r)=>[].concat(t,r),[])}Br.flatten=MC;function kC(e,t){let r=[[]],s=0;for(let i of e)t(i)?(s++,r[s]=[]):r[s].push(i);return r}Br.splitWhen=kC});var wp=v(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.isEnoentCodeError=void 0;function qC(e){return e.code==="ENOENT"}vi.isEnoentCodeError=qC});var Tp=v(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.createDirentFromStats=void 0;var Pp=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function LC(e,t){return new Pp(e,t)}Ei.createDirentFromStats=LC});var Op=v(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.removeLeadingDotSegment=ct.escape=ct.makeAbsolute=ct.unixify=void 0;var IC=require("path"),NC=2,jC=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function FC(e){return e.replace(/\\/g,"/")}ct.unixify=FC;function BC(e,t){return IC.resolve(e,t)}ct.makeAbsolute=BC;function UC(e){return e.replace(jC,"\\$2")}ct.escape=UC;function GC(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(NC)}return e}ct.removeLeadingDotSegment=GC});var $p=v((R$,Hp)=>{Hp.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var kp=v((A$,Mp)=>{var WC=$p(),Dp={"{":"}","(":")","[":"]"},VC=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,s=-2,i=-2,n=-2,a=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||s!==-1&&e[t]==="["&&e[t+1]!=="]"&&(s<t&&(s=e.indexOf("]",t)),s>t&&(a===-1||a>s||(a=e.indexOf("\\",t),a===-1||a>s)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(a=e.indexOf("\\",t),a===-1||a>i))||n!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(n=e.indexOf(")",t),n>t&&(a=e.indexOf("\\",t),a===-1||a>n))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(n=e.indexOf(")",r),n>r&&(a=e.indexOf("\\",r),a===-1||a>n))))return!0;if(e[t]==="\\"){var l=e[t+1];t+=2;var d=Dp[l];if(d){var p=e.indexOf(d,t);p!==-1&&(t=p+1)}if(e[t]==="!")return!0}else t++}return!1},KC=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var s=Dp[r];if(s){var i=e.indexOf(s,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};Mp.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(WC(t))return!0;var s=VC;return r&&r.strict===!1&&(s=KC),s(t)}});var Lp=v((S$,qp)=>{"use strict";var YC=kp(),zC=require("path").posix.dirname,QC=require("os").platform()==="win32",Ka="/",XC=/\\/g,JC=/[\{\[].*[\}\]]$/,ZC=/(^|[^\\])([\{\[]|\([^\)]+$)/,ex=/\\([\!\*\?\|\[\]\(\)\{\}])/g;qp.exports=function(t,r){var s=Object.assign({flipBackslashes:!0},r);s.flipBackslashes&&QC&&t.indexOf(Ka)<0&&(t=t.replace(XC,Ka)),JC.test(t)&&(t+=Ka),t+="a";do t=zC(t);while(YC(t)||ZC.test(t));return t.replace(ex,"$1")}});var bi=v(Ze=>{"use strict";Ze.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Ze.find=(e,t)=>e.nodes.find(r=>r.type===t);Ze.exceedsLimit=(e,t,r=1,s)=>s===!1||!Ze.isInteger(e)||!Ze.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=s;Ze.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];!s||(r&&s.type===r||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)};Ze.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;Ze.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Ze.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Ze.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Ze.flatten=(...e)=>{let t=[],r=s=>{for(let i=0;i<s.length;i++){let n=s[i];Array.isArray(n)?r(n,t):n!==void 0&&t.push(n)}return t};return r(e),t}});var Ri=v((x$,Np)=>{"use strict";var Ip=bi();Np.exports=(e,t={})=>{let r=(s,i={})=>{let n=t.escapeInvalid&&Ip.isInvalidBrace(i),a=s.invalid===!0&&t.escapeInvalid===!0,l="";if(s.value)return(n||a)&&Ip.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let d of s.nodes)l+=r(d);return l};return r(e)}});var Fp=v((w$,jp)=>{"use strict";jp.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Qp=v((P$,zp)=>{"use strict";var Bp=Fp(),hr=(e,t,r)=>{if(Bp(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Bp(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s=G({relaxZeros:!0},r);typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let i=String(s.relaxZeros),n=String(s.shorthand),a=String(s.capture),l=String(s.wrap),d=e+":"+t+"="+i+n+a+l;if(hr.cache.hasOwnProperty(d))return hr.cache[d].result;let p=Math.min(e,t),c=Math.max(e,t);if(Math.abs(p-c)===1){let R=e+"|"+t;return s.capture?`(${R})`:s.wrap===!1?R:`(?:${R})`}let _=Yp(e)||Yp(t),y={min:e,max:t,a:p,b:c},A=[],b=[];if(_&&(y.isPadded=_,y.maxLen=String(y.max).length),p<0){let R=c<0?Math.abs(c):1;b=Up(R,Math.abs(p),y,s),p=y.a=0}return c>=0&&(A=Up(p,c,y,s)),y.negatives=b,y.positives=A,y.result=tx(b,A,s),s.capture===!0?y.result=`(${y.result})`:s.wrap!==!1&&A.length+b.length>1&&(y.result=`(?:${y.result})`),hr.cache[d]=y,y.result};function tx(e,t,r){let s=Ya(e,t,"-",!1,r)||[],i=Ya(t,e,"",!1,r)||[],n=Ya(e,t,"-?",!0,r)||[];return s.concat(n).concat(i).join("|")}function rx(e,t){let r=1,s=1,i=Wp(e,r),n=new Set([t]);for(;e<=i&&i<=t;)n.add(i),r+=1,i=Wp(e,r);for(i=Vp(t+1,s)-1;e<i&&i<=t;)n.add(i),s+=1,i=Vp(t+1,s)-1;return n=[...n],n.sort(ix),n}function sx(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=nx(e,t),i=s.length,n="",a=0;for(let l=0;l<i;l++){let[d,p]=s[l];d===p?n+=d:d!=="0"||p!=="9"?n+=ox(d,p,r):a++}return a&&(n+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:n,count:[a],digits:i}}function Up(e,t,r,s){let i=rx(e,t),n=[],a=e,l;for(let d=0;d<i.length;d++){let p=i[d],c=sx(String(a),String(p),s),_="";if(!r.isPadded&&l&&l.pattern===c.pattern){l.count.length>1&&l.count.pop(),l.count.push(c.count[0]),l.string=l.pattern+Kp(l.count),a=p+1;continue}r.isPadded&&(_=ax(p,r,s)),c.string=_+c.pattern+Kp(c.count),n.push(c),a=p+1,l=c}return n}function Ya(e,t,r,s,i){let n=[];for(let a of e){let{string:l}=a;!s&&!Gp(t,"string",l)&&n.push(r+l),s&&Gp(t,"string",l)&&n.push(r+l)}return n}function nx(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function ix(e,t){return e>t?1:t>e?-1:0}function Gp(e,t,r){return e.some(s=>s[t]===r)}function Wp(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Vp(e,t){return e-e%Math.pow(10,t)}function Kp(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function ox(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function Yp(e){return/^-?(0+)\d/.test(e)}function ax(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${s}}`:`0{${s}}`}}hr.cache={};hr.clearCache=()=>hr.cache={};zp.exports=hr});var Xa=v((T$,ng)=>{"use strict";var ux=require("util"),Xp=Qp(),Jp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),cx=e=>t=>e===!0?Number(t):String(t),za=e=>typeof e=="number"||typeof e=="string"&&e!=="",en=e=>Number.isInteger(+e),Qa=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},lx=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,fx=(e,t,r)=>{if(t>0){let s=e[0]==="-"?"-":"";s&&(e=e.slice(1)),e=s+e.padStart(s?t-1:t,"0")}return r===!1?String(e):e},Zp=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},hx=(e,t)=>{e.negatives.sort((a,l)=>a<l?-1:a>l?1:0),e.positives.sort((a,l)=>a<l?-1:a>l?1:0);let r=t.capture?"":"?:",s="",i="",n;return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),s&&i?n=`${s}|${i}`:n=s||i,t.wrap?`(${r}${n})`:n},eg=(e,t,r,s)=>{if(r)return Xp(e,t,G({wrap:!1},s));let i=String.fromCharCode(e);if(e===t)return i;let n=String.fromCharCode(t);return`[${i}-${n}]`},tg=(e,t,r)=>{if(Array.isArray(e)){let s=r.wrap===!0,i=r.capture?"":"?:";return s?`(${i}${e.join("|")})`:e.join("|")}return Xp(e,t,r)},rg=(...e)=>new RangeError("Invalid range arguments: "+ux.inspect(...e)),sg=(e,t,r)=>{if(r.strictRanges===!0)throw rg([e,t]);return[]},dx=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},px=(e,t,r=1,s={})=>{let i=Number(e),n=Number(t);if(!Number.isInteger(i)||!Number.isInteger(n)){if(s.strictRanges===!0)throw rg([e,t]);return[]}i===0&&(i=0),n===0&&(n=0);let a=i>n,l=String(e),d=String(t),p=String(r);r=Math.max(Math.abs(r),1);let c=Qa(l)||Qa(d)||Qa(p),_=c?Math.max(l.length,d.length,p.length):0,y=c===!1&&lx(e,t,s)===!1,A=s.transform||cx(y);if(s.toRegex&&r===1)return eg(Zp(e,_),Zp(t,_),!0,s);let b={negatives:[],positives:[]},R=H=>b[H<0?"negatives":"positives"].push(Math.abs(H)),P=[],D=0;for(;a?i>=n:i<=n;)s.toRegex===!0&&r>1?R(i):P.push(fx(A(i,D),_,y)),i=a?i-r:i+r,D++;return s.toRegex===!0?r>1?hx(b,s):tg(P,null,G({wrap:!1},s)):P},gx=(e,t,r=1,s={})=>{if(!en(e)&&e.length>1||!en(t)&&t.length>1)return sg(e,t,s);let i=s.transform||(y=>String.fromCharCode(y)),n=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),l=n>a,d=Math.min(n,a),p=Math.max(n,a);if(s.toRegex&&r===1)return eg(d,p,!1,s);let c=[],_=0;for(;l?n>=a:n<=a;)c.push(i(n,_)),n=l?n-r:n+r,_++;return s.toRegex===!0?tg(c,null,{wrap:!1,options:s}):c},Ai=(e,t,r,s={})=>{if(t==null&&za(e))return[e];if(!za(e)||!za(t))return sg(e,t,s);if(typeof r=="function")return Ai(e,t,1,{transform:r});if(Jp(r))return Ai(e,t,0,r);let i=G({},s);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,en(r)?en(e)&&en(t)?px(e,t,r,i):gx(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Jp(r)?dx(r,i):Ai(e,t,1,r)};ng.exports=Ai});var ag=v((O$,og)=>{"use strict";var _x=Xa(),ig=bi(),yx=(e,t={})=>{let r=(s,i={})=>{let n=ig.isInvalidBrace(i),a=s.invalid===!0&&t.escapeInvalid===!0,l=n===!0||a===!0,d=t.escapeInvalid===!0?"\\":"",p="";if(s.isOpen===!0||s.isClose===!0)return d+s.value;if(s.type==="open")return l?d+s.value:"(";if(s.type==="close")return l?d+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":l?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let c=ig.reduce(s.nodes),_=_x(...c,Z(G({},t),{wrap:!1,toRegex:!0}));if(_.length!==0)return c.length>1&&_.length>1?`(${_})`:_}if(s.nodes)for(let c of s.nodes)p+=r(c,s);return p};return r(e)};og.exports=yx});var lg=v((H$,cg)=>{"use strict";var mx=Xa(),ug=Ri(),Ur=bi(),dr=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Ur.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let n of i)s.push(dr(n,t,r));else for(let n of t)r===!0&&typeof n=="string"&&(n=`{${n}}`),s.push(Array.isArray(n)?dr(i,n,r):i+n);return Ur.flatten(s)},vx=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,s=(i,n={})=>{i.queue=[];let a=n,l=n.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,l=a.queue;if(i.invalid||i.dollar){l.push(dr(l.pop(),ug(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){l.push(dr(l.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let _=Ur.reduce(i.nodes);if(Ur.exceedsLimit(..._,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let y=mx(..._,t);y.length===0&&(y=ug(i,t)),l.push(dr(l.pop(),y)),i.nodes=[];return}let d=Ur.encloseBrace(i),p=i.queue,c=i;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,p=c.queue;for(let _=0;_<i.nodes.length;_++){let y=i.nodes[_];if(y.type==="comma"&&i.type==="brace"){_===1&&p.push(""),p.push("");continue}if(y.type==="close"){l.push(dr(l.pop(),p,d));continue}if(y.value&&y.type!=="open"){p.push(dr(p.pop(),y.value));continue}y.nodes&&s(y,i)}return p};return Ur.flatten(s(e))};cg.exports=vx});var hg=v(($$,fg)=>{"use strict";fg.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var yg=v((D$,_g)=>{"use strict";var Ex=Ri(),{MAX_LENGTH:dg,CHAR_BACKSLASH:Ja,CHAR_BACKTICK:bx,CHAR_COMMA:Rx,CHAR_DOT:Ax,CHAR_LEFT_PARENTHESES:Sx,CHAR_RIGHT_PARENTHESES:Cx,CHAR_LEFT_CURLY_BRACE:xx,CHAR_RIGHT_CURLY_BRACE:wx,CHAR_LEFT_SQUARE_BRACKET:pg,CHAR_RIGHT_SQUARE_BRACKET:gg,CHAR_DOUBLE_QUOTE:Px,CHAR_SINGLE_QUOTE:Tx,CHAR_NO_BREAK_SPACE:Ox,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Hx}=hg(),$x=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},s=typeof r.maxLength=="number"?Math.min(dg,r.maxLength):dg;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let i={type:"root",input:e,nodes:[]},n=[i],a=i,l=i,d=0,p=e.length,c=0,_=0,y,A={},b=()=>e[c++],R=P=>{if(P.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&P.type==="text"){l.value+=P.value;return}return a.nodes.push(P),P.parent=a,P.prev=l,l=P,P};for(R({type:"bos"});c<p;)if(a=n[n.length-1],y=b(),!(y===Hx||y===Ox)){if(y===Ja){R({type:"text",value:(t.keepEscaping?y:"")+b()});continue}if(y===gg){R({type:"text",value:"\\"+y});continue}if(y===pg){d++;let P=!0,D;for(;c<p&&(D=b());){if(y+=D,D===pg){d++;continue}if(D===Ja){y+=b();continue}if(D===gg&&(d--,d===0))break}R({type:"text",value:y});continue}if(y===Sx){a=R({type:"paren",nodes:[]}),n.push(a),R({type:"text",value:y});continue}if(y===Cx){if(a.type!=="paren"){R({type:"text",value:y});continue}a=n.pop(),R({type:"text",value:y}),a=n[n.length-1];continue}if(y===Px||y===Tx||y===bx){let P=y,D;for(t.keepQuotes!==!0&&(y="");c<p&&(D=b());){if(D===Ja){y+=D+b();continue}if(D===P){t.keepQuotes===!0&&(y+=D);break}y+=D}R({type:"text",value:y});continue}if(y===xx){_++;let P=l.value&&l.value.slice(-1)==="$"||a.dollar===!0;a=R({type:"brace",open:!0,close:!1,dollar:P,depth:_,commas:0,ranges:0,nodes:[]}),n.push(a),R({type:"open",value:y});continue}if(y===wx){if(a.type!=="brace"){R({type:"text",value:y});continue}let P="close";a=n.pop(),a.close=!0,R({type:P,value:y}),_--,a=n[n.length-1];continue}if(y===Rx&&_>0){if(a.ranges>0){a.ranges=0;let P=a.nodes.shift();a.nodes=[P,{type:"text",value:Ex(a)}]}R({type:"comma",value:y}),a.commas++;continue}if(y===Ax&&_>0&&a.commas===0){let P=a.nodes;if(_===0||P.length===0){R({type:"text",value:y});continue}if(l.type==="dot"){if(a.range=[],l.value+=y,l.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,l.type="text";continue}a.ranges++,a.args=[];continue}if(l.type==="range"){P.pop();let D=P[P.length-1];D.value+=l.value+y,l=D,a.ranges--;continue}R({type:"dot",value:y});continue}R({type:"text",value:y})}do if(a=n.pop(),a.type!=="root"){a.nodes.forEach(H=>{H.nodes||(H.type==="open"&&(H.isOpen=!0),H.type==="close"&&(H.isClose=!0),H.nodes||(H.type="text"),H.invalid=!0)});let P=n[n.length-1],D=P.nodes.indexOf(a);P.nodes.splice(D,1,...a.nodes)}while(n.length>0);return R({type:"eos"}),i};_g.exports=$x});var Eg=v((M$,vg)=>{"use strict";var mg=Ri(),Dx=ag(),Mx=lg(),kx=yg(),Ke=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let i=Ke.create(s,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ke.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ke.parse=(e,t={})=>kx(e,t);Ke.stringify=(e,t={})=>mg(typeof e=="string"?Ke.parse(e,t):e,t);Ke.compile=(e,t={})=>(typeof e=="string"&&(e=Ke.parse(e,t)),Dx(e,t));Ke.expand=(e,t={})=>{typeof e=="string"&&(e=Ke.parse(e,t));let r=Mx(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ke.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ke.compile(e,t):Ke.expand(e,t);vg.exports=Ke});var tn=v((k$,Cg)=>{"use strict";var qx=require("path"),lt="\\\\/",bg=`[^${lt}]`,At="\\.",Lx="\\+",Ix="\\?",Si="\\/",Nx="(?=.)",Rg="[^/]",Za=`(?:${Si}|$)`,Ag=`(?:^|${Si})`,eu=`${At}{1,2}${Za}`,jx=`(?!${At})`,Fx=`(?!${Ag}${eu})`,Bx=`(?!${At}{0,1}${Za})`,Ux=`(?!${eu})`,Gx=`[^.${Si}]`,Wx=`${Rg}*?`,Sg={DOT_LITERAL:At,PLUS_LITERAL:Lx,QMARK_LITERAL:Ix,SLASH_LITERAL:Si,ONE_CHAR:Nx,QMARK:Rg,END_ANCHOR:Za,DOTS_SLASH:eu,NO_DOT:jx,NO_DOTS:Fx,NO_DOT_SLASH:Bx,NO_DOTS_SLASH:Ux,QMARK_NO_DOT:Gx,STAR:Wx,START_ANCHOR:Ag},Vx=Z(G({},Sg),{SLASH_LITERAL:`[${lt}]`,QMARK:bg,STAR:`${bg}*?`,DOTS_SLASH:`${At}{1,2}(?:[${lt}]|$)`,NO_DOT:`(?!${At})`,NO_DOTS:`(?!(?:^|[${lt}])${At}{1,2}(?:[${lt}]|$))`,NO_DOT_SLASH:`(?!${At}{0,1}(?:[${lt}]|$))`,NO_DOTS_SLASH:`(?!${At}{1,2}(?:[${lt}]|$))`,QMARK_NO_DOT:`[^.${lt}]`,START_ANCHOR:`(?:^|[${lt}])`,END_ANCHOR:`(?:[${lt}]|$)`}),Kx={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Cg.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Kx,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:qx.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Vx:Sg}}});var rn=v(je=>{"use strict";var Yx=require("path"),zx=process.platform==="win32",{REGEX_BACKSLASH:Qx,REGEX_REMOVE_BACKSLASH:Xx,REGEX_SPECIAL_CHARS:Jx,REGEX_SPECIAL_CHARS_GLOBAL:Zx}=tn();je.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);je.hasRegexChars=e=>Jx.test(e);je.isRegexChar=e=>e.length===1&&je.hasRegexChars(e);je.escapeRegex=e=>e.replace(Zx,"\\$1");je.toPosixSlashes=e=>e.replace(Qx,"/");je.removeBackslashes=e=>e.replace(Xx,t=>t==="\\"?"":t);je.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};je.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:zx===!0||Yx.sep==="\\";je.escapeLast=(e,t,r)=>{let s=e.lastIndexOf(t,r);return s===-1?e:e[s-1]==="\\"?je.escapeLast(e,t,s-1):`${e.slice(0,s)}\\${e.slice(s)}`};je.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};je.wrapOutput=(e,t={},r={})=>{let s=r.contains?"":"^",i=r.contains?"":"$",n=`${s}(?:${e})${i}`;return t.negated===!0&&(n=`(?:^(?!${n}).*$)`),n}});var Dg=v((L$,$g)=>{"use strict";var xg=rn(),{CHAR_ASTERISK:tu,CHAR_AT:ew,CHAR_BACKWARD_SLASH:sn,CHAR_COMMA:tw,CHAR_DOT:ru,CHAR_EXCLAMATION_MARK:su,CHAR_FORWARD_SLASH:wg,CHAR_LEFT_CURLY_BRACE:nu,CHAR_LEFT_PARENTHESES:iu,CHAR_LEFT_SQUARE_BRACKET:rw,CHAR_PLUS:sw,CHAR_QUESTION_MARK:Pg,CHAR_RIGHT_CURLY_BRACE:nw,CHAR_RIGHT_PARENTHESES:Tg,CHAR_RIGHT_SQUARE_BRACKET:iw}=tn(),Og=e=>e===wg||e===sn,Hg=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},ow=(e,t)=>{let r=t||{},s=e.length-1,i=r.parts===!0||r.scanToEnd===!0,n=[],a=[],l=[],d=e,p=-1,c=0,_=0,y=!1,A=!1,b=!1,R=!1,P=!1,D=!1,H=!1,q=!1,I=!1,k=!1,V=0,F,j,z={value:"",depth:0,isGlob:!1},ee=()=>p>=s,w=()=>d.charCodeAt(p+1),se=()=>(F=j,d.charCodeAt(++p));for(;p<s;){j=se();let pe;if(j===sn){H=z.backslashes=!0,j=se(),j===nu&&(D=!0);continue}if(D===!0||j===nu){for(V++;ee()!==!0&&(j=se());){if(j===sn){H=z.backslashes=!0,se();continue}if(j===nu){V++;continue}if(D!==!0&&j===ru&&(j=se())===ru){if(y=z.isBrace=!0,b=z.isGlob=!0,k=!0,i===!0)continue;break}if(D!==!0&&j===tw){if(y=z.isBrace=!0,b=z.isGlob=!0,k=!0,i===!0)continue;break}if(j===nw&&(V--,V===0)){D=!1,y=z.isBrace=!0,k=!0;break}}if(i===!0)continue;break}if(j===wg){if(n.push(p),a.push(z),z={value:"",depth:0,isGlob:!1},k===!0)continue;if(F===ru&&p===c+1){c+=2;continue}_=p+1;continue}if(r.noext!==!0&&(j===sw||j===ew||j===tu||j===Pg||j===su)===!0&&w()===iu){if(b=z.isGlob=!0,R=z.isExtglob=!0,k=!0,j===su&&p===c&&(I=!0),i===!0){for(;ee()!==!0&&(j=se());){if(j===sn){H=z.backslashes=!0,j=se();continue}if(j===Tg){b=z.isGlob=!0,k=!0;break}}continue}break}if(j===tu){if(F===tu&&(P=z.isGlobstar=!0),b=z.isGlob=!0,k=!0,i===!0)continue;break}if(j===Pg){if(b=z.isGlob=!0,k=!0,i===!0)continue;break}if(j===rw){for(;ee()!==!0&&(pe=se());){if(pe===sn){H=z.backslashes=!0,se();continue}if(pe===iw){A=z.isBracket=!0,b=z.isGlob=!0,k=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&j===su&&p===c){q=z.negated=!0,c++;continue}if(r.noparen!==!0&&j===iu){if(b=z.isGlob=!0,i===!0){for(;ee()!==!0&&(j=se());){if(j===iu){H=z.backslashes=!0,j=se();continue}if(j===Tg){k=!0;break}}continue}break}if(b===!0){if(k=!0,i===!0)continue;break}}r.noext===!0&&(R=!1,b=!1);let ce=d,st="",S="";c>0&&(st=d.slice(0,c),d=d.slice(c),_-=c),ce&&b===!0&&_>0?(ce=d.slice(0,_),S=d.slice(_)):b===!0?(ce="",S=d):ce=d,ce&&ce!==""&&ce!=="/"&&ce!==d&&Og(ce.charCodeAt(ce.length-1))&&(ce=ce.slice(0,-1)),r.unescape===!0&&(S&&(S=xg.removeBackslashes(S)),ce&&H===!0&&(ce=xg.removeBackslashes(ce)));let x={prefix:st,input:e,start:c,base:ce,glob:S,isBrace:y,isBracket:A,isGlob:b,isExtglob:R,isGlobstar:P,negated:q,negatedExtglob:I};if(r.tokens===!0&&(x.maxDepth=0,Og(j)||a.push(z),x.tokens=a),r.parts===!0||r.tokens===!0){let pe;for(let re=0;re<n.length;re++){let Ie=pe?pe+1:c,Ne=n[re],Ee=e.slice(Ie,Ne);r.tokens&&(re===0&&c!==0?(a[re].isPrefix=!0,a[re].value=st):a[re].value=Ee,Hg(a[re]),x.maxDepth+=a[re].depth),(re!==0||Ee!=="")&&l.push(Ee),pe=Ne}if(pe&&pe+1<e.length){let re=e.slice(pe+1);l.push(re),r.tokens&&(a[a.length-1].value=re,Hg(a[a.length-1]),x.maxDepth+=a[a.length-1].depth)}x.slashes=n,x.parts=l}return x};$g.exports=ow});var qg=v((I$,kg)=>{"use strict";var Ci=tn(),Ye=rn(),{MAX_LENGTH:xi,POSIX_REGEX_SOURCE:aw,REGEX_NON_SPECIAL_CHARS:uw,REGEX_SPECIAL_CHARS_BACKREF:cw,REPLACEMENTS:Mg}=Ci,lw=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>Ye.escapeRegex(i)).join("..")}return r},Gr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,ou=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Mg[e]||e;let r=G({},t),s=typeof r.maxLength=="number"?Math.min(xi,r.maxLength):xi,i=e.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);let n={type:"bos",value:"",output:r.prepend||""},a=[n],l=r.capture?"":"?:",d=Ye.isWindows(t),p=Ci.globChars(d),c=Ci.extglobChars(p),{DOT_LITERAL:_,PLUS_LITERAL:y,SLASH_LITERAL:A,ONE_CHAR:b,DOTS_SLASH:R,NO_DOT:P,NO_DOT_SLASH:D,NO_DOTS_SLASH:H,QMARK:q,QMARK_NO_DOT:I,STAR:k,START_ANCHOR:V}=p,F=N=>`(${l}(?:(?!${V}${N.dot?R:_}).)*?)`,j=r.dot?"":P,z=r.dot?q:I,ee=r.bash===!0?F(r):k;r.capture&&(ee=`(${ee})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let w={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=Ye.removePrefix(e,w),i=e.length;let se=[],ce=[],st=[],S=n,x,pe=()=>w.index===i-1,re=w.peek=(N=1)=>e[w.index+N],Ie=w.advance=()=>e[++w.index]||"",Ne=()=>e.slice(w.index+1),Ee=(N="",le=0)=>{w.consumed+=N,w.index+=le},Tt=N=>{w.output+=N.output!=null?N.output:N.value,Ee(N.value)},ss=()=>{let N=1;for(;re()==="!"&&(re(2)!=="("||re(3)==="?");)Ie(),w.start++,N++;return N%2==0?!1:(w.negated=!0,w.start++,!0)},Ot=N=>{w[N]++,st.push(N)},nt=N=>{w[N]--,st.pop()},te=N=>{if(S.type==="globstar"){let le=w.braces>0&&(N.type==="comma"||N.type==="brace"),M=N.extglob===!0||se.length&&(N.type==="pipe"||N.type==="paren");N.type!=="slash"&&N.type!=="paren"&&!le&&!M&&(w.output=w.output.slice(0,-S.output.length),S.type="star",S.value="*",S.output=ee,w.output+=S.output)}if(se.length&&N.type!=="paren"&&(se[se.length-1].inner+=N.value),(N.value||N.output)&&Tt(N),S&&S.type==="text"&&N.type==="text"){S.value+=N.value,S.output=(S.output||"")+N.value;return}N.prev=S,a.push(N),S=N},Rr=(N,le)=>{let M=Z(G({},c[le]),{conditions:1,inner:""});M.prev=S,M.parens=w.parens,M.output=w.output;let J=(r.capture?"(":"")+M.open;Ot("parens"),te({type:N,value:le,output:w.output?"":b}),te({type:"paren",extglob:!0,value:Ie(),output:J}),se.push(M)},no=N=>{let le=N.close+(r.capture?")":""),M;if(N.type==="negate"){let J=ee;if(N.inner&&N.inner.length>1&&N.inner.includes("/")&&(J=F(r)),(J!==ee||pe()||/^\)+$/.test(Ne()))&&(le=N.close=`)$))${J}`),N.inner.includes("*")&&(M=Ne())&&/^\.[^\\/.]+$/.test(M)){let he=ou(M,Z(G({},t),{fastpaths:!1})).output;le=N.close=`)${he})${J})`}N.prev.type==="bos"&&(w.negatedExtglob=!0)}te({type:"paren",extglob:!0,value:x,output:le}),nt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let N=!1,le=e.replace(cw,(M,J,he,Ce,ye,Gt)=>Ce==="\\"?(N=!0,M):Ce==="?"?J?J+Ce+(ye?q.repeat(ye.length):""):Gt===0?z+(ye?q.repeat(ye.length):""):q.repeat(he.length):Ce==="."?_.repeat(he.length):Ce==="*"?J?J+Ce+(ye?ee:""):ee:J?M:`\\${M}`);return N===!0&&(r.unescape===!0?le=le.replace(/\\/g,""):le=le.replace(/\\+/g,M=>M.length%2==0?"\\\\":M?"\\":"")),le===e&&r.contains===!0?(w.output=e,w):(w.output=Ye.wrapOutput(le,w,t),w)}for(;!pe();){if(x=Ie(),x==="\0")continue;if(x==="\\"){let M=re();if(M==="/"&&r.bash!==!0||M==="."||M===";")continue;if(!M){x+="\\",te({type:"text",value:x});continue}let J=/^\\+/.exec(Ne()),he=0;if(J&&J[0].length>2&&(he=J[0].length,w.index+=he,he%2!=0&&(x+="\\")),r.unescape===!0?x=Ie():x+=Ie(),w.brackets===0){te({type:"text",value:x});continue}}if(w.brackets>0&&(x!=="]"||S.value==="["||S.value==="[^")){if(r.posix!==!1&&x===":"){let M=S.value.slice(1);if(M.includes("[")&&(S.posix=!0,M.includes(":"))){let J=S.value.lastIndexOf("["),he=S.value.slice(0,J),Ce=S.value.slice(J+2),ye=aw[Ce];if(ye){S.value=he+ye,w.backtrack=!0,Ie(),!n.output&&a.indexOf(S)===1&&(n.output=b);continue}}}(x==="["&&re()!==":"||x==="-"&&re()==="]")&&(x=`\\${x}`),x==="]"&&(S.value==="["||S.value==="[^")&&(x=`\\${x}`),r.posix===!0&&x==="!"&&S.value==="["&&(x="^"),S.value+=x,Tt({value:x});continue}if(w.quotes===1&&x!=='"'){x=Ye.escapeRegex(x),S.value+=x,Tt({value:x});continue}if(x==='"'){w.quotes=w.quotes===1?0:1,r.keepQuotes===!0&&te({type:"text",value:x});continue}if(x==="("){Ot("parens"),te({type:"paren",value:x});continue}if(x===")"){if(w.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Gr("opening","("));let M=se[se.length-1];if(M&&w.parens===M.parens+1){no(se.pop());continue}te({type:"paren",value:x,output:w.parens?")":"\\)"}),nt("parens");continue}if(x==="["){if(r.nobracket===!0||!Ne().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Gr("closing","]"));x=`\\${x}`}else Ot("brackets");te({type:"bracket",value:x});continue}if(x==="]"){if(r.nobracket===!0||S&&S.type==="bracket"&&S.value.length===1){te({type:"text",value:x,output:`\\${x}`});continue}if(w.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Gr("opening","["));te({type:"text",value:x,output:`\\${x}`});continue}nt("brackets");let M=S.value.slice(1);if(S.posix!==!0&&M[0]==="^"&&!M.includes("/")&&(x=`/${x}`),S.value+=x,Tt({value:x}),r.literalBrackets===!1||Ye.hasRegexChars(M))continue;let J=Ye.escapeRegex(S.value);if(w.output=w.output.slice(0,-S.value.length),r.literalBrackets===!0){w.output+=J,S.value=J;continue}S.value=`(${l}${J}|${S.value})`,w.output+=S.value;continue}if(x==="{"&&r.nobrace!==!0){Ot("braces");let M={type:"brace",value:x,output:"(",outputIndex:w.output.length,tokensIndex:w.tokens.length};ce.push(M),te(M);continue}if(x==="}"){let M=ce[ce.length-1];if(r.nobrace===!0||!M){te({type:"text",value:x,output:x});continue}let J=")";if(M.dots===!0){let he=a.slice(),Ce=[];for(let ye=he.length-1;ye>=0&&(a.pop(),he[ye].type!=="brace");ye--)he[ye].type!=="dots"&&Ce.unshift(he[ye].value);J=lw(Ce,r),w.backtrack=!0}if(M.comma!==!0&&M.dots!==!0){let he=w.output.slice(0,M.outputIndex),Ce=w.tokens.slice(M.tokensIndex);M.value=M.output="\\{",x=J="\\}",w.output=he;for(let ye of Ce)w.output+=ye.output||ye.value}te({type:"brace",value:x,output:J}),nt("braces"),ce.pop();continue}if(x==="|"){se.length>0&&se[se.length-1].conditions++,te({type:"text",value:x});continue}if(x===","){let M=x,J=ce[ce.length-1];J&&st[st.length-1]==="braces"&&(J.comma=!0,M="|"),te({type:"comma",value:x,output:M});continue}if(x==="/"){if(S.type==="dot"&&w.index===w.start+1){w.start=w.index+1,w.consumed="",w.output="",a.pop(),S=n;continue}te({type:"slash",value:x,output:A});continue}if(x==="."){if(w.braces>0&&S.type==="dot"){S.value==="."&&(S.output=_);let M=ce[ce.length-1];S.type="dots",S.output+=x,S.value+=x,M.dots=!0;continue}if(w.braces+w.parens===0&&S.type!=="bos"&&S.type!=="slash"){te({type:"text",value:x,output:_});continue}te({type:"dot",value:x,output:_});continue}if(x==="?"){if(!(S&&S.value==="(")&&r.noextglob!==!0&&re()==="("&&re(2)!=="?"){Rr("qmark",x);continue}if(S&&S.type==="paren"){let J=re(),he=x;if(J==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(S.value==="("&&!/[!=<:]/.test(J)||J==="<"&&!/<([!=]|\w+>)/.test(Ne()))&&(he=`\\${x}`),te({type:"text",value:x,output:he});continue}if(r.dot!==!0&&(S.type==="slash"||S.type==="bos")){te({type:"qmark",value:x,output:I});continue}te({type:"qmark",value:x,output:q});continue}if(x==="!"){if(r.noextglob!==!0&&re()==="("&&(re(2)!=="?"||!/[!=<:]/.test(re(3)))){Rr("negate",x);continue}if(r.nonegate!==!0&&w.index===0){ss();continue}}if(x==="+"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){Rr("plus",x);continue}if(S&&S.value==="("||r.regex===!1){te({type:"plus",value:x,output:y});continue}if(S&&(S.type==="bracket"||S.type==="paren"||S.type==="brace")||w.parens>0){te({type:"plus",value:x});continue}te({type:"plus",value:y});continue}if(x==="@"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){te({type:"at",extglob:!0,value:x,output:""});continue}te({type:"text",value:x});continue}if(x!=="*"){(x==="$"||x==="^")&&(x=`\\${x}`);let M=uw.exec(Ne());M&&(x+=M[0],w.index+=M[0].length),te({type:"text",value:x});continue}if(S&&(S.type==="globstar"||S.star===!0)){S.type="star",S.star=!0,S.value+=x,S.output=ee,w.backtrack=!0,w.globstar=!0,Ee(x);continue}let N=Ne();if(r.noextglob!==!0&&/^\([^?]/.test(N)){Rr("star",x);continue}if(S.type==="star"){if(r.noglobstar===!0){Ee(x);continue}let M=S.prev,J=M.prev,he=M.type==="slash"||M.type==="bos",Ce=J&&(J.type==="star"||J.type==="globstar");if(r.bash===!0&&(!he||N[0]&&N[0]!=="/")){te({type:"star",value:x,output:""});continue}let ye=w.braces>0&&(M.type==="comma"||M.type==="brace"),Gt=se.length&&(M.type==="pipe"||M.type==="paren");if(!he&&M.type!=="paren"&&!ye&&!Gt){te({type:"star",value:x,output:""});continue}for(;N.slice(0,3)==="/**";){let Ht=e[w.index+4];if(Ht&&Ht!=="/")break;N=N.slice(3),Ee("/**",3)}if(M.type==="bos"&&pe()){S.type="globstar",S.value+=x,S.output=F(r),w.output=S.output,w.globstar=!0,Ee(x);continue}if(M.type==="slash"&&M.prev.type!=="bos"&&!Ce&&pe()){w.output=w.output.slice(0,-(M.output+S.output).length),M.output=`(?:${M.output}`,S.type="globstar",S.output=F(r)+(r.strictSlashes?")":"|$)"),S.value+=x,w.globstar=!0,w.output+=M.output+S.output,Ee(x);continue}if(M.type==="slash"&&M.prev.type!=="bos"&&N[0]==="/"){let Ht=N[1]!==void 0?"|$":"";w.output=w.output.slice(0,-(M.output+S.output).length),M.output=`(?:${M.output}`,S.type="globstar",S.output=`${F(r)}${A}|${A}${Ht})`,S.value+=x,w.output+=M.output+S.output,w.globstar=!0,Ee(x+Ie()),te({type:"slash",value:"/",output:""});continue}if(M.type==="bos"&&N[0]==="/"){S.type="globstar",S.value+=x,S.output=`(?:^|${A}|${F(r)}${A})`,w.output=S.output,w.globstar=!0,Ee(x+Ie()),te({type:"slash",value:"/",output:""});continue}w.output=w.output.slice(0,-S.output.length),S.type="globstar",S.output=F(r),S.value+=x,w.output+=S.output,w.globstar=!0,Ee(x);continue}let le={type:"star",value:x,output:ee};if(r.bash===!0){le.output=".*?",(S.type==="bos"||S.type==="slash")&&(le.output=j+le.output),te(le);continue}if(S&&(S.type==="bracket"||S.type==="paren")&&r.regex===!0){le.output=x,te(le);continue}(w.index===w.start||S.type==="slash"||S.type==="dot")&&(S.type==="dot"?(w.output+=D,S.output+=D):r.dot===!0?(w.output+=H,S.output+=H):(w.output+=j,S.output+=j),re()!=="*"&&(w.output+=b,S.output+=b)),te(le)}for(;w.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gr("closing","]"));w.output=Ye.escapeLast(w.output,"["),nt("brackets")}for(;w.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gr("closing",")"));w.output=Ye.escapeLast(w.output,"("),nt("parens")}for(;w.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gr("closing","}"));w.output=Ye.escapeLast(w.output,"{"),nt("braces")}if(r.strictSlashes!==!0&&(S.type==="star"||S.type==="bracket")&&te({type:"maybe_slash",value:"",output:`${A}?`}),w.backtrack===!0){w.output="";for(let N of w.tokens)w.output+=N.output!=null?N.output:N.value,N.suffix&&(w.output+=N.suffix)}return w};ou.fastpaths=(e,t)=>{let r=G({},t),s=typeof r.maxLength=="number"?Math.min(xi,r.maxLength):xi,i=e.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);e=Mg[e]||e;let n=Ye.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:l,ONE_CHAR:d,DOTS_SLASH:p,NO_DOT:c,NO_DOTS:_,NO_DOTS_SLASH:y,STAR:A,START_ANCHOR:b}=Ci.globChars(n),R=r.dot?_:c,P=r.dot?y:c,D=r.capture?"":"?:",H={negated:!1,prefix:""},q=r.bash===!0?".*?":A;r.capture&&(q=`(${q})`);let I=j=>j.noglobstar===!0?q:`(${D}(?:(?!${b}${j.dot?p:a}).)*?)`,k=j=>{switch(j){case"*":return`${R}${d}${q}`;case".*":return`${a}${d}${q}`;case"*.*":return`${R}${q}${a}${d}${q}`;case"*/*":return`${R}${q}${l}${d}${P}${q}`;case"**":return R+I(r);case"**/*":return`(?:${R}${I(r)}${l})?${P}${d}${q}`;case"**/*.*":return`(?:${R}${I(r)}${l})?${P}${q}${a}${d}${q}`;case"**/.*":return`(?:${R}${I(r)}${l})?${a}${d}${q}`;default:{let z=/^(.*?)\.(\w+)$/.exec(j);if(!z)return;let ee=k(z[1]);return ee?ee+a+z[2]:void 0}}},V=Ye.removePrefix(e,H),F=k(V);return F&&r.strictSlashes!==!0&&(F+=`${l}?`),F};kg.exports=ou});var Ig=v((N$,Lg)=>{"use strict";var fw=require("path"),hw=Dg(),au=qg(),uu=rn(),dw=tn(),pw=e=>e&&typeof e=="object"&&!Array.isArray(e),ve=(e,t,r=!1)=>{if(Array.isArray(e)){let c=e.map(y=>ve(y,t,r));return y=>{for(let A of c){let b=A(y);if(b)return b}return!1}}let s=pw(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},n=uu.isWindows(t),a=s?ve.compileRe(e,t):ve.makeRe(e,t,!1,!0),l=a.state;delete a.state;let d=()=>!1;if(i.ignore){let c=Z(G({},t),{ignore:null,onMatch:null,onResult:null});d=ve(i.ignore,c,r)}let p=(c,_=!1)=>{let{isMatch:y,match:A,output:b}=ve.test(c,a,t,{glob:e,posix:n}),R={glob:e,state:l,regex:a,posix:n,input:c,output:b,match:A,isMatch:y};return typeof i.onResult=="function"&&i.onResult(R),y===!1?(R.isMatch=!1,_?R:!1):d(c)?(typeof i.onIgnore=="function"&&i.onIgnore(R),R.isMatch=!1,_?R:!1):(typeof i.onMatch=="function"&&i.onMatch(R),_?R:!0)};return r&&(p.state=l),p};ve.test=(e,t,r,{glob:s,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let n=r||{},a=n.format||(i?uu.toPosixSlashes:null),l=e===s,d=l&&a?a(e):e;return l===!1&&(d=a?a(e):e,l=d===s),(l===!1||n.capture===!0)&&(n.matchBase===!0||n.basename===!0?l=ve.matchBase(e,t,r,i):l=t.exec(d)),{isMatch:Boolean(l),match:l,output:d}};ve.matchBase=(e,t,r,s=uu.isWindows(r))=>(t instanceof RegExp?t:ve.makeRe(t,r)).test(fw.basename(e));ve.isMatch=(e,t,r)=>ve(t,r)(e);ve.parse=(e,t)=>Array.isArray(e)?e.map(r=>ve.parse(r,t)):au(e,Z(G({},t),{fastpaths:!1}));ve.scan=(e,t)=>hw(e,t);ve.compileRe=(e,t,r=!1,s=!1)=>{if(r===!0)return e.output;let i=t||{},n=i.contains?"":"^",a=i.contains?"":"$",l=`${n}(?:${e.output})${a}`;e&&e.negated===!0&&(l=`^(?!${l}).*$`);let d=ve.toRegex(l,t);return s===!0&&(d.state=e),d};ve.makeRe=(e,t={},r=!1,s=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=au.fastpaths(e,t)),i.output||(i=au(e,t)),ve.compileRe(i,t,r,s)};ve.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};ve.constants=dw;Lg.exports=ve});var jg=v((j$,Ng)=>{"use strict";Ng.exports=Ig()});var Wg=v((F$,Gg)=>{"use strict";var Fg=require("util"),Bg=Eg(),ft=jg(),cu=rn(),Ug=e=>e===""||e==="./",de=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let s=new Set,i=new Set,n=new Set,a=0,l=c=>{n.add(c.output),r&&r.onResult&&r.onResult(c)};for(let c=0;c<t.length;c++){let _=ft(String(t[c]),Z(G({},r),{onResult:l}),!0),y=_.state.negated||_.state.negatedExtglob;y&&a++;for(let A of e){let b=_(A,!0);!(y?!b.isMatch:b.isMatch)||(y?s.add(b.output):(s.delete(b.output),i.add(b.output)))}}let p=(a===t.length?[...n]:[...i]).filter(c=>!s.has(c));if(r&&p.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(c=>c.replace(/\\/g,"")):t}return p};de.match=de;de.matcher=(e,t)=>ft(e,t);de.isMatch=(e,t,r)=>ft(t,r)(e);de.any=de.isMatch;de.not=(e,t,r={})=>{t=[].concat(t).map(String);let s=new Set,i=[],n=l=>{r.onResult&&r.onResult(l),i.push(l.output)},a=new Set(de(e,t,Z(G({},r),{onResult:n})));for(let l of i)a.has(l)||s.add(l);return[...s]};de.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Fg.inspect(e)}"`);if(Array.isArray(t))return t.some(s=>de.contains(e,s,r));if(typeof t=="string"){if(Ug(e)||Ug(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return de.isMatch(e,t,Z(G({},r),{contains:!0}))};de.matchKeys=(e,t,r)=>{if(!cu.isObject(e))throw new TypeError("Expected the first argument to be an object");let s=de(Object.keys(e),t,r),i={};for(let n of s)i[n]=e[n];return i};de.some=(e,t,r)=>{let s=[].concat(e);for(let i of[].concat(t)){let n=ft(String(i),r);if(s.some(a=>n(a)))return!0}return!1};de.every=(e,t,r)=>{let s=[].concat(e);for(let i of[].concat(t)){let n=ft(String(i),r);if(!s.every(a=>n(a)))return!1}return!0};de.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Fg.inspect(e)}"`);return[].concat(t).every(s=>ft(s,r)(e))};de.capture=(e,t,r)=>{let s=cu.isWindows(r),n=ft.makeRe(String(e),Z(G({},r),{capture:!0})).exec(s?cu.toPosixSlashes(t):t);if(n)return n.slice(1).map(a=>a===void 0?"":a)};de.makeRe=(...e)=>ft.makeRe(...e);de.scan=(...e)=>ft.scan(...e);de.parse=(e,t)=>{let r=[];for(let s of[].concat(e||[]))for(let i of Bg(String(s),t))r.push(ft.parse(i,t));return r};de.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Bg(e,t)};de.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return de.braces(e,Z(G({},t),{expand:!0}))};Gg.exports=de});var Zg=v(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.matchAny=X.convertPatternsToRe=X.makeRe=X.getPatternParts=X.expandBraceExpansion=X.expandPatternsWithBraceExpansion=X.isAffectDepthOfReadingPattern=X.endsWithSlashGlobStar=X.hasGlobStar=X.getBaseDirectory=X.isPatternRelatedToParentDirectory=X.getPatternsOutsideCurrentDirectory=X.getPatternsInsideCurrentDirectory=X.getPositivePatterns=X.getNegativePatterns=X.isPositivePattern=X.isNegativePattern=X.convertToNegativePattern=X.convertToPositivePattern=X.isDynamicPattern=X.isStaticPattern=void 0;var gw=require("path"),_w=Lp(),lu=Wg(),Vg="**",yw="\\",mw=/[*?]|^!/,vw=/\[[^[]*]/,Ew=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,bw=/[!*+?@]\([^(]*\)/,Rw=/,|\.\./;function Kg(e,t={}){return!Yg(e,t)}X.isStaticPattern=Kg;function Yg(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(yw)||mw.test(e)||vw.test(e)||Ew.test(e)||t.extglob!==!1&&bw.test(e)||t.braceExpansion!==!1&&Aw(e))}X.isDynamicPattern=Yg;function Aw(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let s=e.slice(t,r);return Rw.test(s)}function Sw(e){return wi(e)?e.slice(1):e}X.convertToPositivePattern=Sw;function Cw(e){return"!"+e}X.convertToNegativePattern=Cw;function wi(e){return e.startsWith("!")&&e[1]!=="("}X.isNegativePattern=wi;function zg(e){return!wi(e)}X.isPositivePattern=zg;function xw(e){return e.filter(wi)}X.getNegativePatterns=xw;function ww(e){return e.filter(zg)}X.getPositivePatterns=ww;function Pw(e){return e.filter(t=>!fu(t))}X.getPatternsInsideCurrentDirectory=Pw;function Tw(e){return e.filter(fu)}X.getPatternsOutsideCurrentDirectory=Tw;function fu(e){return e.startsWith("..")||e.startsWith("./..")}X.isPatternRelatedToParentDirectory=fu;function Ow(e){return _w(e,{flipBackslashes:!1})}X.getBaseDirectory=Ow;function Hw(e){return e.includes(Vg)}X.hasGlobStar=Hw;function Qg(e){return e.endsWith("/"+Vg)}X.endsWithSlashGlobStar=Qg;function $w(e){let t=gw.basename(e);return Qg(e)||Kg(t)}X.isAffectDepthOfReadingPattern=$w;function Dw(e){return e.reduce((t,r)=>t.concat(Xg(r)),[])}X.expandPatternsWithBraceExpansion=Dw;function Xg(e){return lu.braces(e,{expand:!0,nodupes:!0})}X.expandBraceExpansion=Xg;function Mw(e,t){let{parts:r}=lu.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}X.getPatternParts=Mw;function Jg(e,t){return lu.makeRe(e,t)}X.makeRe=Jg;function kw(e,t){return e.map(r=>Jg(r,t))}X.convertPatternsToRe=kw;function qw(e,t){return t.some(r=>r.test(e))}X.matchAny=qw});var t_=v(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.merge=void 0;var Lw=Va();function Iw(e){let t=Lw(e);return e.forEach(r=>{r.once("error",s=>t.emit("error",s))}),t.once("close",()=>e_(e)),t.once("end",()=>e_(e)),t}Pi.merge=Iw;function e_(e){e.forEach(t=>t.emit("close"))}});var r_=v(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isEmpty=Wr.isString=void 0;function Nw(e){return typeof e=="string"}Wr.isString=Nw;function jw(e){return e===""}Wr.isEmpty=jw});var St=v(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.string=ke.stream=ke.pattern=ke.path=ke.fs=ke.errno=ke.array=void 0;var Fw=xp();ke.array=Fw;var Bw=wp();ke.errno=Bw;var Uw=Tp();ke.fs=Uw;var Gw=Op();ke.path=Gw;var Ww=Zg();ke.pattern=Ww;var Vw=t_();ke.stream=Vw;var Kw=r_();ke.string=Kw});var i_=v(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.convertPatternGroupToTask=qe.convertPatternGroupsToTasks=qe.groupPatternsByBaseDirectory=qe.getNegativePatternsAsPositive=qe.getPositivePatterns=qe.convertPatternsToTasks=qe.generate=void 0;var Ct=St();function Yw(e,t){let r=s_(e),s=n_(e,t.ignore),i=r.filter(d=>Ct.pattern.isStaticPattern(d,t)),n=r.filter(d=>Ct.pattern.isDynamicPattern(d,t)),a=hu(i,s,!1),l=hu(n,s,!0);return a.concat(l)}qe.generate=Yw;function hu(e,t,r){let s=[],i=Ct.pattern.getPatternsOutsideCurrentDirectory(e),n=Ct.pattern.getPatternsInsideCurrentDirectory(e),a=du(i),l=du(n);return s.push(...pu(a,t,r)),"."in l?s.push(gu(".",n,t,r)):s.push(...pu(l,t,r)),s}qe.convertPatternsToTasks=hu;function s_(e){return Ct.pattern.getPositivePatterns(e)}qe.getPositivePatterns=s_;function n_(e,t){return Ct.pattern.getNegativePatterns(e).concat(t).map(Ct.pattern.convertToPositivePattern)}qe.getNegativePatternsAsPositive=n_;function du(e){let t={};return e.reduce((r,s)=>{let i=Ct.pattern.getBaseDirectory(s);return i in r?r[i].push(s):r[i]=[s],r},t)}qe.groupPatternsByBaseDirectory=du;function pu(e,t,r){return Object.keys(e).map(s=>gu(s,e[s],t,r))}qe.convertPatternGroupsToTasks=pu;function gu(e,t,r,s){return{dynamic:s,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Ct.pattern.convertToNegativePattern))}}qe.convertPatternGroupToTask=gu});var a_=v(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.removeDuplicateSlashes=Vr.transform=void 0;var zw=/(?!^)\/{2,}/g;function Qw(e){return e.map(t=>o_(t))}Vr.transform=Qw;function o_(e){return e.replace(zw,"/")}Vr.removeDuplicateSlashes=o_});var c_=v(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.read=void 0;function Xw(e,t,r){t.fs.lstat(e,(s,i)=>{if(s!==null){u_(r,s);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){_u(r,i);return}t.fs.stat(e,(n,a)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){u_(r,n);return}_u(r,i);return}t.markSymbolicLink&&(a.isSymbolicLink=()=>!0),_u(r,a)})})}Ti.read=Xw;function u_(e,t){e(t)}function _u(e,t){e(null,t)}});var l_=v(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.read=void 0;function Jw(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let s=t.fs.statSync(e);return t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw s}}Oi.read=Jw});var f_=v(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.createFileSystemAdapter=Lt.FILE_SYSTEM_ADAPTER=void 0;var Hi=require("fs");Lt.FILE_SYSTEM_ADAPTER={lstat:Hi.lstat,stat:Hi.stat,lstatSync:Hi.lstatSync,statSync:Hi.statSync};function Zw(e){return e===void 0?Lt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Lt.FILE_SYSTEM_ADAPTER),e)}Lt.createFileSystemAdapter=Zw});var d_=v(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});var eP=f_(),h_=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=eP.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};yu.default=h_});var pr=v(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.statSync=It.stat=It.Settings=void 0;var p_=c_(),tP=l_(),mu=d_();It.Settings=mu.default;function rP(e,t,r){if(typeof t=="function"){p_.read(e,vu(),t);return}p_.read(e,vu(t),r)}It.stat=rP;function sP(e,t){let r=vu(t);return tP.read(e,r)}It.statSync=sP;function vu(e={}){return e instanceof mu.default?e:new mu.default(e)}});var y_=v((Z$,__)=>{var g_;__.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(g_||(g_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var v_=v((eD,m_)=>{m_.exports=iP;var nP=y_();function iP(e,t){let r,s,i,n=!0;Array.isArray(e)?(r=[],s=e.length):(i=Object.keys(e),r={},s=i.length);function a(d){function p(){t&&t(d,r),t=null}n?nP(p):p()}function l(d,p,c){r[d]=c,(--s==0||p)&&a(p)}s?i?i.forEach(function(d){e[d](function(p,c){l(d,p,c)})}):e.forEach(function(d,p){d(function(c,_){l(p,c,_)})}):a(null),n=!1}});var Eu=v(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var $i=process.versions.node.split(".");if($i[0]===void 0||$i[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var E_=Number.parseInt($i[0],10),oP=Number.parseInt($i[1],10),b_=10,aP=10,uP=E_>b_,cP=E_===b_&&oP>=aP;Di.IS_SUPPORT_READDIR_WITH_FILE_TYPES=uP||cP});var A_=v(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.createDirentFromStats=void 0;var R_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function lP(e,t){return new R_(e,t)}Mi.createDirentFromStats=lP});var bu=v(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.fs=void 0;var fP=A_();ki.fs=fP});var Ru=v(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.joinPathSegments=void 0;function hP(e,t,r){return e.endsWith(r)?e+t:e+r+t}qi.joinPathSegments=hP});var T_=v(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.readdir=Nt.readdirWithFileTypes=Nt.read=void 0;var dP=pr(),S_=v_(),pP=Eu(),C_=bu(),x_=Ru();function gP(e,t,r){if(!t.stats&&pP.IS_SUPPORT_READDIR_WITH_FILE_TYPES){w_(e,t,r);return}P_(e,t,r)}Nt.read=gP;function w_(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(s,i)=>{if(s!==null){Li(r,s);return}let n=i.map(l=>({dirent:l,name:l.name,path:x_.joinPathSegments(e,l.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Au(r,n);return}let a=n.map(l=>_P(l,t));S_(a,(l,d)=>{if(l!==null){Li(r,l);return}Au(r,d)})})}Nt.readdirWithFileTypes=w_;function _P(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(s,i)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){r(s);return}r(null,e);return}e.dirent=C_.fs.createDirentFromStats(e.name,i),r(null,e)})}}function P_(e,t,r){t.fs.readdir(e,(s,i)=>{if(s!==null){Li(r,s);return}let n=i.map(a=>{let l=x_.joinPathSegments(e,a,t.pathSegmentSeparator);return d=>{dP.stat(l,t.fsStatSettings,(p,c)=>{if(p!==null){d(p);return}let _={name:a,path:l,dirent:C_.fs.createDirentFromStats(a,c)};t.stats&&(_.stats=c),d(null,_)})}});S_(n,(a,l)=>{if(a!==null){Li(r,a);return}Au(r,l)})})}Nt.readdir=P_;function Li(e,t){e(t)}function Au(e,t){e(null,t)}});var M_=v(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.readdir=jt.readdirWithFileTypes=jt.read=void 0;var yP=pr(),mP=Eu(),O_=bu(),H_=Ru();function vP(e,t){return!t.stats&&mP.IS_SUPPORT_READDIR_WITH_FILE_TYPES?$_(e,t):D_(e,t)}jt.read=vP;function $_(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(s=>{let i={dirent:s,name:s.name,path:H_.joinPathSegments(e,s.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let n=t.fs.statSync(i.path);i.dirent=O_.fs.createDirentFromStats(i.name,n)}catch(n){if(t.throwErrorOnBrokenSymbolicLink)throw n}return i})}jt.readdirWithFileTypes=$_;function D_(e,t){return t.fs.readdirSync(e).map(s=>{let i=H_.joinPathSegments(e,s,t.pathSegmentSeparator),n=yP.statSync(i,t.fsStatSettings),a={name:s,path:i,dirent:O_.fs.createDirentFromStats(s,n)};return t.stats&&(a.stats=n),a})}jt.readdir=D_});var k_=v(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.createFileSystemAdapter=Ft.FILE_SYSTEM_ADAPTER=void 0;var Kr=require("fs");Ft.FILE_SYSTEM_ADAPTER={lstat:Kr.lstat,stat:Kr.stat,lstatSync:Kr.lstatSync,statSync:Kr.statSync,readdir:Kr.readdir,readdirSync:Kr.readdirSync};function EP(e){return e===void 0?Ft.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ft.FILE_SYSTEM_ADAPTER),e)}Ft.createFileSystemAdapter=EP});var L_=v(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var bP=require("path"),RP=pr(),AP=k_(),q_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=AP.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,bP.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new RP.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Su.default=q_});var Ii=v(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.Settings=Bt.scandirSync=Bt.scandir=void 0;var I_=T_(),SP=M_(),Cu=L_();Bt.Settings=Cu.default;function CP(e,t,r){if(typeof t=="function"){I_.read(e,xu(),t);return}I_.read(e,xu(t),r)}Bt.scandir=CP;function xP(e,t){let r=xu(t);return SP.read(e,r)}Bt.scandirSync=xP;function xu(e={}){return e instanceof Cu.default?e:new Cu.default(e)}});var j_=v((lD,N_)=>{"use strict";function wP(e){var t=new e,r=t;function s(){var n=t;return n.next?t=n.next:(t=new e,r=t),n.next=null,n}function i(n){r.next=n,r=n}return{get:s,release:i}}N_.exports=wP});var B_=v((fD,wu)=>{"use strict";var PP=j_();function F_(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var s=PP(TP),i=null,n=null,a=0,l=null,d={push:R,drain:et,saturated:et,pause:c,paused:!1,concurrency:r,running:p,resume:A,idle:b,length:_,getQueue:y,unshift:P,empty:et,kill:H,killAndDrain:q,error:I};return d;function p(){return a}function c(){d.paused=!0}function _(){for(var k=i,V=0;k;)k=k.next,V++;return V}function y(){for(var k=i,V=[];k;)V.push(k.value),k=k.next;return V}function A(){if(!!d.paused){d.paused=!1;for(var k=0;k<d.concurrency;k++)a++,D()}}function b(){return a===0&&d.length()===0}function R(k,V){var F=s.get();F.context=e,F.release=D,F.value=k,F.callback=V||et,F.errorHandler=l,a===d.concurrency||d.paused?n?(n.next=F,n=F):(i=F,n=F,d.saturated()):(a++,t.call(e,F.value,F.worked))}function P(k,V){var F=s.get();F.context=e,F.release=D,F.value=k,F.callback=V||et,a===d.concurrency||d.paused?i?(F.next=i,i=F):(i=F,n=F,d.saturated()):(a++,t.call(e,F.value,F.worked))}function D(k){k&&s.release(k);var V=i;V?d.paused?a--:(n===i&&(n=null),i=V.next,V.next=null,t.call(e,V.value,V.worked),n===null&&d.empty()):--a==0&&d.drain()}function H(){i=null,n=null,d.drain=et}function q(){i=null,n=null,d.drain(),d.drain=et}function I(k){l=k}}function et(){}function TP(){this.value=null,this.callback=et,this.next=null,this.release=et,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,s){var i=e.callback,n=e.errorHandler,a=e.value;e.value=null,e.callback=et,e.errorHandler&&n(r,a),i.call(e.context,r,s),e.release(e)}}function OP(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function s(c,_){t.call(this,c).then(function(y){_(null,y)},_)}var i=F_(e,s,r),n=i.push,a=i.unshift;return i.push=l,i.unshift=d,i.drained=p,i;function l(c){var _=new Promise(function(y,A){n(c,function(b,R){if(b){A(b);return}y(R)})});return _.catch(et),_}function d(c){var _=new Promise(function(y,A){a(c,function(b,R){if(b){A(b);return}y(R)})});return _.catch(et),_}function p(){var c=i.drain,_=new Promise(function(y){i.drain=function(){c(),y()}});return _}}wu.exports=F_;wu.exports.promise=OP});var Ni=v(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.joinPathSegments=ht.replacePathSegmentSeparator=ht.isAppliedFilter=ht.isFatalError=void 0;function HP(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}ht.isFatalError=HP;function $P(e,t){return e===null||e(t)}ht.isAppliedFilter=$P;function DP(e,t){return e.split(/[/\\]/).join(t)}ht.replacePathSegmentSeparator=DP;function MP(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}ht.joinPathSegments=MP});var Tu=v(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});var kP=Ni(),U_=class{constructor(t,r){this._root=t,this._settings=r,this._root=kP.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};Pu.default=U_});var Hu=v(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});var qP=require("events"),LP=Ii(),IP=B_(),ji=Ni(),NP=Tu(),G_=class extends NP.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=LP.scandir,this._emitter=new qP.EventEmitter,this._queue=IP(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let s={directory:t,base:r};this._queue.push(s,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(s,i)=>{if(s!==null){r(s,void 0);return}for(let n of i)this._handleEntry(n,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!ji.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let s=t.path;r!==void 0&&(t.path=ji.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),ji.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&ji.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(s,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Ou.default=G_});var V_=v($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var jP=Hu(),W_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new jP.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{FP(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{BP(t,this._storage)}),this._reader.read()}};$u.default=W_;function FP(e,t){e(t)}function BP(e,t){e(null,t)}});var Y_=v(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var UP=require("stream"),GP=Hu(),K_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new GP.default(this._root,this._settings),this._stream=new UP.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Du.default=K_});var Q_=v(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var WP=Ii(),Fi=Ni(),VP=Tu(),z_=class extends VP.default{constructor(){super(...arguments);this._scandir=WP.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let s=this._scandir(t,this._settings.fsScandirSettings);for(let i of s)this._handleEntry(i,r)}catch(s){this._handleError(s)}}_handleError(t){if(!!Fi.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let s=t.path;r!==void 0&&(t.path=Fi.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Fi.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Fi.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(s,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Mu.default=z_});var J_=v(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});var KP=Q_(),X_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new KP.default(this._root,this._settings)}read(){return this._reader.read()}};ku.default=X_});var e0=v(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});var YP=require("path"),zP=Ii(),Z_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,YP.sep),this.fsScandirSettings=new zP.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};qu.default=Z_});var Iu=v(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.Settings=dt.walkStream=dt.walkSync=dt.walk=void 0;var t0=V_(),QP=Y_(),XP=J_(),Lu=e0();dt.Settings=Lu.default;function JP(e,t,r){if(typeof t=="function"){new t0.default(e,Bi()).read(t);return}new t0.default(e,Bi(t)).read(r)}dt.walk=JP;function ZP(e,t){let r=Bi(t);return new XP.default(e,r).read()}dt.walkSync=ZP;function eT(e,t){let r=Bi(t);return new QP.default(e,r).read()}dt.walkStream=eT;function Bi(e={}){return e instanceof Lu.default?e:new Lu.default(e)}});var ju=v(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});var tT=require("path"),rT=pr(),r0=St(),s0=class{constructor(t){this._settings=t,this._fsStatSettings=new rT.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return tT.resolve(this._settings.cwd,t)}_makeEntry(t,r){let s={name:r,path:r,dirent:r0.fs.createDirentFromStats(r,t)};return this._settings.stats&&(s.stats=t),s}_isFatalError(t){return!r0.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Nu.default=s0});var Bu=v(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});var sT=require("stream"),nT=pr(),iT=Iu(),oT=ju(),n0=class extends oT.default{constructor(){super(...arguments);this._walkStream=iT.walkStream,this._stat=nT.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let s=t.map(this._getFullEntryPath,this),i=new sT.PassThrough({objectMode:!0});i._write=(n,a,l)=>this._getEntry(s[n],t[n],r).then(d=>{d!==null&&r.entryFilter(d)&&i.push(d),n===s.length-1&&i.end(),l()}).catch(l);for(let n=0;n<s.length;n++)i.write(n);return i}_getEntry(t,r,s){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(s.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,s)=>{this._stat(t,this._fsStatSettings,(i,n)=>i===null?r(n):s(i))})}};Fu.default=n0});var o0=v(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});var Yr=St(),i0=class{constructor(t,r,s){this._patterns=t,this._settings=r,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){let t=Yr.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let s=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(s);this._storage.push({complete:i.length<=1,pattern:r,segments:s,sections:i})}}_getPatternSegments(t){return Yr.pattern.getPatternParts(t,this._micromatchOptions).map(s=>Yr.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:Yr.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(t){return Yr.array.splitWhen(t,r=>r.dynamic&&Yr.pattern.hasGlobStar(r.pattern))}};Uu.default=i0});var u0=v(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var aT=o0(),a0=class extends aT.default{match(t){let r=t.split("/"),s=r.length,i=this._storage.filter(n=>!n.complete||n.segments.length>s);for(let n of i){let a=n.sections[0];if(!n.complete&&s>a.length||r.every((d,p)=>{let c=n.segments[p];return!!(c.dynamic&&c.patternRe.test(d)||!c.dynamic&&c.pattern===d)}))return!0}return!1}};Gu.default=a0});var l0=v(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var Ui=St(),uT=u0(),c0=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,s){let i=this._getMatcher(r),n=this._getNegativePatternsRe(s);return a=>this._filter(t,a,i,n)}_getMatcher(t){return new uT.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(Ui.pattern.isAffectDepthOfReadingPattern);return Ui.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,s,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let n=Ui.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(n,s)?!1:this._isSkippedByNegativePatterns(n,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let s=r.split("/").length;if(t==="")return s;let i=t.split("/").length;return s-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!Ui.pattern.matchAny(t,r)}};Wu.default=c0});var h0=v(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var gr=St(),f0=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let s=gr.pattern.convertPatternsToRe(t,this._micromatchOptions),i=gr.pattern.convertPatternsToRe(r,this._micromatchOptions);return n=>this._filter(n,s,i)}_filter(t,r,s){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,s))return!1;let i=this._settings.baseNameMatch?t.name:t.path,n=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,s);return this._settings.unique&&n&&this._createIndexRecord(t),n}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let s=gr.path.makeAbsolute(this._settings.cwd,t);return gr.pattern.matchAny(s,r)}_isMatchToPatterns(t,r){let s=gr.path.removeLeadingDotSegment(t);return gr.pattern.matchAny(s,r)||gr.pattern.matchAny(s+"/",r)}};Vu.default=f0});var p0=v(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var cT=St(),d0=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return cT.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Ku.default=d0});var y0=v(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var g0=St(),_0=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=g0.path.makeAbsolute(this._settings.cwd,r),r=g0.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Yu.default=_0});var Gi=v(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var lT=require("path"),fT=l0(),hT=h0(),dT=p0(),pT=y0(),m0=class{constructor(t){this._settings=t,this.errorFilter=new dT.default(this._settings),this.entryFilter=new hT.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new fT.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new pT.default(this._settings)}_getRootDirectory(t){return lT.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};zu.default=m0});var E0=v(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var gT=Bu(),_T=Gi(),v0=class extends _T.default{constructor(){super(...arguments);this._reader=new gT.default(this._settings)}read(t){let r=this._getRootDirectory(t),s=this._getReaderOptions(t),i=[];return new Promise((n,a)=>{let l=this.api(r,t,s);l.once("error",a),l.on("data",d=>i.push(s.transform(d))),l.once("end",()=>n(i))})}api(t,r,s){return r.dynamic?this._reader.dynamic(t,s):this._reader.static(r.patterns,s)}};Qu.default=v0});var R0=v(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var yT=require("stream"),mT=Bu(),vT=Gi(),b0=class extends vT.default{constructor(){super(...arguments);this._reader=new mT.default(this._settings)}read(t){let r=this._getRootDirectory(t),s=this._getReaderOptions(t),i=this.api(r,t,s),n=new yT.Readable({objectMode:!0,read:()=>{}});return i.once("error",a=>n.emit("error",a)).on("data",a=>n.emit("data",s.transform(a))).once("end",()=>n.emit("end")),n.once("close",()=>i.destroy()),n}api(t,r,s){return r.dynamic?this._reader.dynamic(t,s):this._reader.static(r.patterns,s)}};Xu.default=b0});var S0=v(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});var ET=pr(),bT=Iu(),RT=ju(),A0=class extends RT.default{constructor(){super(...arguments);this._walkSync=bT.walkSync,this._statSync=ET.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let s=[];for(let i of t){let n=this._getFullEntryPath(i),a=this._getEntry(n,i,r);a===null||!r.entryFilter(a)||s.push(a)}return s}_getEntry(t,r,s){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(s.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Ju.default=A0});var x0=v(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var AT=S0(),ST=Gi(),C0=class extends ST.default{constructor(){super(...arguments);this._reader=new AT.default(this._settings)}read(t){let r=this._getRootDirectory(t),s=this._getReaderOptions(t);return this.api(r,t,s).map(s.transform)}api(t,r,s){return r.dynamic?this._reader.dynamic(t,s):this._reader.static(r.patterns,s)}};Zu.default=C0});var P0=v(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var zr=require("fs"),CT=require("os"),xT=Math.max(CT.cpus().length,1);Qr.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:zr.lstat,lstatSync:zr.lstatSync,stat:zr.stat,statSync:zr.statSync,readdir:zr.readdir,readdirSync:zr.readdirSync};var w0=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,xT),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Qr.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Qr.default=w0});var sc=v((kD,H0)=>{"use strict";var T0=i_(),O0=a_(),wT=E0(),PT=R0(),TT=x0(),ec=P0(),_r=St();async function tc(e,t){Xr(e);let r=rc(e,wT.default,t),s=await Promise.all(r);return _r.array.flatten(s)}(function(e){function t(a,l){Xr(a);let d=rc(a,TT.default,l);return _r.array.flatten(d)}e.sync=t;function r(a,l){Xr(a);let d=rc(a,PT.default,l);return _r.stream.merge(d)}e.stream=r;function s(a,l){Xr(a);let d=O0.transform([].concat(a)),p=new ec.default(l);return T0.generate(d,p)}e.generateTasks=s;function i(a,l){Xr(a);let d=new ec.default(l);return _r.pattern.isDynamicPattern(a,d)}e.isDynamicPattern=i;function n(a){return Xr(a),_r.path.escape(a)}e.escapePath=n})(tc||(tc={}));function rc(e,t,r){let s=O0.transform([].concat(e)),i=new ec.default(r),n=T0.generate(s,i),a=new t(i);return n.map(a.read,a)}function Xr(e){if(![].concat(e).every(s=>_r.string.isString(s)&&!_r.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}H0.exports=tc});var D0=v(yr=>{"use strict";var{promisify:OT}=require("util"),$0=require("fs");async function nc(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await OT($0[e])(r))[t]()}catch(s){if(s.code==="ENOENT")return!1;throw s}}function ic(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return $0[e](r)[t]()}catch(s){if(s.code==="ENOENT")return!1;throw s}}yr.isFile=nc.bind(null,"stat","isFile");yr.isDirectory=nc.bind(null,"stat","isDirectory");yr.isSymlink=nc.bind(null,"lstat","isSymbolicLink");yr.isFileSync=ic.bind(null,"statSync","isFile");yr.isDirectorySync=ic.bind(null,"statSync","isDirectory");yr.isSymlinkSync=ic.bind(null,"lstatSync","isSymbolicLink")});var I0=v((LD,oc)=>{"use strict";var mr=require("path"),M0=D0(),k0=e=>e.length>1?`{${e.join(",")}}`:e[0],q0=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return mr.isAbsolute(r)?r:mr.join(t,r)},HT=(e,t)=>mr.extname(e)?`**/${e}`:`**/${e}.${k0(t)}`,L0=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>mr.posix.join(e,HT(r,t.extensions))):t.files?t.files.map(r=>mr.posix.join(e,`**/${r}`)):t.extensions?[mr.posix.join(e,`**/*.${k0(t.extensions)}`)]:[mr.posix.join(e,"**")]};oc.exports=async(e,t)=>{if(t=G({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async s=>await M0.isDirectory(q0(s,t.cwd))?L0(s,t):s));return[].concat.apply([],r)};oc.exports.sync=(e,t)=>{if(t=G({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(s=>M0.isDirectorySync(q0(s,t.cwd))?L0(s,t):s);return[].concat.apply([],r)}});var z0=v((ID,Y0)=>{function N0(e){return Array.isArray(e)?e:[e]}var j0="",F0=" ",ac="\\",$T=/^\s+$/,DT=/^\\!/,MT=/^\\#/,kT=/\r?\n/g,qT=/^\.*\/|^\.+$/,uc="/",B0=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",LT=(e,t,r)=>Object.defineProperty(e,t,{value:r}),IT=/([0-z])-([0-z])/g,U0=()=>!1,NT=e=>e.replace(IT,(t,r,s)=>r.charCodeAt(0)<=s.charCodeAt(0)?t:j0),jT=e=>{let{length:t}=e;return e.slice(0,t-t%2)},FT=[[/\\?\s+$/,e=>e.indexOf("\\")===0?F0:j0],[/\\\s/g,()=>F0],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>ac],[/\\\\/g,()=>ac],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,s,i)=>t===ac?`\\[${r}${jT(s)}${i}`:i==="]"&&s.length%2==0?`[${NT(r)}${s}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],G0=Object.create(null),BT=(e,t)=>{let r=G0[e];return r||(r=FT.reduce((s,i)=>s.replace(i[0],i[1].bind(e)),e),G0[e]=r),t?new RegExp(r,"i"):new RegExp(r)},cc=e=>typeof e=="string",UT=e=>e&&cc(e)&&!$T.test(e)&&e.indexOf("#")!==0,GT=e=>e.split(kT),W0=class{constructor(t,r,s,i){this.origin=t,this.pattern=r,this.negative=s,this.regex=i}},WT=(e,t)=>{let r=e,s=!1;e.indexOf("!")===0&&(s=!0,e=e.substr(1)),e=e.replace(DT,"!").replace(MT,"#");let i=BT(e,t);return new W0(r,e,s,i)},VT=(e,t)=>{throw new t(e)},xt=(e,t,r)=>cc(e)?e?xt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),V0=e=>qT.test(e);xt.isNotRelative=V0;xt.convert=e=>e;var K0=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:s=!1}={}){LT(this,B0,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=s,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[B0]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(UT(t)){let r=WT(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,N0(cc(t)?GT(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let s=!1,i=!1;return this._rules.forEach(n=>{let{negative:a}=n;if(i===a&&s!==i||a&&!s&&!i&&!r)return;n.regex.test(t)&&(s=!a,i=a)}),{ignored:s,unignored:i}}_test(t,r,s,i){let n=t&&xt.convert(t);return xt(n,t,this._allowRelativePaths?U0:VT),this._t(n,r,s,i)}_t(t,r,s,i){if(t in r)return r[t];if(i||(i=t.split(uc)),i.pop(),!i.length)return r[t]=this._testOne(t,s);let n=this._t(i.join(uc)+uc,r,s,i);return r[t]=n.ignored?n:this._testOne(t,s)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return N0(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Wi=e=>new K0(e),KT=e=>xt(e&&xt.convert(e),e,U0);Wi.isPathValid=KT;Wi.default=Wi;Y0.exports=Wi;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");xt.convert=e;let t=/^[a-z]:\//i;xt.isNotRelative=r=>t.test(r)||V0(r)}});var ry=v((ND,lc)=>{"use strict";var{promisify:YT}=require("util"),Q0=require("fs"),wt=require("path"),X0=sc(),zT=z0(),nn=An(),J0=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],QT=YT(Q0.readFile),XT=e=>t=>t.startsWith("!")?"!"+wt.posix.join(e,t.slice(1)):wt.posix.join(e,t),JT=(e,t)=>{let r=nn(wt.relative(t.cwd,wt.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(s=>!s.startsWith("#")).map(XT(r))},Z0=e=>{let t=zT();for(let r of e)t.add(JT(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},ZT=(e,t)=>{if(e=nn(e),wt.isAbsolute(t)){if(nn(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return wt.join(e,t)},ey=(e,t)=>r=>e.ignores(nn(wt.relative(t,ZT(t,r.path||r)))),eO=async(e,t)=>{let r=wt.join(t,e),s=await QT(r,"utf8");return{cwd:t,filePath:r,content:s}},tO=(e,t)=>{let r=wt.join(t,e),s=Q0.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:s}},ty=({ignore:e=[],cwd:t=nn(process.cwd())}={})=>({ignore:e,cwd:t});lc.exports=async e=>{e=ty(e);let t=await X0("**/.gitignore",{ignore:J0.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>eO(i,e.cwd))),s=Z0(r);return ey(s,e.cwd)};lc.exports.sync=e=>{e=ty(e);let r=X0.sync("**/.gitignore",{ignore:J0.concat(e.ignore),cwd:e.cwd}).map(i=>tO(i,e.cwd)),s=Z0(r);return ey(s,e.cwd)}});var oy=v((jD,iy)=>{"use strict";var{Transform:rO}=require("stream"),fc=class extends rO{constructor(){super({objectMode:!0})}},sy=class extends fc{constructor(t){super();this._filter=t}_transform(t,r,s){this._filter(t)&&this.push(t),s()}},ny=class extends fc{constructor(){super();this._pushed=new Set}_transform(t,r,s){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),s()}};iy.exports={FilterStream:sy,UniqueStream:ny}});var fy=v((FD,vr)=>{"use strict";var ay=require("fs"),Vi=Rp(),sO=Va(),Ki=sc(),Yi=I0(),hc=ry(),{FilterStream:nO,UniqueStream:iO}=oy(),uy=()=>!1,cy=e=>e[0]==="!",oO=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},aO=(e={})=>{if(!e.cwd)return;let t;try{t=ay.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},uO=e=>e.stats instanceof ay.Stats?e.path:e,zi=(e,t)=>{e=Vi([].concat(e)),oO(e),aO(t);let r=[];t=G({ignore:[],expandDirectories:!0},t);for(let[s,i]of e.entries()){if(cy(i))continue;let n=e.slice(s).filter(l=>cy(l)).map(l=>l.slice(1)),a=Z(G({},t),{ignore:t.ignore.concat(n)});r.push({pattern:i,options:a})}return r},cO=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=Z(G({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=G(G({},r),e.options.expandDirectories)),t(e.pattern,r)},dc=(e,t)=>e.options.expandDirectories?cO(e,t):[e.pattern],ly=e=>e&&e.gitignore?hc.sync({cwd:e.cwd,ignore:e.ignore}):uy,pc=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Yi.sync(r.ignore)),{pattern:t,options:r}};vr.exports=async(e,t)=>{let r=zi(e,t),s=async()=>t&&t.gitignore?hc({cwd:t.cwd,ignore:t.ignore}):uy,i=async()=>{let d=await Promise.all(r.map(async p=>{let c=await dc(p,Yi);return Promise.all(c.map(pc(p)))}));return Vi(...d)},[n,a]=await Promise.all([s(),i()]),l=await Promise.all(a.map(d=>Ki(d.pattern,d.options)));return Vi(...l).filter(d=>!n(uO(d)))};vr.exports.sync=(e,t)=>{let r=zi(e,t),s=[];for(let a of r){let l=dc(a,Yi.sync).map(pc(a));s.push(...l)}let i=ly(t),n=[];for(let a of s)n=Vi(n,Ki.sync(a.pattern,a.options));return n.filter(a=>!i(a))};vr.exports.stream=(e,t)=>{let r=zi(e,t),s=[];for(let l of r){let d=dc(l,Yi.sync).map(pc(l));s.push(...d)}let i=ly(t),n=new nO(l=>!i(l)),a=new iO;return sO(s.map(l=>Ki.stream(l.pattern,l.options))).pipe(n).pipe(a)};vr.exports.generateGlobTasks=zi;vr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>Ki.isDynamicPattern(r,t));vr.exports.gitignore=hc});var _c=v(Pt=>{"use strict";var on=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});var lO=on(ni()),fO=Ma(),gc=Vt(),hy=require("path"),hO=on(Kt()),dO=on(ha()),an=be(),pO=Ep(),dy=on(An()),gO=on(fy());Pt.staticAssetManifest={};Pt.STATIC_ASSET_MANIFEST_FILE="static-asset-manifest.json";var py=class{constructor(t){if(this._routes=[],!t)throw new Error("Route group name is required!");this.name=t}match(t,r,{index:s,label:i}={}){let n=new lO.default(t,r,{label:i});return s!=null?this._routes.splice(s,0,n):this._routes.push(n),this}dir(t,r){let s=hy.join(pO.getSourceDir(),t),i=Pt.staticAssetManifest[dy.default(t)]=[],{ignore:n,label:a}=r;typeof n=="string"&&(n=[n]);let l=gc.isCloud()?this.staticAssetsForPath(t):gO.default.sync(r.glob||"**/*",{cwd:s,onlyFiles:!0,ignore:n||[]});r.sort&&(l=r.sort(l));for(let d of l){let p=r.paths&&r.paths(d)||[`/${d}`];gc.isCloud()||i.push(dy.default(d));for(let c of p){let _=c.replace(/\/index.html$/,"");_.length===0&&(_="/"),this.match(_,async y=>{r.handler&&r.handler(d)(y)},{label:a})}}return this}static(t,r){let s=i=>n=>{r.handler&&r.handler(i)(n),n.serveStatic(`${t}/${i}`)};return this.dir(t,Z(G({},r),{handler:s,label:`static('${t}')`}))}requireBasicAuth(t){let{route:r,username:s,password:i,realm:n="Access to the site"}=t;if(s&&i){let a=Buffer.from(`${s}:${i}`).toString("base64");r=dO.default(r),this.match(Z(G({},r),{headers:Z(G({},r.headers),{[an.HTTP_HEADERS.authorization]:null,[an.HTTP_HEADERS.x0MatchedRoutes]:null})}),({send:l,setResponseHeader:d})=>{d("WWW-Authenticate",`Basic realm="${n}"`),l("",401,"Unauthorized")}).match(Z(G({},r),{headers:Z(G({},r.headers),{[an.HTTP_HEADERS.authorization]:new RegExp(`^((?!Basic ${a}).)*$`),[an.HTTP_HEADERS.x0MatchedRoutes]:null})}),({send:l})=>{l("",403,"Forbidden")}).match(Z(G({},r),{headers:Z(G({},r.headers),{[an.HTTP_HEADERS.x0MatchedRoutes]:null})}),({removeRequestHeader:l})=>{l("authorization")})}return this}staticAssetsForPath(t){return hO.default(hy.join(process.cwd(),Pt.STATIC_ASSET_MANIFEST_FILE))[t]}clear(){return this._routes=[],gc.isCloud()||fO.clearCache(),this}get routes(){return this._routes}get length(){return this._routes.length}};Pt.default=py});var _y=v(un=>{"use strict";var _O=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(un,"__esModule",{value:!0});var yO=_O(_c()),mO=be(),gy=class{constructor(){this.routeGroups=[]}add(t){return this.routeGroups.push(t),this}getGroups(){return this.routeGroups}findByName(t){return this.routeGroups.find(r=>r.name===t)}getRoutes(){let t=[];return this.getGroups().forEach(r=>{t=t.concat(r.routes)}),this.fallback&&(t=t.concat(this.fallback.routes)),t}setFallback(t){let r=new yO.default(mO.ROUTES_FALLBACK);r.match(null,t),this.fallback=r}get length(){return this.routeGroups.length}};un.default=gy});var Ey=v(Er=>{"use strict";var ut=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vO=Er&&Er.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(Er,"__esModule",{value:!0});var K=be(),yy=Eo(),EO=tf(),bO=ut(_f()),RO=ut(yf()),AO=ut(Jt()),SO=ut(hp()),CO=ut(Xo()),xO=ut(dp()),my=ut(mp()),wO=ut(vp()),PO=ut(Ba()),TO=ut(yi()),vy=vO(_c()),OO=ut(_y()),HO=/\bbr\b/,$O=/\bgzip\b/,Jr=class{constructor(t={excludeBuiltInRoutes:!1}){this.routeGroups=new OO.default,this.preloadRequests=new my.default,this.plugins=[],this.destinations={},this.nextRouterIndex=0,this._index=0,this.processRequestHeaders=r=>{r.headers[K.HTTP_HEADERS.xRequestId]||(this.newRequestId=EO.v4(),r.headers[K.HTTP_HEADERS.xRequestId]=this.newRequestId);let s=r.headers[K.HTTP_HEADERS.acceptEncoding];if(typeof s=="string"){let a=$O.test(s),l=HO.test(s);a&&l?s=`${K.GZIP_ENCODING}, ${K.BROTLI_ENCODING}`:a?s=K.GZIP_ENCODING:l?s=K.BROTLI_ENCODING:s=null}else s=null;s?r.headers[K.HTTP_HEADERS.acceptEncoding]=s:delete r.headers[K.HTTP_HEADERS.acceptEncoding];let i=r.connection,n="127.0.0.1";if(i&&i.remoteAddress){if(n=i.remoteAddress,r.headers[K.HTTP_HEADERS.x0Protocol]!=="http"){let a=r.headers[K.HTTP_HEADERS.cookie];typeof a=="string"&&/\blocal_layer0_emulate_http_protocol=true\b/.test(a)?r.headers[K.HTTP_HEADERS.x0Protocol]="http":r.headers[K.HTTP_HEADERS.x0Protocol]="https"}}else r.headers[K.HTTP_HEADERS.x0Protocol]||(r.headers[K.HTTP_HEADERS.x0Protocol]="https");r.headers[K.HTTP_HEADERS.xForwardedFor]?r.headers[K.HTTP_HEADERS.xForwardedFor]=`${r.headers[K.HTTP_HEADERS.xForwardedFor]}, ${n}`:r.headers[K.HTTP_HEADERS.xForwardedFor]=`${n}`,r.headers[K.HTTP_HEADERS.x0ClientIp]||(r.headers[K.HTTP_HEADERS.x0ClientIp]=r.headers[K.HTTP_HEADERS.xForwardedFor].split(",")[0]),Jr.isRequestFromEdge(r)||(this.processRequestDeviceHeaders(r),this.processRequestGeoHeaders(r))},this.processRequestDeviceHeaders=r=>{let s="desktop",i="generic",n=!1,a="generic",l=(r.headers[K.HTTP_HEADERS.userAgent]||"").toLowerCase();/ipad/.test(l)?(s="tablet",i="apple"):/ip(hone|od)/.test(l)?(s="smartphone",i="apple"):/android.*(mobile|mini)/.test(l)?(s="smartphone",i="android"):/android/.test(l)?(s="tablet",i="android"):/opera mobi/.test(l)?(s="smartphone",i="android"):/playbook u rim tablet/.test(l)?(s="tablet",i="blackberry"):/hp-tablet.*touchpad/.test(l)?(s="tablet",i="hp"):/kindle\/3/.test(l)?(s="tablet",i="kindle"):/mobile.+firefox/.test(l)?(s="mobile",i="firefoxos"):/^htc/.test(l)?(s="smartphone",i="htc"):/fennec/.test(l)?(s="smartphone",i="fennec"):/iemobile/.test(l)?(s="smartphone",i="microsoft"):/blackberry/.test(l)||/bb10.*mobile/.test(l)?(s="smartphone",i="blackberry"):/gt-.*build\/gingerbread/.test(l)?(s="smartphone",i="android"):/symbianos.*applewebkit/.test(l)?(s="smartphone",i="symbian"):(/symbian/.test(l)||/^sonyericsson/.test(l)||/^nokia/.test(l)||/^samsung/.test(l)||/^lg/.test(l)||/bada/.test(l)||/blazer/.test(l)||/cellphone/.test(l)||/midp-2.0/.test(l)||/u990/.test(l)||/netfront/.test(l)||/opera mini/.test(l)||/palm/.test(l)||/nintendo wii/.test(l)||/playstation portable/.test(l)||/portalmmm/.test(l)||/proxinet/.test(l)||/sonyericsson/.test(l)||/windows ?ce/.test(l)||/winwap/.test(l)||/eudoraweb/.test(l)||/240x320/.test(l)||/avantgo/.test(l))&&(s="mobile"),/bot/.test(l)||/crawler/.test(l)||/headless/.test(l)||/prerender/.test(l)||/preview/.test(l)||/scanner/.test(l)||/slurp/.test(l)||/spider/.test(l)||/(developers.google.com\/+\/web\/snippet|embedly|facebookexternalhit|flipboard|googlepagespeed|google page speed)/.test(l)||/(ia_archiver|moov-prerender-cache-exerciser|nuzzel|outbrain|pinterest|qwantify|tumblr|vkshare)/.test(l)||/(w3c_validator|whatsapp|xing-contenttabreceiver|yahoo)/.test(l)?n=!0:n=!1,/edge/.test(l)?a="edge":/chrome|chromium|crios/.test(l)?a="chrome":/firefox/.test(l)?a="firefox":/opera|opr/.test(l)?a="opera":/msie/.test(l)||/trident/.test(l)?a="msie":/safari/.test(l)&&(a="safari"),r.headers[K.HTTP_HEADERS.x0Device]=s,r.headers[K.HTTP_HEADERS.x0DeviceIsBot]=n?"1":"0",r.headers[K.HTTP_HEADERS.x0Vendor]=i,r.headers[K.HTTP_HEADERS.x0Browser]=a},this.processRequestGeoHeaders=r=>{r.headers[K.HTTP_HEADERS.x0GeoCity]="San Francisco",r.headers[K.HTTP_HEADERS.x0GeoCountryCode]="US",r.headers[K.HTTP_HEADERS.x0GeoLatitude]="37.792094",r.headers[K.HTTP_HEADERS.x0GeoLongitude]="-122.401622",r.headers[K.HTTP_HEADERS.x0GeoPostalCode]="94104"},this.isUserHeaderCountWithinLimits=r=>Object.keys(r).filter(i=>i.toLowerCase().indexOf(K.LAYER0_HEADERS_PREFIX)!==0).length<=K.LAYER0_MAX_USER_HEADERS_ALLOWED,this.patchResWriteHead=(r,s)=>{let i=s.writeHead;s.writeHead=(...n)=>{s.writeHead=i,this.newRequestId&&s.setHeader(K.HTTP_HEADERS.xRequestId,this.newRequestId);let l=n[2];if(l)for(let d of Object.keys(l))s.setHeader(d,CO.default(r,s,l[d]));if(this.isUserHeaderCountWithinLimits(s.getHeaders())){s.writeHead(...n);return}s.writeHead(K.LAYER0_TOO_MANY_HEADERS_STATUS_CODE,"Too many response headers")}},this.run=async(r,s)=>{let i=new yy.InternalTiming(yy.InternalNames.routeMatching).start(),n=this,a=new PO.default;if(this.processRequestHeaders(r),!this.isUserHeaderCountWithinLimits(r.headers)){s.writeHead(K.LAYER0_TOO_MANY_HEADERS_STATUS_CODE,"Too many request headers"),s.end();return}if(await wO.default(r),this.patchResWriteHead(r,s),Object.keys(this.destinations).length>1){let{LAYER0_ROUTER_DESTINATION:c}=process.env,_=r.headers[K.HTTP_HEADERS.x0Destination]||c;if(_||(_=xO.default(Object.keys(this.destinations),y=>this.destinations[y]._index)),n=this.destinations[_],!n)throw new Error(`Routing destination "${_}" not found.`)}n.plugins.forEach(c=>c.onRequest(r));let l=c=>{let _=new TO.default(r,s,c,a);return Jr.isRequestFromEdge(r)?RO.default.create(_):_},d=n.routeGroups.getRoutes().filter(c=>!c.isRespRoute()),p=n.routeGroups.getRoutes().filter(c=>c.isRespRoute());for(let c of d){let _;try{if(!c.match(r))continue;_=l(c),i.pause(),await c.handler(_);let y=await _.sendResponse({beforeResponse:async A=>{if(!Jr.isRequestFromEdge(r)){i.ended&&i.resume();for(let b of p)if(!!b.matchResponse(A))return _=l(b),i.pause(),await b.handler(_),_.sendResponse(),!1}return!0}});if(i.resume(),y)return}catch(y){_=_||l(r,s,c,a),_.onRouteError(y);return}}i.end(),this.builtInFallback(r,s)},t.excludeBuiltInRoutes||bO.default(this)}getStaticAssetManifest(){return vy.staticAssetManifest}setBackend(t,r){return AO.default.get("backends")[t]=r,this}use(t){return t.onRegister(this),this.plugins.push(t),this}destination(t,r){return r.setIndex(this.nextRouterIndex++),this.destinations[t]=r,this}getPlugins(){let t=this.plugins;for(let r of Object.values(this.destinations))t=t.concat(r.getPlugins());return t}setIndex(t){this._index=t}get index(){return this._index}group(t,r){let s=new vy.default(t);return r(s),this.routeGroups.add(s),this}match(t,r){return this.group("root",s=>s.match(t,r))}prerender(...t){return this.preloadRequests.push(...t),this}matchMethod(t,r,s){if(typeof r=="string")return this.match({method:t,path:r},s);if(r.method)throw new Error(`Invalid criteria property method passed to call to Router#${t}. Specifying a method in the criteria is redundant.`);return this.match(Z(G({},r),{method:t}),s)}head(t,r){return this.matchMethod(K.HTTP_METHODS.head,t,r)}get(t,r){return this.matchMethod(K.HTTP_METHODS.get,t,r)}post(t,r){return this.matchMethod(K.HTTP_METHODS.post,t,r)}delete(t,r){return this.matchMethod(K.HTTP_METHODS.delete,t,r)}put(t,r){return this.matchMethod(K.HTTP_METHODS.put,t,r)}patch(t,r){return this.matchMethod(K.HTTP_METHODS.patch,t,r)}options(t,r){return this.matchMethod(K.HTTP_METHODS.options,t,r)}fallback(t){return this.routeGroups.setFallback(t),this}catch(t,r){let s;return t instanceof RegExp?s=t:s=new RegExp(`^${t.toString()}$`),this.group(K.ROUTES_CATCH_GROUP,i=>i.match({headers:{"x-0-error-status-code":s},response:{statusCode:s}},async n=>{await r(n),n.cache({edge:!1,browser:{maxAgeSeconds:0}})})),this}builtInFallback(t,r){let s=t.connection;s&&s.remoteAddress?r.writeHead(404):t.headers[K.HTTP_HEADERS.x0Protocol]==="http"?(r.setHeader(K.HTTP_HEADERS.location,`https://${t.headers[K.HTTP_HEADERS.host]}${t.url}`),r.writeHead(301)):r.writeHead(404),r.end()}static(t,r={}){return this.group("root",s=>s.static(t,r))}graphqlOperation(t,r){if(typeof t=="string"||t instanceof RegExp)return this.post({path:"/graphql",body:{parse:"json",criteria:{operationName:t}}},r);{let{path:s,name:i}=t;return this.post({path:s,body:{parse:"json",criteria:{operationName:i}}},r)}}requireBasicAuth(t){return this.group("root",r=>r.requireBasicAuth(t))}createEdgeConfig(){return SO.default(this)}createPreloadConfig(){return my.default.resolvePreloadConfig(this)}getDestinations(){return this.destinations}getRouteGroups(){return this.routeGroups}toString(){return`Routes
======
`+this.routeGroups.getRoutes().map((t,r)=>`${r}:	${t.toString()}`).join(`
`)}static isRequestFromEdge(t){return typeof t.headers[K.HTTP_HEADERS.x0Version]=="string"}};Er.default=Jr});var Ry=v(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});var by=class{constructor(t){this.name=t}byPattern(t){this.pattern=t}toJSON(){if(!this.pattern)throw new Error("byPattern is required for group "+this.name);return{groupedValue:this.name,matchRegex:this.pattern.source}}};yc.default=by});var Sy=v(cn=>{"use strict";var DO=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cn,"__esModule",{value:!0});var MO=DO(Ry()),Ay=class{constructor(){this.groups=[],this.name=null}group(t){let r=new MO.default(t);return this.groups.push(r),r}toJSON(){return this.groups.map(t=>t.toJSON())}};cn.default=Ay});var mc=v(tt=>{"use strict";var kO=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tt,"__esModule",{value:!0});var Cy=kO(Sy()),qO=Vn();tt.CUSTOM_CACHE_KEY_ACTIONS={blacklistAll:"blacklist-all-query-parameters",blacklistSome:"blacklist-some-query-parameters",whitelistSome:"whitelist-some-query-parameters",addValue:"add-value",removeMethod:"remove-method",removeBody:"remove-body"};var Qi=class{constructor(){this.config=[],this.actions=[]}clone(){let t=new Qi;return t.actions=this.actions,t.config=this.config,t}excludeAllQueryParameters(){return this.config.push({action:tt.CUSTOM_CACHE_KEY_ACTIONS.blacklistAll}),this.actions.push((t,r)=>{t.query={}}),this}excludeQueryParameters(...t){return this.config.push({action:tt.CUSTOM_CACHE_KEY_ACTIONS.blacklistSome,names:t}),this.actions.push((r,s)=>{for(let i of t)delete r.query[i]}),this}excludeAllQueryParametersExcept(...t){return this.config.push({action:tt.CUSTOM_CACHE_KEY_ACTIONS.whitelistSome,names:t}),this.actions.push((r,s)=>{let i=new Set(t);for(let n in r.query)i.has(n)||delete r.query[n]}),this}addHeader(t,r){return this.actions.push((s,i)=>{let n=i.headers[t];Array.isArray(n)||(n=[n]),r?s.headers[t]=this.createGroupedValue(r,n):s.headers[t]=n}),this.addValue(`\${req:${t}}`,r)}removeMethod(){return this.actions.push((t,r)=>{t.method=void 0}),this.config.push({action:tt.CUSTOM_CACHE_KEY_ACTIONS.removeMethod}),this}removeBody(){return this.actions.push((t,r)=>{t.body=void 0}),this.config.push({action:tt.CUSTOM_CACHE_KEY_ACTIONS.removeBody}),this}createGroupedValue(t,r){let s=new Cy.default,i=[];t(s);let n=this.findMatchingGroup(s,r);return n?i.push(n):i.push(...r),i}findMatchingGroup(t,r){var s;for(let i of t.groups)for(let n of r)if((s=i.pattern)===null||s===void 0?void 0:s.test(n))return i.name}addDevice(){return this.addHeader("x-0-device")}addVendor(){return this.addHeader("x-0-vendor")}addIsBot(){return this.addHeader("x-0-device-is-bot")}addBrowser(){return this.addHeader("x-0-browser")}addCookie(t,r){return this.actions.push((s,i)=>{let n=i.headers.cookie||"";Array.isArray(n)&&(n=n.join(";"));let l=qO.parse(n)[t];r?s.cookies[t]=this.createGroupedValue(r,[l]):s.cookies[t]=l}),this.addValue(`\${req:cookie:${t}}`,r)}addValue(t,r){let s={action:tt.CUSTOM_CACHE_KEY_ACTIONS.addValue,value:t};if(r!=null){let i=new Cy.default;r(i),s.groups=i.toJSON()}return this.config.push(s),this}getActions(){return this.actions}toJSON(){return this.config}};tt.default=Qi});var wy=v(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});var xy=Ec();function LO(e,t={onConflict:"merge"}){return async r=>{let s=e(IO(r.body));if(!Array.isArray(s)){console.warn(`The function provided to deriveSurrogateKeysFromJson should return an array, but returned a value of type "${typeof s}" instead. Surrogate keys will not be set.`);return}let i=new Set(s);if(t.onConflict==="merge"){let n=r.getHeader(xy.HTTP_HEADERS.x0SurrogateKey);if(n!=null){Array.isArray(n)||(n=[n]);for(let a of n)for(let l of a.split(" "))i.add(l)}}else if(t.onConflict!=="override")throw new Error(`invalid value "${t.onConflict}" for onConflict option in deriveSurrogateKeysFromJson. Use "override" or "merge".`);i.size>0&&r.setHeader(xy.HTTP_HEADERS.x0SurrogateKey,Array.from(i).join(" "))}}vc.default=LO;function IO(e){if(!!e)try{return JSON.parse(typeof e=="string"?e:e.toString("utf8"))}catch{return}}});var Py=v(ln=>{"use strict";var NO=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});var jO=NO(mc());function FO(){return new jO.default}ln.default=FO});var Ty=v(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});var BO=Ey();br.Router=BO.default;var UO=mc();br.CustomCacheKey=UO.default;var GO=yi();br.ResponseWriter=GO.default;var WO=wy();br.deriveSurrogateKeysFromJson=WO.default;var VO=Py();br.createCustomCacheKey=VO.default});var Ec=v(fn=>{"use strict";function Oy(e){for(var t in e)fn.hasOwnProperty(t)||(fn[t]=e[t])}Object.defineProperty(fn,"__esModule",{value:!0});Oy(Ty());Oy(be());var KO=Jt();fn.config=KO.default});var $y=v(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});var Hy=class{onRegister(t){}onRequest(t){}};bc.default=Hy});var My=v((ZD,Dy)=>{Dy.exports=function(){function e(s,i){function n(){this.constructor=s}n.prototype=i.prototype,s.prototype=new n}function t(s,i,n,a,l,d){this.message=s,this.expected=i,this.found=n,this.offset=a,this.line=l,this.column=d,this.name="SyntaxError"}e(t,Error);function r(s){var i=arguments.length>1?arguments[1]:{},n={},a={start:tl},l=tl,d=[],p=function(){return El},c=n,_="#",y={type:"literal",value:"#",description:'"#"'},A=void 0,b={type:"any",description:"any character"},R="[",P={type:"literal",value:"[",description:'"["'},D="]",H={type:"literal",value:"]",description:'"]"'},q=function(o){fo(Pe("ObjectPath",o,xe,we))},I=function(o){fo(Pe("ArrayPath",o,xe,we))},k=function(o,f){return o.concat(f)},V=function(o){return[o]},F=function(o){return o},j=".",z={type:"literal",value:".",description:'"."'},ee="=",w={type:"literal",value:"=",description:'"="'},se=function(o,f){fo(Pe("Assign",f,xe,we,o))},ce=function(o){return o.join("")},st=function(o){return o.value},S='"""',x={type:"literal",value:'"""',description:'"\\"\\"\\""'},pe=null,re=function(o){return Pe("String",o.join(""),xe,we)},Ie='"',Ne={type:"literal",value:'"',description:'"\\""'},Ee="'''",Tt={type:"literal",value:"'''",description:`"'''"`},ss="'",Ot={type:"literal",value:"'",description:`"'"`},nt=function(o){return o},te=function(o){return o},Rr="\\",no={type:"literal",value:"\\",description:'"\\\\"'},N=function(){return""},le="e",M={type:"literal",value:"e",description:'"e"'},J="E",he={type:"literal",value:"E",description:'"E"'},Ce=function(o,f){return Pe("Float",parseFloat(o+"e"+f),xe,we)},ye=function(o){return Pe("Float",parseFloat(o),xe,we)},Gt="+",Ht={type:"literal",value:"+",description:'"+"'},$c=function(o){return o.join("")},ns="-",is={type:"literal",value:"-",description:'"-"'},Dc=function(o){return"-"+o.join("")},xm=function(o){return Pe("Integer",parseInt(o,10),xe,we)},Mc="true",wm={type:"literal",value:"true",description:'"true"'},Pm=function(){return Pe("Boolean",!0,xe,we)},kc="false",Tm={type:"literal",value:"false",description:'"false"'},Om=function(){return Pe("Boolean",!1,xe,we)},Hm=function(){return Pe("Array",[],xe,we)},$m=function(o){return Pe("Array",o?[o]:[],xe,we)},Dm=function(o){return Pe("Array",o,xe,we)},Mm=function(o,f){return Pe("Array",o.concat(f),xe,we)},qc=function(o){return o},Lc=",",Ic={type:"literal",value:",",description:'","'},km="{",qm={type:"literal",value:"{",description:'"{"'},Lm="}",Im={type:"literal",value:"}",description:'"}"'},Nm=function(o){return Pe("InlineTable",o,xe,we)},Nc=function(o,f){return Pe("InlineTableValue",f,xe,we,o)},jm=function(o){return"."+o},Fm=function(o){return o.join("")},os=":",as={type:"literal",value:":",description:'":"'},jc=function(o){return o.join("")},Fc="T",Bc={type:"literal",value:"T",description:'"T"'},Bm="Z",Um={type:"literal",value:"Z",description:'"Z"'},Gm=function(o,f){return Pe("Date",new Date(o+"T"+f+"Z"),xe,we)},Wm=function(o,f){return Pe("Date",new Date(o+"T"+f),xe,we)},Vm=/^[ \t]/,Km={type:"class",value:"[ \\t]",description:"[ \\t]"},Uc=`
`,Gc={type:"literal",value:`
`,description:'"\\n"'},Ym="\r",zm={type:"literal",value:"\r",description:'"\\r"'},Qm=/^[0-9a-f]/i,Xm={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Jm=/^[0-9]/,Zm={type:"class",value:"[0-9]",description:"[0-9]"},ev="_",tv={type:"literal",value:"_",description:'"_"'},rv=function(){return""},sv=/^[A-Za-z0-9_\-]/,nv={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},iv=function(o){return o.join("")},Wc='\\"',ov={type:"literal",value:'\\"',description:'"\\\\\\""'},av=function(){return'"'},Vc="\\\\",uv={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},cv=function(){return"\\"},Kc="\\b",lv={type:"literal",value:"\\b",description:'"\\\\b"'},fv=function(){return"\b"},Yc="\\t",hv={type:"literal",value:"\\t",description:'"\\\\t"'},dv=function(){return"	"},zc="\\n",pv={type:"literal",value:"\\n",description:'"\\\\n"'},gv=function(){return`
`},Qc="\\f",_v={type:"literal",value:"\\f",description:'"\\\\f"'},yv=function(){return"\f"},Xc="\\r",mv={type:"literal",value:"\\r",description:'"\\\\r"'},vv=function(){return"\r"},Jc="\\U",Ev={type:"literal",value:"\\U",description:'"\\\\U"'},Zc=function(o){return jv(o.join(""))},el="\\u",bv={type:"literal",value:"\\u",description:'"\\\\u"'},u=0,B=0,us=0,io={line:1,column:1,seenCR:!1},yn=0,oo=[],T=0,O={},mn;if("startRule"in i){if(!(i.startRule in a))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');l=a[i.startRule]}function $2(){return s.substring(B,u)}function D2(){return B}function xe(){return ao(B).line}function we(){return ao(B).column}function M2(o){throw uo(null,[{type:"other",description:o}],B)}function k2(o){throw uo(o,null,B)}function ao(o){function f(h,g,m){var E,C;for(E=g;E<m;E++)C=s.charAt(E),C===`
`?(h.seenCR||h.line++,h.column=1,h.seenCR=!1):C==="\r"||C==="\u2028"||C==="\u2029"?(h.line++,h.column=1,h.seenCR=!0):(h.column++,h.seenCR=!1)}return us!==o&&(us>o&&(us=0,io={line:1,column:1,seenCR:!1}),f(io,us,o),us=o),io}function $(o){u<yn||(u>yn&&(yn=u,oo=[]),oo.push(o))}function uo(o,f,h){function g(L){var Y=1;for(L.sort(function(ue,ne){return ue.description<ne.description?-1:ue.description>ne.description?1:0});Y<L.length;)L[Y-1]===L[Y]?L.splice(Y,1):Y++}function m(L,Y){function ue(Sr){function $t(Be){return Be.charCodeAt(0).toString(16).toUpperCase()}return Sr.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(Be){return"\\x0"+$t(Be)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(Be){return"\\x"+$t(Be)}).replace(/[\u0180-\u0FFF]/g,function(Be){return"\\u0"+$t(Be)}).replace(/[\u1080-\uFFFF]/g,function(Be){return"\\u"+$t(Be)})}var ne=new Array(L.length),ge,me,Fe;for(Fe=0;Fe<L.length;Fe++)ne[Fe]=L[Fe].description;return ge=L.length>1?ne.slice(0,-1).join(", ")+" or "+ne[L.length-1]:ne[0],me=Y?'"'+ue(Y)+'"':"end of input","Expected "+ge+" but "+me+" found."}var E=ao(h),C=h<s.length?s.charAt(h):null;return f!==null&&g(f),new t(o!==null?o:m(f,C),f,C,h,E.line,E.column)}function tl(){var o,f,h,g=u*49+0,m=O[g];if(m)return u=m.nextPos,m.result;for(o=u,f=[],h=rl();h!==n;)f.push(h),h=rl();return f!==n&&(B=o,f=p()),o=f,O[g]={nextPos:u,result:o},o}function rl(){var o,f,h,g,m,E,C,L=u*49+1,Y=O[L];if(Y)return u=Y.nextPos,Y.result;for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=Rv(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();if(g!==n){for(m=[],E=vn();E!==n;)m.push(E),E=vn();if(m!==n){if(E=[],C=Qe(),C!==n)for(;C!==n;)E.push(C),C=Qe();else E=c;E===n&&(E=bn()),E!==n?(f=[f,h,g,m,E],o=f):(u=o,o=c)}else u=o,o=c}else u=o,o=c}else u=o,o=c;else u=o,o=c;if(o===n){if(o=u,f=[],h=U(),h!==n)for(;h!==n;)f.push(h),h=U();else f=c;if(f!==n){if(h=[],g=Qe(),g!==n)for(;g!==n;)h.push(g),g=Qe();else h=c;h===n&&(h=bn()),h!==n?(f=[f,h],o=f):(u=o,o=c)}else u=o,o=c;o===n&&(o=Qe())}return O[L]={nextPos:u,result:o},o}function Rv(){var o,f=u*49+2,h=O[f];return h?(u=h.nextPos,h.result):(o=vn(),o===n&&(o=Av(),o===n&&(o=Sv(),o===n&&(o=Cv()))),O[f]={nextPos:u,result:o},o)}function vn(){var o,f,h,g,m,E,C=u*49+3,L=O[C];if(L)return u=L.nextPos,L.result;if(o=u,s.charCodeAt(u)===35?(f=_,u++):(f=n,T===0&&$(y)),f!==n){for(h=[],g=u,m=u,T++,E=Qe(),E===n&&(E=bn()),T--,E===n?m=A:(u=m,m=c),m!==n?(s.length>u?(E=s.charAt(u),u++):(E=n,T===0&&$(b)),E!==n?(m=[m,E],g=m):(u=g,g=c)):(u=g,g=c);g!==n;)h.push(g),g=u,m=u,T++,E=Qe(),E===n&&(E=bn()),T--,E===n?m=A:(u=m,m=c),m!==n?(s.length>u?(E=s.charAt(u),u++):(E=n,T===0&&$(b)),E!==n?(m=[m,E],g=m):(u=g,g=c)):(u=g,g=c);h!==n?(f=[f,h],o=f):(u=o,o=c)}else u=o,o=c;return O[C]={nextPos:u,result:o},o}function Av(){var o,f,h,g,m,E,C=u*49+4,L=O[C];if(L)return u=L.nextPos,L.result;if(o=u,s.charCodeAt(u)===91?(f=R,u++):(f=n,T===0&&$(P)),f!==n){for(h=[],g=U();g!==n;)h.push(g),g=U();if(h!==n)if(g=sl(),g!==n){for(m=[],E=U();E!==n;)m.push(E),E=U();m!==n?(s.charCodeAt(u)===93?(E=D,u++):(E=n,T===0&&$(H)),E!==n?(B=o,f=q(g),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;return O[C]={nextPos:u,result:o},o}function Sv(){var o,f,h,g,m,E,C,L,Y=u*49+5,ue=O[Y];if(ue)return u=ue.nextPos,ue.result;if(o=u,s.charCodeAt(u)===91?(f=R,u++):(f=n,T===0&&$(P)),f!==n)if(s.charCodeAt(u)===91?(h=R,u++):(h=n,T===0&&$(P)),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();if(g!==n)if(m=sl(),m!==n){for(E=[],C=U();C!==n;)E.push(C),C=U();E!==n?(s.charCodeAt(u)===93?(C=D,u++):(C=n,T===0&&$(H)),C!==n?(s.charCodeAt(u)===93?(L=D,u++):(L=n,T===0&&$(H)),L!==n?(B=o,f=I(m),o=f):(u=o,o=c)):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c;return O[Y]={nextPos:u,result:o},o}function sl(){var o,f,h,g=u*49+6,m=O[g];if(m)return u=m.nextPos,m.result;if(o=u,f=[],h=il(),h!==n)for(;h!==n;)f.push(h),h=il();else f=c;return f!==n?(h=nl(),h!==n?(B=o,f=k(f,h),o=f):(u=o,o=c)):(u=o,o=c),o===n&&(o=u,f=nl(),f!==n&&(B=o,f=V(f)),o=f),O[g]={nextPos:u,result:o},o}function nl(){var o,f,h,g,m,E=u*49+7,C=O[E];if(C)return u=C.nextPos,C.result;for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=cs(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();g!==n?(B=o,f=F(h),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c;if(o===n){for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=co(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();g!==n?(B=o,f=F(h),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c}return O[E]={nextPos:u,result:o},o}function il(){var o,f,h,g,m,E,C,L=u*49+8,Y=O[L];if(Y)return u=Y.nextPos,Y.result;for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=cs(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();if(g!==n)if(s.charCodeAt(u)===46?(m=j,u++):(m=n,T===0&&$(z)),m!==n){for(E=[],C=U();C!==n;)E.push(C),C=U();E!==n?(B=o,f=F(h),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c;if(o===n){for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=co(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();if(g!==n)if(s.charCodeAt(u)===46?(m=j,u++):(m=n,T===0&&$(z)),m!==n){for(E=[],C=U();C!==n;)E.push(C),C=U();E!==n?(B=o,f=F(h),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c}return O[L]={nextPos:u,result:o},o}function Cv(){var o,f,h,g,m,E,C=u*49+9,L=O[C];if(L)return u=L.nextPos,L.result;if(o=u,f=cs(),f!==n){for(h=[],g=U();g!==n;)h.push(g),g=U();if(h!==n)if(s.charCodeAt(u)===61?(g=ee,u++):(g=n,T===0&&$(w)),g!==n){for(m=[],E=U();E!==n;)m.push(E),E=U();m!==n?(E=Ar(),E!==n?(B=o,f=se(f,E),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;if(o===n)if(o=u,f=co(),f!==n){for(h=[],g=U();g!==n;)h.push(g),g=U();if(h!==n)if(s.charCodeAt(u)===61?(g=ee,u++):(g=n,T===0&&$(w)),g!==n){for(m=[],E=U();E!==n;)m.push(E),E=U();m!==n?(E=Ar(),E!==n?(B=o,f=se(f,E),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;return O[C]={nextPos:u,result:o},o}function cs(){var o,f,h,g=u*49+10,m=O[g];if(m)return u=m.nextPos,m.result;if(o=u,f=[],h=ml(),h!==n)for(;h!==n;)f.push(h),h=ml();else f=c;return f!==n&&(B=o,f=ce(f)),o=f,O[g]={nextPos:u,result:o},o}function co(){var o,f,h=u*49+11,g=O[h];return g?(u=g.nextPos,g.result):(o=u,f=ol(),f!==n&&(B=o,f=st(f)),o=f,o===n&&(o=u,f=al(),f!==n&&(B=o,f=st(f)),o=f),O[h]={nextPos:u,result:o},o)}function Ar(){var o,f=u*49+12,h=O[f];return h?(u=h.nextPos,h.result):(o=xv(),o===n&&(o=Lv(),o===n&&(o=Ov(),o===n&&(o=Hv(),o===n&&(o=$v(),o===n&&(o=Dv(),o===n&&(o=Mv())))))),O[f]={nextPos:u,result:o},o)}function xv(){var o,f=u*49+13,h=O[f];return h?(u=h.nextPos,h.result):(o=wv(),o===n&&(o=ol(),o===n&&(o=Pv(),o===n&&(o=al()))),O[f]={nextPos:u,result:o},o)}function wv(){var o,f,h,g,m,E=u*49+14,C=O[E];if(C)return u=C.nextPos,C.result;if(o=u,s.substr(u,3)===S?(f=S,u+=3):(f=n,T===0&&$(x)),f!==n)if(h=Qe(),h===n&&(h=pe),h!==n){for(g=[],m=ll();m!==n;)g.push(m),m=ll();g!==n?(s.substr(u,3)===S?(m=S,u+=3):(m=n,T===0&&$(x)),m!==n?(B=o,f=re(g),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c;return O[E]={nextPos:u,result:o},o}function ol(){var o,f,h,g,m=u*49+15,E=O[m];if(E)return u=E.nextPos,E.result;if(o=u,s.charCodeAt(u)===34?(f=Ie,u++):(f=n,T===0&&$(Ne)),f!==n){for(h=[],g=ul();g!==n;)h.push(g),g=ul();h!==n?(s.charCodeAt(u)===34?(g=Ie,u++):(g=n,T===0&&$(Ne)),g!==n?(B=o,f=re(h),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;return O[m]={nextPos:u,result:o},o}function Pv(){var o,f,h,g,m,E=u*49+16,C=O[E];if(C)return u=C.nextPos,C.result;if(o=u,s.substr(u,3)===Ee?(f=Ee,u+=3):(f=n,T===0&&$(Tt)),f!==n)if(h=Qe(),h===n&&(h=pe),h!==n){for(g=[],m=fl();m!==n;)g.push(m),m=fl();g!==n?(s.substr(u,3)===Ee?(m=Ee,u+=3):(m=n,T===0&&$(Tt)),m!==n?(B=o,f=re(g),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c;return O[E]={nextPos:u,result:o},o}function al(){var o,f,h,g,m=u*49+17,E=O[m];if(E)return u=E.nextPos,E.result;if(o=u,s.charCodeAt(u)===39?(f=ss,u++):(f=n,T===0&&$(Ot)),f!==n){for(h=[],g=cl();g!==n;)h.push(g),g=cl();h!==n?(s.charCodeAt(u)===39?(g=ss,u++):(g=n,T===0&&$(Ot)),g!==n?(B=o,f=re(h),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;return O[m]={nextPos:u,result:o},o}function ul(){var o,f,h,g=u*49+18,m=O[g];return m?(u=m.nextPos,m.result):(o=vl(),o===n&&(o=u,f=u,T++,s.charCodeAt(u)===34?(h=Ie,u++):(h=n,T===0&&$(Ne)),T--,h===n?f=A:(u=f,f=c),f!==n?(s.length>u?(h=s.charAt(u),u++):(h=n,T===0&&$(b)),h!==n?(B=o,f=nt(h),o=f):(u=o,o=c)):(u=o,o=c)),O[g]={nextPos:u,result:o},o)}function cl(){var o,f,h,g=u*49+19,m=O[g];return m?(u=m.nextPos,m.result):(o=u,f=u,T++,s.charCodeAt(u)===39?(h=ss,u++):(h=n,T===0&&$(Ot)),T--,h===n?f=A:(u=f,f=c),f!==n?(s.length>u?(h=s.charAt(u),u++):(h=n,T===0&&$(b)),h!==n?(B=o,f=nt(h),o=f):(u=o,o=c)):(u=o,o=c),O[g]={nextPos:u,result:o},o)}function ll(){var o,f,h,g=u*49+20,m=O[g];return m?(u=m.nextPos,m.result):(o=vl(),o===n&&(o=Tv(),o===n&&(o=u,f=u,T++,s.substr(u,3)===S?(h=S,u+=3):(h=n,T===0&&$(x)),T--,h===n?f=A:(u=f,f=c),f!==n?(s.length>u?(h=s.charAt(u),u++):(h=n,T===0&&$(b)),h!==n?(B=o,f=te(h),o=f):(u=o,o=c)):(u=o,o=c))),O[g]={nextPos:u,result:o},o)}function Tv(){var o,f,h,g,m,E=u*49+21,C=O[E];if(C)return u=C.nextPos,C.result;if(o=u,s.charCodeAt(u)===92?(f=Rr,u++):(f=n,T===0&&$(no)),f!==n)if(h=Qe(),h!==n){for(g=[],m=yl();m!==n;)g.push(m),m=yl();g!==n?(B=o,f=N(),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c;return O[E]={nextPos:u,result:o},o}function fl(){var o,f,h,g=u*49+22,m=O[g];return m?(u=m.nextPos,m.result):(o=u,f=u,T++,s.substr(u,3)===Ee?(h=Ee,u+=3):(h=n,T===0&&$(Tt)),T--,h===n?f=A:(u=f,f=c),f!==n?(s.length>u?(h=s.charAt(u),u++):(h=n,T===0&&$(b)),h!==n?(B=o,f=nt(h),o=f):(u=o,o=c)):(u=o,o=c),O[g]={nextPos:u,result:o},o)}function Ov(){var o,f,h,g,m=u*49+23,E=O[m];return E?(u=E.nextPos,E.result):(o=u,f=hl(),f===n&&(f=lo()),f!==n?(s.charCodeAt(u)===101?(h=le,u++):(h=n,T===0&&$(M)),h===n&&(s.charCodeAt(u)===69?(h=J,u++):(h=n,T===0&&$(he))),h!==n?(g=lo(),g!==n?(B=o,f=Ce(f,g),o=f):(u=o,o=c)):(u=o,o=c)):(u=o,o=c),o===n&&(o=u,f=hl(),f!==n&&(B=o,f=ye(f)),o=f),O[m]={nextPos:u,result:o},o)}function hl(){var o,f,h,g,m,E,C=u*49+24,L=O[C];return L?(u=L.nextPos,L.result):(o=u,s.charCodeAt(u)===43?(f=Gt,u++):(f=n,T===0&&$(Ht)),f===n&&(f=pe),f!==n?(h=u,g=ls(),g!==n?(s.charCodeAt(u)===46?(m=j,u++):(m=n,T===0&&$(z)),m!==n?(E=ls(),E!==n?(g=[g,m,E],h=g):(u=h,h=c)):(u=h,h=c)):(u=h,h=c),h!==n?(B=o,f=$c(h),o=f):(u=o,o=c)):(u=o,o=c),o===n&&(o=u,s.charCodeAt(u)===45?(f=ns,u++):(f=n,T===0&&$(is)),f!==n?(h=u,g=ls(),g!==n?(s.charCodeAt(u)===46?(m=j,u++):(m=n,T===0&&$(z)),m!==n?(E=ls(),E!==n?(g=[g,m,E],h=g):(u=h,h=c)):(u=h,h=c)):(u=h,h=c),h!==n?(B=o,f=Dc(h),o=f):(u=o,o=c)):(u=o,o=c)),O[C]={nextPos:u,result:o},o)}function Hv(){var o,f,h=u*49+25,g=O[h];return g?(u=g.nextPos,g.result):(o=u,f=lo(),f!==n&&(B=o,f=xm(f)),o=f,O[h]={nextPos:u,result:o},o)}function lo(){var o,f,h,g,m,E=u*49+26,C=O[E];if(C)return u=C.nextPos,C.result;if(o=u,s.charCodeAt(u)===43?(f=Gt,u++):(f=n,T===0&&$(Ht)),f===n&&(f=pe),f!==n){if(h=[],g=oe(),g!==n)for(;g!==n;)h.push(g),g=oe();else h=c;h!==n?(g=u,T++,s.charCodeAt(u)===46?(m=j,u++):(m=n,T===0&&$(z)),T--,m===n?g=A:(u=g,g=c),g!==n?(B=o,f=$c(h),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;if(o===n)if(o=u,s.charCodeAt(u)===45?(f=ns,u++):(f=n,T===0&&$(is)),f!==n){if(h=[],g=oe(),g!==n)for(;g!==n;)h.push(g),g=oe();else h=c;h!==n?(g=u,T++,s.charCodeAt(u)===46?(m=j,u++):(m=n,T===0&&$(z)),T--,m===n?g=A:(u=g,g=c),g!==n?(B=o,f=Dc(h),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;return O[E]={nextPos:u,result:o},o}function $v(){var o,f,h=u*49+27,g=O[h];return g?(u=g.nextPos,g.result):(o=u,s.substr(u,4)===Mc?(f=Mc,u+=4):(f=n,T===0&&$(wm)),f!==n&&(B=o,f=Pm()),o=f,o===n&&(o=u,s.substr(u,5)===kc?(f=kc,u+=5):(f=n,T===0&&$(Tm)),f!==n&&(B=o,f=Om()),o=f),O[h]={nextPos:u,result:o},o)}function Dv(){var o,f,h,g,m,E=u*49+28,C=O[E];if(C)return u=C.nextPos,C.result;if(o=u,s.charCodeAt(u)===91?(f=R,u++):(f=n,T===0&&$(P)),f!==n){for(h=[],g=ze();g!==n;)h.push(g),g=ze();h!==n?(s.charCodeAt(u)===93?(g=D,u++):(g=n,T===0&&$(H)),g!==n?(B=o,f=Hm(),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;if(o===n&&(o=u,s.charCodeAt(u)===91?(f=R,u++):(f=n,T===0&&$(P)),f!==n?(h=dl(),h===n&&(h=pe),h!==n?(s.charCodeAt(u)===93?(g=D,u++):(g=n,T===0&&$(H)),g!==n?(B=o,f=$m(h),o=f):(u=o,o=c)):(u=o,o=c)):(u=o,o=c),o===n)){if(o=u,s.charCodeAt(u)===91?(f=R,u++):(f=n,T===0&&$(P)),f!==n){if(h=[],g=En(),g!==n)for(;g!==n;)h.push(g),g=En();else h=c;h!==n?(s.charCodeAt(u)===93?(g=D,u++):(g=n,T===0&&$(H)),g!==n?(B=o,f=Dm(h),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;if(o===n)if(o=u,s.charCodeAt(u)===91?(f=R,u++):(f=n,T===0&&$(P)),f!==n){if(h=[],g=En(),g!==n)for(;g!==n;)h.push(g),g=En();else h=c;h!==n?(g=dl(),g!==n?(s.charCodeAt(u)===93?(m=D,u++):(m=n,T===0&&$(H)),m!==n?(B=o,f=Mm(h,g),o=f):(u=o,o=c)):(u=o,o=c)):(u=o,o=c)}else u=o,o=c}return O[E]={nextPos:u,result:o},o}function dl(){var o,f,h,g,m,E=u*49+29,C=O[E];if(C)return u=C.nextPos,C.result;for(o=u,f=[],h=ze();h!==n;)f.push(h),h=ze();if(f!==n)if(h=Ar(),h!==n){for(g=[],m=ze();m!==n;)g.push(m),m=ze();g!==n?(B=o,f=qc(h),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c;return O[E]={nextPos:u,result:o},o}function En(){var o,f,h,g,m,E,C,L=u*49+30,Y=O[L];if(Y)return u=Y.nextPos,Y.result;for(o=u,f=[],h=ze();h!==n;)f.push(h),h=ze();if(f!==n)if(h=Ar(),h!==n){for(g=[],m=ze();m!==n;)g.push(m),m=ze();if(g!==n)if(s.charCodeAt(u)===44?(m=Lc,u++):(m=n,T===0&&$(Ic)),m!==n){for(E=[],C=ze();C!==n;)E.push(C),C=ze();E!==n?(B=o,f=qc(h),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c;return O[L]={nextPos:u,result:o},o}function ze(){var o,f=u*49+31,h=O[f];return h?(u=h.nextPos,h.result):(o=U(),o===n&&(o=Qe(),o===n&&(o=vn())),O[f]={nextPos:u,result:o},o)}function Mv(){var o,f,h,g,m,E,C=u*49+32,L=O[C];if(L)return u=L.nextPos,L.result;if(o=u,s.charCodeAt(u)===123?(f=km,u++):(f=n,T===0&&$(qm)),f!==n){for(h=[],g=U();g!==n;)h.push(g),g=U();if(h!==n){for(g=[],m=pl();m!==n;)g.push(m),m=pl();if(g!==n){for(m=[],E=U();E!==n;)m.push(E),E=U();m!==n?(s.charCodeAt(u)===125?(E=Lm,u++):(E=n,T===0&&$(Im)),E!==n?(B=o,f=Nm(g),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c}else u=o,o=c}else u=o,o=c;return O[C]={nextPos:u,result:o},o}function pl(){var o,f,h,g,m,E,C,L,Y,ue,ne,ge=u*49+33,me=O[ge];if(me)return u=me.nextPos,me.result;for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=cs(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();if(g!==n)if(s.charCodeAt(u)===61?(m=ee,u++):(m=n,T===0&&$(w)),m!==n){for(E=[],C=U();C!==n;)E.push(C),C=U();if(E!==n)if(C=Ar(),C!==n){for(L=[],Y=U();Y!==n;)L.push(Y),Y=U();if(L!==n)if(s.charCodeAt(u)===44?(Y=Lc,u++):(Y=n,T===0&&$(Ic)),Y!==n){for(ue=[],ne=U();ne!==n;)ue.push(ne),ne=U();ue!==n?(B=o,f=Nc(h,C),o=f):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c;if(o===n){for(o=u,f=[],h=U();h!==n;)f.push(h),h=U();if(f!==n)if(h=cs(),h!==n){for(g=[],m=U();m!==n;)g.push(m),m=U();if(g!==n)if(s.charCodeAt(u)===61?(m=ee,u++):(m=n,T===0&&$(w)),m!==n){for(E=[],C=U();C!==n;)E.push(C),C=U();E!==n?(C=Ar(),C!==n?(B=o,f=Nc(h,C),o=f):(u=o,o=c)):(u=o,o=c)}else u=o,o=c;else u=o,o=c}else u=o,o=c;else u=o,o=c}return O[ge]={nextPos:u,result:o},o}function gl(){var o,f,h,g=u*49+34,m=O[g];return m?(u=m.nextPos,m.result):(o=u,s.charCodeAt(u)===46?(f=j,u++):(f=n,T===0&&$(z)),f!==n?(h=ls(),h!==n?(B=o,f=jm(h),o=f):(u=o,o=c)):(u=o,o=c),O[g]={nextPos:u,result:o},o)}function _l(){var o,f,h,g,m,E,C,L,Y,ue,ne,ge,me=u*49+35,Fe=O[me];return Fe?(u=Fe.nextPos,Fe.result):(o=u,f=u,h=oe(),h!==n?(g=oe(),g!==n?(m=oe(),m!==n?(E=oe(),E!==n?(s.charCodeAt(u)===45?(C=ns,u++):(C=n,T===0&&$(is)),C!==n?(L=oe(),L!==n?(Y=oe(),Y!==n?(s.charCodeAt(u)===45?(ue=ns,u++):(ue=n,T===0&&$(is)),ue!==n?(ne=oe(),ne!==n?(ge=oe(),ge!==n?(h=[h,g,m,E,C,L,Y,ue,ne,ge],f=h):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c),f!==n&&(B=o,f=Fm(f)),o=f,O[me]={nextPos:u,result:o},o)}function kv(){var o,f,h,g,m,E,C,L,Y,ue,ne,ge=u*49+36,me=O[ge];return me?(u=me.nextPos,me.result):(o=u,f=u,h=oe(),h!==n?(g=oe(),g!==n?(s.charCodeAt(u)===58?(m=os,u++):(m=n,T===0&&$(as)),m!==n?(E=oe(),E!==n?(C=oe(),C!==n?(s.charCodeAt(u)===58?(L=os,u++):(L=n,T===0&&$(as)),L!==n?(Y=oe(),Y!==n?(ue=oe(),ue!==n?(ne=gl(),ne===n&&(ne=pe),ne!==n?(h=[h,g,m,E,C,L,Y,ue,ne],f=h):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c),f!==n&&(B=o,f=jc(f)),o=f,O[ge]={nextPos:u,result:o},o)}function qv(){var o,f,h,g,m,E,C,L,Y,ue,ne,ge,me,Fe,Sr,$t,Be,bl=u*49+37,ho=O[bl];return ho?(u=ho.nextPos,ho.result):(o=u,f=u,h=oe(),h!==n?(g=oe(),g!==n?(s.charCodeAt(u)===58?(m=os,u++):(m=n,T===0&&$(as)),m!==n?(E=oe(),E!==n?(C=oe(),C!==n?(s.charCodeAt(u)===58?(L=os,u++):(L=n,T===0&&$(as)),L!==n?(Y=oe(),Y!==n?(ue=oe(),ue!==n?(ne=gl(),ne===n&&(ne=pe),ne!==n?(s.charCodeAt(u)===45?(ge=ns,u++):(ge=n,T===0&&$(is)),ge===n&&(s.charCodeAt(u)===43?(ge=Gt,u++):(ge=n,T===0&&$(Ht))),ge!==n?(me=oe(),me!==n?(Fe=oe(),Fe!==n?(s.charCodeAt(u)===58?(Sr=os,u++):(Sr=n,T===0&&$(as)),Sr!==n?($t=oe(),$t!==n?(Be=oe(),Be!==n?(h=[h,g,m,E,C,L,Y,ue,ne,ge,me,Fe,Sr,$t,Be],f=h):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c)):(u=f,f=c),f!==n&&(B=o,f=jc(f)),o=f,O[bl]={nextPos:u,result:o},o)}function Lv(){var o,f,h,g,m,E=u*49+38,C=O[E];return C?(u=C.nextPos,C.result):(o=u,f=_l(),f!==n?(s.charCodeAt(u)===84?(h=Fc,u++):(h=n,T===0&&$(Bc)),h!==n?(g=kv(),g!==n?(s.charCodeAt(u)===90?(m=Bm,u++):(m=n,T===0&&$(Um)),m!==n?(B=o,f=Gm(f,g),o=f):(u=o,o=c)):(u=o,o=c)):(u=o,o=c)):(u=o,o=c),o===n&&(o=u,f=_l(),f!==n?(s.charCodeAt(u)===84?(h=Fc,u++):(h=n,T===0&&$(Bc)),h!==n?(g=qv(),g!==n?(B=o,f=Wm(f,g),o=f):(u=o,o=c)):(u=o,o=c)):(u=o,o=c)),O[E]={nextPos:u,result:o},o)}function U(){var o,f=u*49+39,h=O[f];return h?(u=h.nextPos,h.result):(Vm.test(s.charAt(u))?(o=s.charAt(u),u++):(o=n,T===0&&$(Km)),O[f]={nextPos:u,result:o},o)}function Qe(){var o,f,h,g=u*49+40,m=O[g];return m?(u=m.nextPos,m.result):(s.charCodeAt(u)===10?(o=Uc,u++):(o=n,T===0&&$(Gc)),o===n&&(o=u,s.charCodeAt(u)===13?(f=Ym,u++):(f=n,T===0&&$(zm)),f!==n?(s.charCodeAt(u)===10?(h=Uc,u++):(h=n,T===0&&$(Gc)),h!==n?(f=[f,h],o=f):(u=o,o=c)):(u=o,o=c)),O[g]={nextPos:u,result:o},o)}function yl(){var o,f=u*49+41,h=O[f];return h?(u=h.nextPos,h.result):(o=Qe(),o===n&&(o=U()),O[f]={nextPos:u,result:o},o)}function bn(){var o,f,h=u*49+42,g=O[h];return g?(u=g.nextPos,g.result):(o=u,T++,s.length>u?(f=s.charAt(u),u++):(f=n,T===0&&$(b)),T--,f===n?o=A:(u=o,o=c),O[h]={nextPos:u,result:o},o)}function Xe(){var o,f=u*49+43,h=O[f];return h?(u=h.nextPos,h.result):(Qm.test(s.charAt(u))?(o=s.charAt(u),u++):(o=n,T===0&&$(Xm)),O[f]={nextPos:u,result:o},o)}function oe(){var o,f,h=u*49+44,g=O[h];return g?(u=g.nextPos,g.result):(Jm.test(s.charAt(u))?(o=s.charAt(u),u++):(o=n,T===0&&$(Zm)),o===n&&(o=u,s.charCodeAt(u)===95?(f=ev,u++):(f=n,T===0&&$(tv)),f!==n&&(B=o,f=rv()),o=f),O[h]={nextPos:u,result:o},o)}function ml(){var o,f=u*49+45,h=O[f];return h?(u=h.nextPos,h.result):(sv.test(s.charAt(u))?(o=s.charAt(u),u++):(o=n,T===0&&$(nv)),O[f]={nextPos:u,result:o},o)}function ls(){var o,f,h,g=u*49+46,m=O[g];if(m)return u=m.nextPos,m.result;if(o=u,f=[],h=oe(),h!==n)for(;h!==n;)f.push(h),h=oe();else f=c;return f!==n&&(B=o,f=iv(f)),o=f,O[g]={nextPos:u,result:o},o}function vl(){var o,f,h=u*49+47,g=O[h];return g?(u=g.nextPos,g.result):(o=u,s.substr(u,2)===Wc?(f=Wc,u+=2):(f=n,T===0&&$(ov)),f!==n&&(B=o,f=av()),o=f,o===n&&(o=u,s.substr(u,2)===Vc?(f=Vc,u+=2):(f=n,T===0&&$(uv)),f!==n&&(B=o,f=cv()),o=f,o===n&&(o=u,s.substr(u,2)===Kc?(f=Kc,u+=2):(f=n,T===0&&$(lv)),f!==n&&(B=o,f=fv()),o=f,o===n&&(o=u,s.substr(u,2)===Yc?(f=Yc,u+=2):(f=n,T===0&&$(hv)),f!==n&&(B=o,f=dv()),o=f,o===n&&(o=u,s.substr(u,2)===zc?(f=zc,u+=2):(f=n,T===0&&$(pv)),f!==n&&(B=o,f=gv()),o=f,o===n&&(o=u,s.substr(u,2)===Qc?(f=Qc,u+=2):(f=n,T===0&&$(_v)),f!==n&&(B=o,f=yv()),o=f,o===n&&(o=u,s.substr(u,2)===Xc?(f=Xc,u+=2):(f=n,T===0&&$(mv)),f!==n&&(B=o,f=vv()),o=f,o===n&&(o=Iv()))))))),O[h]={nextPos:u,result:o},o)}function Iv(){var o,f,h,g,m,E,C,L,Y,ue,ne,ge=u*49+48,me=O[ge];return me?(u=me.nextPos,me.result):(o=u,s.substr(u,2)===Jc?(f=Jc,u+=2):(f=n,T===0&&$(Ev)),f!==n?(h=u,g=Xe(),g!==n?(m=Xe(),m!==n?(E=Xe(),E!==n?(C=Xe(),C!==n?(L=Xe(),L!==n?(Y=Xe(),Y!==n?(ue=Xe(),ue!==n?(ne=Xe(),ne!==n?(g=[g,m,E,C,L,Y,ue,ne],h=g):(u=h,h=c)):(u=h,h=c)):(u=h,h=c)):(u=h,h=c)):(u=h,h=c)):(u=h,h=c)):(u=h,h=c)):(u=h,h=c),h!==n?(B=o,f=Zc(h),o=f):(u=o,o=c)):(u=o,o=c),o===n&&(o=u,s.substr(u,2)===el?(f=el,u+=2):(f=n,T===0&&$(bv)),f!==n?(h=u,g=Xe(),g!==n?(m=Xe(),m!==n?(E=Xe(),E!==n?(C=Xe(),C!==n?(g=[g,m,E,C],h=g):(u=h,h=c)):(u=h,h=c)):(u=h,h=c)):(u=h,h=c),h!==n?(B=o,f=Zc(h),o=f):(u=o,o=c)):(u=o,o=c)),O[ge]={nextPos:u,result:o},o)}var El=[];function Nv(o,f,h){var g=new Error(o);throw g.line=f,g.column=h,g}function fo(o){El.push(o)}function Pe(o,f,h,g,m){var E={type:o,value:f,line:h(),column:g()};return m&&(E.key=m),E}function jv(o,f,h){var g=parseInt("0x"+o);if(!isFinite(g)||Math.floor(g)!=g||g<0||g>1114111||g>55295&&g<57344)Nv("Invalid Unicode escape code: "+o,f,h);else return Fv(g)}function Fv(){var o=16384,f=[],h,g,m=-1,E=arguments.length;if(!E)return"";for(var C="";++m<E;){var L=Number(arguments[m]);L<=65535?f.push(L):(L-=65536,h=(L>>10)+55296,g=L%1024+56320,f.push(h,g)),(m+1==E||f.length>o)&&(C+=String.fromCharCode.apply(null,f),f.length=0)}return C}if(mn=l(),mn!==n&&u===s.length)return mn;throw mn!==n&&u<s.length&&$({type:"end",description:"end of input"}),uo(null,oo,yn)}return{SyntaxError:t,parse:r}}()});var qy=v((eM,ky)=>{"use strict";function YO(e){var t=[],r=[],s="",i=Object.create(null),n=i,a=!1;return l(e);function l(H){for(var q,I=0;I<H.length;I++)switch(q=H[I],q.type){case"Assign":p(q);break;case"ObjectPath":A(q);break;case"ArrayPath":b(q);break}return i}function d(H,q,I){var k=new Error(H);throw k.line=q,k.column=I,k}function p(H){var q=H.key,I=H.value,k=H.line,V=H.column,F;s?F=s+"."+q:F=q,typeof n[q]!="undefined"&&d("Cannot redefine existing key '"+F+"'.",k,V),n[q]=_(I),c(F)||(t.push(F),r.push(F))}function c(H){return t.indexOf(H)!==-1}function _(H){return H.type==="Array"?P(H.value):H.type==="InlineTable"?y(H.value):H.value}function y(H){for(var q=Object.create(null),I=0;I<H.length;I++){var k=H[I];k.value.type==="InlineTable"?q[k.key]=y(k.value.value):k.type==="InlineTableValue"&&(q[k.key]=_(k.value))}return q}function A(H){var q=H.value,I=q.map(D).join("."),k=H.line,V=H.column;c(I)&&d("Cannot redefine existing key '"+q+"'.",k,V),t.push(I),n=R(i,q,Object.create(null),k,V),s=q}function b(H){var q=H.value,I=q.map(D).join("."),k=H.line,V=H.column;if(c(I)||t.push(I),t=t.filter(function(j){return j.indexOf(I)!==0}),t.push(I),n=R(i,q,[],k,V),s=I,n instanceof Array){var F=Object.create(null);n.push(F),n=F}else d("Cannot redefine existing key '"+q+"'.",k,V)}function R(H,q,I,k,V){for(var F=[],j="",z=q.join("."),ee=H,w=0;w<q.length;w++){var se=q[w];F.push(se),j=F.join("."),typeof ee[se]=="undefined"?w===q.length-1?ee[se]=I:ee[se]=Object.create(null):w!==q.length-1&&r.indexOf(j)>-1&&d("Cannot redefine existing key '"+j+"'.",k,V),ee=ee[se],ee instanceof Array&&ee.length&&w<q.length-1&&(ee=ee[ee.length-1])}return ee}function P(H){for(var q=null,I=0;I<H.length;I++){var k=H[I];q===null?q=k.type:k.type!==q&&d("Cannot add value of type "+k.type+" to array of type "+q+".",k.line,k.column)}return H.map(_)}function D(H){return H.indexOf(".")>-1?'"'+H+'"':H}}ky.exports={compile:YO}});var Iy=v((tM,Ly)=>{var zO=My(),QO=qy();Ly.exports={parse:function(e){var t=zO.parse(e.toString());return QO.compile(t)}}});var jy=v((rM,Ny)=>{"use strict";Ny.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Rc=v((sM,By)=>{var hn=jy(),Fy={};for(let e of Object.keys(hn))Fy[hn[e]]=e;var W={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};By.exports=W;for(let e of Object.keys(W)){if(!("channels"in W[e]))throw new Error("missing channels property: "+e);if(!("labels"in W[e]))throw new Error("missing channel labels property: "+e);if(W[e].labels.length!==W[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=W[e];delete W[e].channels,delete W[e].labels,Object.defineProperty(W[e],"channels",{value:t}),Object.defineProperty(W[e],"labels",{value:r})}W.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,i=Math.min(t,r,s),n=Math.max(t,r,s),a=n-i,l,d;n===i?l=0:t===n?l=(r-s)/a:r===n?l=2+(s-t)/a:s===n&&(l=4+(t-r)/a),l=Math.min(l*60,360),l<0&&(l+=360);let p=(i+n)/2;return n===i?d=0:p<=.5?d=a/(n+i):d=a/(2-n-i),[l,d*100,p*100]};W.rgb.hsv=function(e){let t,r,s,i,n,a=e[0]/255,l=e[1]/255,d=e[2]/255,p=Math.max(a,l,d),c=p-Math.min(a,l,d),_=function(y){return(p-y)/6/c+1/2};return c===0?(i=0,n=0):(n=c/p,t=_(a),r=_(l),s=_(d),a===p?i=s-r:l===p?i=1/3+t-s:d===p&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,n*100,p*100]};W.rgb.hwb=function(e){let t=e[0],r=e[1],s=e[2],i=W.rgb.hsl(e)[0],n=1/255*Math.min(t,Math.min(r,s));return s=1-1/255*Math.max(t,Math.max(r,s)),[i,n*100,s*100]};W.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,i=Math.min(1-t,1-r,1-s),n=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0,l=(1-s-i)/(1-i)||0;return[n*100,a*100,l*100,i*100]};function XO(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}W.rgb.keyword=function(e){let t=Fy[e];if(t)return t;let r=1/0,s;for(let i of Object.keys(hn)){let n=hn[i],a=XO(e,n);a<r&&(r=a,s=i)}return s};W.keyword.rgb=function(e){return hn[e]};W.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;let i=t*.4124+r*.3576+s*.1805,n=t*.2126+r*.7152+s*.0722,a=t*.0193+r*.1192+s*.9505;return[i*100,n*100,a*100]};W.rgb.lab=function(e){let t=W.rgb.xyz(e),r=t[0],s=t[1],i=t[2];r/=95.047,s/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*s-16,a=500*(r-s),l=200*(s-i);return[n,a,l]};W.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,i,n,a;if(r===0)return a=s*255,[a,a,a];s<.5?i=s*(1+r):i=s+r-s*r;let l=2*s-i,d=[0,0,0];for(let p=0;p<3;p++)n=t+1/3*-(p-1),n<0&&n++,n>1&&n--,6*n<1?a=l+(i-l)*6*n:2*n<1?a=i:3*n<2?a=l+(i-l)*(2/3-n)*6:a=l,d[p]=a*255;return d};W.hsl.hsv=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,i=r,n=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,i*=n<=1?n:2-n;let a=(s+r)/2,l=s===0?2*i/(n+i):2*r/(s+r);return[t,l*100,a*100]};W.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,s=e[2]/100,i=Math.floor(t)%6,n=t-Math.floor(t),a=255*s*(1-r),l=255*s*(1-r*n),d=255*s*(1-r*(1-n));switch(s*=255,i){case 0:return[s,d,a];case 1:return[l,s,a];case 2:return[a,s,d];case 3:return[a,l,s];case 4:return[d,a,s];case 5:return[s,a,l]}};W.hsv.hsl=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,i=Math.max(s,.01),n,a;a=(2-r)*s;let l=(2-r)*i;return n=r*i,n/=l<=1?l:2-l,n=n||0,a/=2,[t,n*100,a*100]};W.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,i=r+s,n;i>1&&(r/=i,s/=i);let a=Math.floor(6*t),l=1-s;n=6*t-a,(a&1)!=0&&(n=1-n);let d=r+n*(l-r),p,c,_;switch(a){default:case 6:case 0:p=l,c=d,_=r;break;case 1:p=d,c=l,_=r;break;case 2:p=r,c=l,_=d;break;case 3:p=r,c=d,_=l;break;case 4:p=d,c=r,_=l;break;case 5:p=l,c=r,_=d;break}return[p*255,c*255,_*255]};W.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,i=e[3]/100,n=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i),l=1-Math.min(1,s*(1-i)+i);return[n*255,a*255,l*255]};W.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,i,n,a;return i=t*3.2406+r*-1.5372+s*-.4986,n=t*-.9689+r*1.8758+s*.0415,a=t*.0557+r*-.204+s*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),a=Math.min(Math.max(0,a),1),[i*255,n*255,a*255]};W.xyz.lab=function(e){let t=e[0],r=e[1],s=e[2];t/=95.047,r/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let i=116*r-16,n=500*(t-r),a=200*(r-s);return[i,n,a]};W.lab.xyz=function(e){let t=e[0],r=e[1],s=e[2],i,n,a;n=(t+16)/116,i=r/500+n,a=n-s/200;let l=n**3,d=i**3,p=a**3;return n=l>.008856?l:(n-16/116)/7.787,i=d>.008856?d:(i-16/116)/7.787,a=p>.008856?p:(a-16/116)/7.787,i*=95.047,n*=100,a*=108.883,[i,n,a]};W.lab.lch=function(e){let t=e[0],r=e[1],s=e[2],i;i=Math.atan2(s,r)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(r*r+s*s);return[t,a,i]};W.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,n=r*Math.cos(i),a=r*Math.sin(i);return[t,n,a]};W.rgb.ansi16=function(e,t=null){let[r,s,i]=e,n=t===null?W.rgb.hsv(e)[2]:t;if(n=Math.round(n/50),n===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return n===2&&(a+=60),a};W.hsv.ansi16=function(e){return W.rgb.ansi16(W.hsv.rgb(e),e[2])};W.rgb.ansi256=function(e){let t=e[0],r=e[1],s=e[2];return t===r&&r===s?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)};W.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,s=(t&1)*r*255,i=(t>>1&1)*r*255,n=(t>>2&1)*r*255;return[s,i,n]};W.ansi256.rgb=function(e){if(e>=232){let n=(e-232)*10+8;return[n,n,n]}e-=16;let t,r=Math.floor(e/36)/5*255,s=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,s,i]};W.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};W.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(l=>l+l).join(""));let s=parseInt(r,16),i=s>>16&255,n=s>>8&255,a=s&255;return[i,n,a]};W.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,i=Math.max(Math.max(t,r),s),n=Math.min(Math.min(t,r),s),a=i-n,l,d;return a<1?l=n/(1-a):l=0,a<=0?d=0:i===t?d=(r-s)/a%6:i===r?d=2+(s-t)/a:d=4+(t-r)/a,d/=6,d%=1,[d*360,a*100,l*100]};W.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=r<.5?2*t*r:2*t*(1-r),i=0;return s<1&&(i=(r-.5*s)/(1-s)),[e[0],s*100,i*100]};W.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=t*r,i=0;return s<1&&(i=(r-s)/(1-s)),[e[0],s*100,i*100]};W.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100;if(r===0)return[s*255,s*255,s*255];let i=[0,0,0],n=t%1*6,a=n%1,l=1-a,d=0;switch(Math.floor(n)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return d=(1-r)*s,[(r*i[0]+d)*255,(r*i[1]+d)*255,(r*i[2]+d)*255]};W.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t),i=0;return s>0&&(i=t/s),[e[0],i*100,s*100]};W.hcg.hsl=function(e){let t=e[1]/100,s=e[2]/100*(1-t)+.5*t,i=0;return s>0&&s<.5?i=t/(2*s):s>=.5&&s<1&&(i=t/(2*(1-s))),[e[0],i*100,s*100]};W.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t);return[e[0],(s-t)*100,(1-s)*100]};W.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=1-r,i=s-t,n=0;return i<1&&(n=(s-i)/(1-i)),[e[0],i*100,n*100]};W.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};W.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};W.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};W.gray.hsl=function(e){return[0,0,e[0]]};W.gray.hsv=W.gray.hsl;W.gray.hwb=function(e){return[0,100,e[0]]};W.gray.cmyk=function(e){return[0,0,0,e[0]]};W.gray.lab=function(e){return[e[0],0,0]};W.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,s=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(s.length)+s};W.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Gy=v((nM,Uy)=>{var Xi=Rc();function JO(){let e={},t=Object.keys(Xi);for(let r=t.length,s=0;s<r;s++)e[t[s]]={distance:-1,parent:null};return e}function ZO(e){let t=JO(),r=[e];for(t[e].distance=0;r.length;){let s=r.pop(),i=Object.keys(Xi[s]);for(let n=i.length,a=0;a<n;a++){let l=i[a],d=t[l];d.distance===-1&&(d.distance=t[s].distance+1,d.parent=s,r.unshift(l))}}return t}function e2(e,t){return function(r){return t(e(r))}}function t2(e,t){let r=[t[e].parent,e],s=Xi[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),s=e2(Xi[t[i].parent][i],s),i=t[i].parent;return s.conversion=r,s}Uy.exports=function(e){let t=ZO(e),r={},s=Object.keys(t);for(let i=s.length,n=0;n<i;n++){let a=s[n];t[a].parent!==null&&(r[a]=t2(a,t))}return r}});var Vy=v((iM,Wy)=>{var Ac=Rc(),r2=Gy(),Zr={},s2=Object.keys(Ac);function n2(e){let t=function(...r){let s=r[0];return s==null?s:(s.length>1&&(r=s),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function i2(e){let t=function(...r){let s=r[0];if(s==null)return s;s.length>1&&(r=s);let i=e(r);if(typeof i=="object")for(let n=i.length,a=0;a<n;a++)i[a]=Math.round(i[a]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}s2.forEach(e=>{Zr[e]={},Object.defineProperty(Zr[e],"channels",{value:Ac[e].channels}),Object.defineProperty(Zr[e],"labels",{value:Ac[e].labels});let t=r2(e);Object.keys(t).forEach(s=>{let i=t[s];Zr[e][s]=i2(i),Zr[e][s].raw=n2(i)})});Wy.exports=Zr});var Jy=v((oM,Xy)=>{"use strict";var Ky=(e,t)=>(...r)=>`[${e(...r)+t}m`,Yy=(e,t)=>(...r)=>{let s=e(...r);return`[${38+t};5;${s}m`},zy=(e,t)=>(...r)=>{let s=e(...r);return`[${38+t};2;${s[0]};${s[1]};${s[2]}m`},Ji=e=>e,Qy=(e,t,r)=>[e,t,r],es=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let s=r();return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0}),s},enumerable:!0,configurable:!0})},Sc,ts=(e,t,r,s)=>{Sc===void 0&&(Sc=Vy());let i=s?10:0,n={};for(let[a,l]of Object.entries(Sc)){let d=a==="ansi16"?"ansi":a;a===t?n[d]=e(r,i):typeof l=="object"&&(n[d]=e(l[t],i))}return n};function o2(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,s]of Object.entries(t)){for(let[i,n]of Object.entries(s))t[i]={open:`[${n[0]}m`,close:`[${n[1]}m`},s[i]=t[i],e.set(n[0],n[1]);Object.defineProperty(t,r,{value:s,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",es(t.color,"ansi",()=>ts(Ky,"ansi16",Ji,!1)),es(t.color,"ansi256",()=>ts(Yy,"ansi256",Ji,!1)),es(t.color,"ansi16m",()=>ts(zy,"rgb",Qy,!1)),es(t.bgColor,"ansi",()=>ts(Ky,"ansi16",Ji,!0)),es(t.bgColor,"ansi256",()=>ts(Yy,"ansi256",Ji,!0)),es(t.bgColor,"ansi16m",()=>ts(zy,"rgb",Qy,!0)),t}Object.defineProperty(Xy,"exports",{enumerable:!0,get:o2})});var em=v((aM,Zy)=>{"use strict";Zy.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(r+e),i=t.indexOf("--");return s!==-1&&(i===-1||s<i)}});var sm=v((uM,rm)=>{"use strict";var a2=require("os"),tm=require("tty"),rt=em(),{env:Se}=process,Ut;rt("no-color")||rt("no-colors")||rt("color=false")||rt("color=never")?Ut=0:(rt("color")||rt("colors")||rt("color=true")||rt("color=always"))&&(Ut=1);"FORCE_COLOR"in Se&&(Se.FORCE_COLOR==="true"?Ut=1:Se.FORCE_COLOR==="false"?Ut=0:Ut=Se.FORCE_COLOR.length===0?1:Math.min(parseInt(Se.FORCE_COLOR,10),3));function Cc(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function xc(e,t){if(Ut===0)return 0;if(rt("color=16m")||rt("color=full")||rt("color=truecolor"))return 3;if(rt("color=256"))return 2;if(e&&!t&&Ut===void 0)return 0;let r=Ut||0;if(Se.TERM==="dumb")return r;if(process.platform==="win32"){let s=a2.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in Se)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in Se)||Se.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Se)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Se.TEAMCITY_VERSION)?1:0;if(Se.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Se){let s=parseInt((Se.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Se.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Se.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Se.TERM)||"COLORTERM"in Se?1:r}function u2(e){let t=xc(e,e&&e.isTTY);return Cc(t)}rm.exports={supportsColor:u2,stdout:Cc(xc(!0,tm.isatty(1))),stderr:Cc(xc(!0,tm.isatty(2)))}});var im=v((cM,nm)=>{"use strict";var c2=(e,t,r)=>{let s=e.indexOf(t);if(s===-1)return e;let i=t.length,n=0,a="";do a+=e.substr(n,s-n)+t+r,n=s+i,s=e.indexOf(t,n);while(s!==-1);return a+=e.substr(n),a},l2=(e,t,r,s)=>{let i=0,n="";do{let a=e[s-1]==="\r";n+=e.substr(i,(a?s-1:s)-i)+t+(a?`\r
`:`
`)+r,i=s+1,s=e.indexOf(`
`,i)}while(s!==-1);return n+=e.substr(i),n};nm.exports={stringReplaceAll:c2,stringEncaseCRLFWithFirstIndex:l2}});var lm=v((lM,cm)=>{"use strict";var f2=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,om=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,h2=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,d2=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,p2=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function am(e){let t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):p2.get(e)||e}function g2(e,t){let r=[],s=t.trim().split(/\s*,\s*/g),i;for(let n of s){let a=Number(n);if(!Number.isNaN(a))r.push(a);else if(i=n.match(h2))r.push(i[2].replace(d2,(l,d,p)=>d?am(d):p));else throw new Error(`Invalid Chalk template style argument: ${n} (in style '${e}')`)}return r}function _2(e){om.lastIndex=0;let t=[],r;for(;(r=om.exec(e))!==null;){let s=r[1];if(r[2]){let i=g2(s,r[2]);t.push([s].concat(i))}else t.push([s])}return t}function um(e,t){let r={};for(let i of t)for(let n of i.styles)r[n[0]]=i.inverse?null:n.slice(1);let s=e;for(let[i,n]of Object.entries(r))if(!!Array.isArray(n)){if(!(i in s))throw new Error(`Unknown Chalk style: ${i}`);s=n.length>0?s[i](...n):s[i]}return s}cm.exports=(e,t)=>{let r=[],s=[],i=[];if(t.replace(f2,(n,a,l,d,p,c)=>{if(a)i.push(am(a));else if(d){let _=i.join("");i=[],s.push(r.length===0?_:um(e,r)(_)),r.push({inverse:l,styles:_2(d)})}else if(p){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");s.push(um(e,r)(i.join(""))),i=[],r.pop()}else i.push(c)}),s.push(i.join("")),r.length>0){let n=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(n)}return s.join("")}});var mm=v((fM,ym)=>{"use strict";var dn=Jy(),{stdout:wc,stderr:Pc}=sm(),{stringReplaceAll:y2,stringEncaseCRLFWithFirstIndex:m2}=im(),{isArray:Zi}=Array,fm=["ansi","ansi","ansi256","ansi16m"],rs=Object.create(null),v2=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=wc?wc.level:0;e.level=t.level===void 0?r:t.level},hm=class{constructor(t){return dm(t)}},dm=e=>{let t={};return v2(t,e),t.template=(...r)=>_m(t.template,...r),Object.setPrototypeOf(t,eo.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=hm,t.template};function eo(e){return dm(e)}for(let[e,t]of Object.entries(dn))rs[e]={get(){let r=to(this,Tc(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};rs.visible={get(){let e=to(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var pm=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of pm)rs[e]={get(){let{level:t}=this;return function(...r){let s=Tc(dn.color[fm[t]][e](...r),dn.color.close,this._styler);return to(this,s,this._isEmpty)}}};for(let e of pm){let t="bg"+e[0].toUpperCase()+e.slice(1);rs[t]={get(){let{level:r}=this;return function(...s){let i=Tc(dn.bgColor[fm[r]][e](...s),dn.bgColor.close,this._styler);return to(this,i,this._isEmpty)}}}}var E2=Object.defineProperties(()=>{},Z(G({},rs),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),Tc=(e,t,r)=>{let s,i;return r===void 0?(s=e,i=t):(s=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:s,closeAll:i,parent:r}},to=(e,t,r)=>{let s=(...i)=>Zi(i[0])&&Zi(i[0].raw)?gm(s,_m(s,...i)):gm(s,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(s,E2),s._generator=e,s._styler=t,s._isEmpty=r,s},gm=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;let{openAll:s,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=y2(t,r.close,r.open),r=r.parent;let n=t.indexOf(`
`);return n!==-1&&(t=m2(t,i,s,n)),s+t+i},Oc,_m=(e,...t)=>{let[r]=t;if(!Zi(r)||!Zi(r.raw))return t.join(" ");let s=t.slice(1),i=[r.raw[0]];for(let n=1;n<r.length;n++)i.push(String(s[n-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[n]));return Oc===void 0&&(Oc=lm()),Oc(e,i.join(""))};Object.defineProperties(eo.prototype,rs);var ro=eo();ro.supportsColor=wc;ro.stderr=eo({level:Pc?Pc.level:0});ro.stderr.supportsColor=Pc;ym.exports=ro});var vm=v(pn=>{"use strict";var so=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pn,"__esModule",{value:!0});var b2=so(require("fs")),R2=so(require("path")),A2=so(Iy()),S2=so(mm());function C2(e){try{return A2.default.parse(b2.default.readFileSync(e||R2.default.join(process.cwd(),"redwood.toml"),"utf8"))}catch{console.log(S2.default.red.bold('Error: Unable to parse "redwood.toml". Please validate this file exists and try again.')),process.exit(1)}}pn.default=C2});var Rm=v(gn=>{"use strict";var Em=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});var x2=Em($y()),w2=Em(vm()),P2=Vt(),Hc=60*60*24*365,bm=class extends x2.default{constructor(){super(...arguments);this.routeGroupName="redwood_routes"}onRegister(t){this.router=t,P2.isProductionBuild()?this.router.group(this.routeGroupName,r=>this.addRoutesToGroup(r)):this.router.fallback(r=>r.renderWithApp())}addRoutesToGroup(t){let r=w2.default();t.match(`${r.web.apiUrl}/:path*`,({renderWithApp:s})=>{s()}),t.match("/static/:path*",({cache:s,serveStatic:i})=>{s({browser:!1,edge:{maxAgeSeconds:Hc}}),i("web/dist/static/:path*")}),t.match("/",({cache:s,serveStatic:i})=>{s({browser:!1,edge:{maxAgeSeconds:Hc}}),i("web/dist/index.html")}),t.match("/:path*",({cache:s,serveStatic:i})=>{s({browser:!1,edge:{maxAgeSeconds:Hc}}),i("web/dist/:path*.html",{onNotFound:async()=>{await i("web/dist/200.html",{onNotFound:async()=>{await i("web/dist/index.html")}})}})})}};gn.default=bm});var Am=v(_n=>{"use strict";var T2=_n&&_n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});var O2=T2(Rm());_n.redwoodRoutes=new O2.default});Yv(exports,{default:()=>H2});var Sm=xl(Ec()),Cm=xl(Am()),H2=new Sm.Router().use(Cm.redwoodRoutes);0&&(module.exports={});
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */
/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque sadagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=routes.js.map
